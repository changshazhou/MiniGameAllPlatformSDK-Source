!function(){"use strict";var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(t,o)};function t(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var o,n=1,e=arguments.length;n<e;n++)for(var i in o=arguments[n])Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);return t}).apply(this,arguments)};var i,o,h=(n.randomNumBoth=function(t,o){var n=o-t,e=Math.random();return t+Math.round(e*n)},n);function n(){}(o=i=i||{})[o.WX=0]="WX",o[o.BYTEDANCE=1]="BYTEDANCE",o[o.OPPO=2]="OPPO",o[o.OPPO_ZS=3]="OPPO_ZS",o[o.BAIDU=4]="BAIDU",o[o.QQ=5]="QQ",o[o.PC=6]="PC",o[o.VIVO=7]="VIVO";var r="cc",a="Laya",l="",c=(p.titleCase=function(t){for(var o=t.toLowerCase().split(/\s+/),n=0;n<o.length;n++)o[n]=o[n].slice(0,1).toUpperCase()+o[n].slice(1);return o.join(" ")},p.numFixed=function(t,o){return parseFloat(parseFloat(t).toFixed(o))},p.parseMoney=function(t){return isNaN(t)?0:parseFloat(parseFloat(t).toFixed(2))},p.objKeySort=function(t){for(var o=Object.keys(t).sort(),n={},e=0;e<o.length;e++)n[o[e]]=t[o[e]];return n},p.isObject=function(t){var o=typeof t;return null!==t&&("object"==o||"function"==o)},p.object2Query=function(t){var o=[];for(var n in t)o.push(n+"="+t[n]);return o.join("&")},p.isFunction=function(t){return"function"==typeof t},p.isEmpty=function(t){if("object"!=typeof t)return null==t||"null"===t||"undefined"===t||""===t;var o;for(o in t)return!1;return!0},p.formatTime=function(t){return[t.getHours(),t.getMinutes()].map(this.formatNumber).join(":")},p.formatNumber=function(t){return(t=t.toString())[1]?t:"0"+t},p.copy=function(t,o){for(var n in t)o[n]=t[n]},p.randomNumBoth=function(t,o){var n=o-t,e=Math.random();return t+Math.round(e*n)},p.randomFloat=function(t,o){return t+Math.random()*o},p.randomToRatio=function(t,o,n){return this.randomNumBoth(t,o)<=n},p.generateUUID=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?o:3&o|8).toString(16)})},p.isNumber=function(t){return"number"==typeof t||"[object Number]"==Object.prototype.toString.call(t)},p.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},p.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},Object.defineProperty(p,"platform",{get:function(){if(this.mPlatform)return this.mPlatform;var t,o=window.moosnowConfig;return window.tt?this.mPlatform=i.BYTEDANCE:window.swan?this.mPlatform=i.BAIDU:window.qq?this.mPlatform=i.QQ:window.qg?window.qg&&window.qg.getSystemInfoSync?(t=window.qg.getSystemInfoSync(),console.log("平台判断",JSON.stringify(t)),t&&t.brand&&-1!=t.brand.toLocaleLowerCase().indexOf("vivo")?this.mPlatform=i.VIVO:-1!=o.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=i.OPPO_ZS:this.mPlatform=i.OPPO):-1!=o.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=i.OPPO_ZS:this.mPlatform=i.OPPO:window.wx?this.mPlatform=i.WX:o.debug&&o[o.debug]?"wx"==o.debug?this.mPlatform=i.WX:"oppo"==o.debug?-1!=o.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=i.OPPO_ZS:this.mPlatform=i.OPPO:"bd"==o.debug?this.mPlatform=i.BAIDU:"byte"==o.debug?this.mPlatform=i.BYTEDANCE:"qq"==o.debug?this.mPlatform=i.QQ:"vivo"==o.debug?this.mPlatform=i.VIVO:this.mPlatform=i.PC:this.mPlatform=i.PC,this.mPlatform},enumerable:!0,configurable:!0}),Object.defineProperty(p,"config",{get:function(){var t=window.moosnowConfig,o=p.platform==i.WX?t.wx:p.platform==i.OPPO||p.platform==i.OPPO_ZS?t.oppo:p.platform==i.VIVO?t.vivo:p.platform==i.QQ?t.qq:p.platform==i.BAIDU?t.bd:p.platform==i.BYTEDANCE?t.byte:t.wx;return o},enumerable:!0,configurable:!0}),p.deepCopy=function(t){var o=Array.isArray(t)?[]:{};if(t&&"object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(t[n]&&"object"==typeof t[n]?o[n]=this.deepCopy(t[n]):o[n]=t[n]);return o},p.getEngine=function(){return window[r]?r:window[a]?a:l},p.popOpenAnim=function(t,o){if(this.getEngine()==r)return t.scale=.8,void t.runAction(cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.callFunc(function(){o&&o()},this)));o()},p.popCloseAnim=function(t,o){if(this.getEngine()==r)return t.scale=1,void t.runAction(cc.sequence(cc.scaleTo(.1,0,0),cc.callFunc(function(){o&&o()},this)));o()},p.format=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];if(void 0===t||null==t||""==t||"undefined"==t)return t;for(var e=0;e<o.length;e++){var i=new RegExp("\\{"+e+"\\}","gm");t=t.replace(i,o[e])}return t},p.formatMoney=function(t){return isNaN(t)&&(t=0),t<9999?parseInt(""+t):t<9999999?parseFloat(""+t/1e3).toFixed(2)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(2)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(2)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(2)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(2)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(2)+"E":parseFloat(""+t/1e21).toFixed(2)+"B"},p);function p(){}var d=(f.prototype.schedule=function(t,o){var n=this,e=setInterval(function(){t&&t.apply(n)},1e3*o);console.log("BaseModule schedule ",e),this.mIntervalArr[e]=t},f.prototype.unschedule=function(t){for(var o in this.mIntervalArr)this.mIntervalArr[o]!==t&&!c.isEmpty(this.mIntervalArr[o])||clearInterval(parseInt(o))},f.prototype.scheduleOnce=function(t,o){var n=this,e=setTimeout(function(){clearTimeout(e),t&&t.apply(n)},1e3*o);this.mTimeoutArr[e]=t},f.prototype.unscheduleOnce=function(t){for(var o in this.mTimeoutArr)this.mTimeoutArr[o]!==t&&!c.isEmpty(this.mTimeoutArr[o])||clearTimeout(parseInt(o))},f.prototype.initProperty=function(t){for(var o in t)this.hasOwnProperty(o)&&(this[o]=t[o])},f.prototype.preload=function(t,o){o&&o()},f.prototype._findComponent=function(t,o){for(var n=null,e=0;e<t._components.length;e++){var i=t._components[e];if(i.willHide&&i.willShow){n=i;break}}return n},f.prototype._findComponentByName=function(t,o){return!!t&&(t.name==o||this._findComponentByName(t.$super,o))},f);function f(){this.moduleName="",this.mIntervalArr={},this.mTimeoutArr={}}var u={TOP:"__banner_top",CENTER:"__banner_center",BOTTOM:"__banner_bottom",CUSTOM:"__banner_custom"},m={END:"__video_end",NOTEND:"__video_not_end",ERR:"__video_error"},w=(g.VIBRATESWITCH_CHANGED="VIBRATESWITCH_CHANGED",g.SOUNDSWITCH_CHANGED="SOUNDSWITCH_CHANGED",g.MUSICSWITCH_CHANGED="MUSICSWITCH_CHANGED",g.ON_PLATFORM_SHOW="ON_PLATFORM_SHOW",g.ON_PLATFORM_HIDE="ON_PLATFORM_HIDE",g.ON_BANNER_HIDE="ON_BANNER_HIDE",g.ON_AD_SHOW="ON_AD_SHOW",g.AD_VIEW_CHANGE="AD_VIEW_CHANGE",g.AD_VIEW_REFRESH="AD_VIEW_REFRESH",g.COIN_CHANGED="COIN_CHANGED",g);function g(){}var v,y="隐藏banner",b="banner id 没有配置",N="显示BANNER",_="banner位置或大小被重新设置",C="跳转太频繁 >>>>>>>>>>>>>>>>>>>>>",I="跳转数据",S="设备信息",A="video id 没有配置",B="加载video成功回调",E="video关闭回调",O="video加载错误",L="加载原生广告成功",T="原生广告加载出错,使用新ID加载原生广告",x="原生广告加载出错，本次没有广告",P="原生广告ID已经用完，本次没有广告",R="点击了原生广告",k="上报原生广告",M="原生广告数据没有，回调Null",D="原生广告销毁",H="插屏广告ID为空，系统不加载",V="阿拉丁文件未引入",F="版本过低 平台不支持",W=(t(U,v=d),U.prototype.onEnable=function(){},U.prototype.vibrateSwitch=function(t){this.vibrateOn=t},U.prototype.initAppConfig=function(){this.moosnowConfig=c.config,this.bannerId=this.moosnowConfig.bannerId,this.videoId=this.moosnowConfig.videoId,this.interId=this.moosnowConfig.interId,this.boxId=this.moosnowConfig.boxId,this.nativeId=this.moosnowConfig.nativeId,console.log("moosnowConfig ",JSON.stringify(this.moosnowConfig))},U.prototype.isIphoneXModel=function(){if(window[this.platformName]){var t=this.getSystemInfoSync();return!!/iphone x/.test(t.model.toLowerCase())}},U.prototype.isIphone=function(){if(window[this.platformName]){var t=this.getSystemInfoSync();return!!/iphone/.test(t.model.toLowerCase())}},U.prototype.isIphoneX=function(){if(window[this.platformName]){var t=this.getSystemInfoSync(),o=t.screenHeight,n=t.screenWidth/o;return n<=.5||2<=n}},U.prototype.compareVersion=function(t,o){t=t.split("."),o=o.split(".");for(var n=Math.max(t.length,o.length);t.length<n;)t.push("0");for(;o.length<n;)o.push("0");for(var e=0;e<n;e++){var i=parseInt(t[e]),r=parseInt(o[e]);if(r<i)return 1;if(i<r)return-1}return 0},U.prototype.supportVersion=function(t){var o=this.getSystemInfoSync().SDKVersion;return 0<=this.compareVersion(o,t)},U.prototype.supportFunction=function(t){return!!window[this.platformName]&&!!window[this.platformName][t]},U.prototype.checkVersion=function(t,o){null==this.versionRet?this._checkConfigVersion(o):o(this.versionRet)},U.prototype._checkRemoteVersion=function(o){var n=this,t=this.baseUrl+"admin/wx_list/getAppConfig",e={appid:this.moosnowConfig.moosnowAppId};moosnow.http.request(t,e,"POST",function(t){n.versionRet=n.checkLog(t.data.version),o(n.versionRet)},function(){console.log("checkVersion fail")},function(){console.log("checkVersion complete")})},U.prototype._checkConfigVersion=function(o){var n=this;moosnow.http.getAllConfig(function(t){t&&t.version?(n.versionRet=n.checkLog(t.version),o(n.versionRet)):n._checkRemoteVersion(o)})},U.prototype.checkLog=function(t){var o=moosnow.platform.moosnowConfig.version,n=t==o;return console.log("版本检查 后台版本"+t+" 配置文件版本"+o),console.log("获取广告开关：",n),n},U.prototype.isSmallWidth=function(){if(window[this.platformName]){var t=this.getSystemInfoSync(),o=t.screenHeight;return t.screenWidth,o<667&&(console.log("高度不够",o),!0)}},U.prototype.login=function(t,o){var n;c.isFunction(t)&&((n=moosnow.data.getToken())||(n=(n=c.generateUUID()).replace(/-/g,""),moosnow.data.setToken(n)),t(n))},U.prototype.postMessage=function(t){window[this.platformName]&&window[this.platformName].getOpenDataContext&&window[this.platformName].getOpenDataContext().postMessage(t)},U.prototype.navigate2Mini=function(o,n,e,i){var r,a,s,h=this;console.log(I,o),Date.now()-this.prevNavigate<300?console.log(C):(this.prevNavigate=Date.now(),window[this.platformName]?(r=o.appid,a=o.path,s=(s=o.extraData)||{},moosnow.http.navigate(r,function(t){window[h.platformName].navigateToMiniProgram({appId:r,path:a,extraData:s,success:function(){moosnow.http.point("跳转",{position:o.position,appid:r,img:o.atlas||o.img}),moosnow.http.navigateEnd(t.code),moosnow.http.exportUser(),n&&n()},fail:function(t){console.log("navigateToMini fail ",t," fail callback ",!!e),e&&e()},complete:function(){i&&i()}})})):e&&e())},U.prototype.updateProgram=function(){var o,n=this;window[this.platformName]&&"function"==typeof window[this.platformName].getUpdateManager&&((o=window[this.platformName].getUpdateManager()).onCheckForUpdate(function(t){}),o.onUpdateReady(function(t){n.showModal("发现新版本","新版本已经准备好，是否更新？","取消","更新",function(t){t&&o.applyUpdate()})}),o.onUpdateFailed(function(){}))},U.prototype.vibrateShort=function(){window[this.platformName]&&(window[this.platformName]&&!window[this.platformName].vibrateShort||window[this.platformName].vibrateShort())},U.prototype.vibrateLong=function(){window[this.platformName]&&(window[this.platformName]&&!window[this.platformName].vibrateLong||window[this.platformName].vibrateLong())},U.prototype.showLoading=function(t){window[this.platformName]?window[this.platformName].showLoading({title:t,mask:!1,success:null,fail:null,complete:null}):console.log("showLoading",t)},U.prototype.hideLoading=function(){window[this.platformName]&&window[this.platformName].hideLoading()},U.prototype.showModal=function(t,o,n,e,i){window[this.platformName]&&window[this.platformName].showModal({title:t,content:o,cancelText:n,confirmText:e,showCancel:!0,cancelColor:"#000000",confirmColor:"#3CC51F",fail:null,complete:null,success:function(t){t.confirm?i&&i(!0):t.cancel&&i&&i(!1)}})},U.prototype.showModalWithoutCancel=function(t,o,n,e){window[this.platformName]&&window[this.platformName].showModal({title:t,content:o,showCancel:!1,confirmText:n,cancelColor:"#000000",confirmColor:"#3CC51F",cancelText:"",fail:null,complete:null,success:function(t){t.confirm?e&&e(!0):t.cancel&&e&&e(!1)}})},U.prototype.showToast=function(t,o,n){void 0===o&&(o="none"),void 0===n&&(n=!1),window[this.platformName]&&window[this.platformName].showToast({title:t,icon:o,duration:2e3,mask:n,image:null,success:null,fail:null,complete:null})},U.prototype.authOrGetUserInfo=function(o){var n;window[this.platformName]&&(n=this).getSetting(function(t){console.log("授权信息",t),t["scope.userInfo"]?n.getUserInfo(function(t){console.log("获取用户信息：",t),o(t,!1)},function(t){}):n.showUserInfoButton(function(t){o(t,!0),console.log("授权获取用户信息：",t)})},function(t){n.showUserInfoButton(function(t){o(t,!0),console.log("授权获取用户信息：",t)})})},U.prototype.showUserInfoButton=function(o){var t={type:"text",text:"",style:this._initLoginButton()},n=window[this.platformName].createUserInfoButton(t);n.onTap(function(t){t.userInfo&&t.userInfo.nickName?(o(t.userInfo),n.hide()):o(null)}),n.show()},U.prototype.getSetting=function(o,t){window[this.platformName].getSetting({success:function(t){o(t.authSetting)},fail:function(){t()},complete:null})},U.prototype.getUserInfo=function(o,t){window[this.platformName].getUserInfo({success:function(t){o(t.userInfo)},fail:function(){t()},withCredentials:!1,complete:null,lang:"en"})},U.prototype.getLaunchOption=function(){return window[this.platformName]&&window[this.platformName].getLaunchOptionsSync?window[this.platformName].getLaunchOptionsSync():{}},U.prototype.getSystemInfoSync=function(){return null==this.systemInfo&&(window[this.platformName]&&window[this.platformName].getSystemInfoSync?this.systemInfo=window[this.platformName].getSystemInfoSync():this.systemInfo={},console.log(S,this.systemInfo)),this.systemInfo},U.prototype.isLandscape=function(t,o){return t<o},U.prototype.initShare=function(t){var o=this;window[this.platformName]&&window[this.platformName].showShareMenu&&(this.shareInfoArr=t,window[this.platformName].showShareMenu({withShareTicket:!0,success:null,fail:null,complete:null}),window[this.platformName].onShareAppMessage&&window[this.platformName].onShareAppMessage(function(){return o._buildShareInfo()}))},U.prototype.getShareInfo=function(t,o,n){void 0===n&&(n=null),window[this.platformName]&&window[this.platformName].getShareInfo({shareTicket:t,success:function(t){o(t.encryptedData,t.iv)},fail:function(){n&&n()},complete:null})},U.prototype.share=function(t,o,n){void 0===t&&(t={}),window[this.platformName]?(this.currentShareCallback=o,this.currentShortCall=n,this.share_clickTime=Date.now(),this.shareFail=!1,this._share(t)):o&&o(!0)},U.prototype.shareWithoutCheck=function(t,o){void 0===t&&(t={}),window[this.platformName]||o&&o(!0),this.currentShareCallback=o,this.share_clickTime=1,this.shareFail=!1,this._share(t)},U.prototype._share=function(t){var o;void 0===t&&(t=null),window[this.platformName]&&window[this.platformName].shareAppMessage?(o=this._buildShareInfo(t),console.log("分享数据：",o),window[this.platformName].shareAppMessage(o)):this.currentShareCallback(!0)},U.prototype._buildShareInfo=function(t){void 0===t&&(t=null);var o,n="",e="";return 0<this.shareInfoArr.length&&(n=(o=this.shareInfoArr[h.randomNumBoth(0,this.shareInfoArr.length-1)]).title,e=o.img),{title:n,imageUrl:e,query:t}},U.prototype._onShareback=function(){var t=this;setTimeout(function(){t.share_clickTime&&t.currentShareCallback&&(!t.shareFail&&(1==t.share_clickTime||3e3<=Date.now()-t.share_clickTime)?t.currentShareCallback(!0):t.currentShareCallback(!1)),t.shareFail=!1,t.currentShareCallback=null,t.share_clickTime=null},100)},U.prototype._initLoginButton=function(){if(window[this.platformName]){var t=window[this.platformName].getSystemInfoSync();return{left:0,top:0,width:t.screenWidth,height:t.screenHeight,lineHeight:40,color:"#ffffff",type:"text",text:"获取用户信息",textAlign:"center",fontSize:28}}},U.prototype.initRecord=function(){},U.prototype.clipRecord=function(){},U.prototype.startRecord=function(t,o){void 0===t&&(t=300),void 0===o&&(o=null),this.record||o&&o(!1)},U.prototype.stopRecord=function(t){void 0===t&&(t=null),this.record||t&&t(!1)},U.prototype.pauseRecord=function(){},U.prototype.resumeRecord=function(){},U.prototype._regisiterWXCallback=function(){window[this.platformName]&&(this._regisiterOnShow(),this._regisiterOnHide())},U.prototype._regisiterOnShow=function(){var o;window[this.platformName].onShow&&window[(o=this).platformName].onShow(function(t){o._onShowCallback(t)})},U.prototype._onShowCallback=function(t){this._onShareback(),console.log("on show ",t),moosnow.event.sendEventImmediately(w.ON_PLATFORM_SHOW,t)},U.prototype._regisiterOnHide=function(){var o;window[this.platformName].onHide&&window[(o=this).platformName].onHide(function(t){o._onHideCallback(t)})},U.prototype._onHideCallback=function(t){console.log("on show ",t),moosnow.event.sendEventImmediately(w.ON_PLATFORM_HIDE,t),console.log("on hide ",t);var o=t&&(8==t.targetAction||9==t.targetAction||10==t.targetAction)&&50<t.targetPagePath.length;o&&moosnow.http.clickBanner(),this.bannerCb?this.bannerCb(o):console.log("banner callback is null ")},U.prototype.initBanner=function(){window[this.platformName]&&this._prepareBanner()},U.prototype._prepareBanner=function(){var t,o;window[this.platformName].createBannerAd&&(o=(t=this.getSystemInfoSync()).windowWidth,t.windowHeight<t.windowWidth&&!(o<this.bannerWidth)||(this.bannerWidth=o),this.banner&&(this.banner.offResize(this._bottomCenterBanner),this.banner.offError(this._onBannerError),this.banner.offLoad(this._onBannerLoad)),this.banner=this._createBannerAd(),this.banner&&(this.banner.onResize(this._bottomCenterBanner.bind(this)),this.banner.onError(this._onBannerError.bind(this)),this.banner.onLoad(this._onBannerLoad.bind(this))))},U.prototype._createBannerAd=function(){if(window[this.platformName]&&window[this.platformName].createBannerAd){var t=(this.getSystemInfoSync().windowWidth-this.bannerWidth)/2;if(!c.isEmpty(this.bannerId))return window[this.platformName].createBannerAd({adUnitId:this.bannerId,style:{top:0,left:t,width:this.bannerWidth}});console.warn(b)}},U.prototype._onBannerLoad=function(){this.bannerShowCount=0},U.prototype._onBannerError=function(t){console.warn("banner___error:",t.errCode,t.errMsg),this.banner=null,this.isBannerShow=!1,moosnow.event.sendEventImmediately(w.ON_BANNER_HIDE,null)},U.prototype._bottomCenterBanner=function(t){var o=this.getSystemInfoSync().windowWidth;this.banner.style.left=(o-t.width)/2,this.bannerWidth=this.banner.style.realWidth,this.bannerHeigth=this.banner.style.realHeight,console.log("_bottomCenterBanner",this.banner.style)},U.prototype._resetBanenrStyle=function(t){var o,n,e;c.isEmpty(t)?console.log("设置的banner尺寸为空,不做调整"):((o=this.getSystemInfoSync()).windowWidth,n=o.windowHeight,e=0,this.bannerPosition==u.BOTTOM?e=n-this.bannerHeigth:this.bannerPosition==u.CENTER?e=(n-this.bannerHeigth)/2:this.bannerPosition==u.TOP&&(e=0),this.bannerStyle?this.banner.style=this.bannerStyle:(this.banner.style.top=e,console.log(_,this.banner.style,"set top ",e)))},U.prototype.showBanner=function(t,o,n,e){var i=this;void 0===t&&(t=!0),void 0===n&&(n=u.BOTTOM),console.log(N),this.bannerCb=o,this.isBannerShow=!0,window[this.platformName]&&(this.bannerPosition=n,this.bannerStyle=e,this.mTimeoutId&&(clearTimeout(this.mTimeoutId),this.mTimeoutId=null),t?moosnow.http.getAllConfig(function(t){0!=t.mistouchNum?(console.log("后台开启了banner，执行显示"),i._showBanner()):console.log("后台关闭了banner，不执行显示")}):this._showBanner())},U.prototype._showBanner=function(){var t,o=this;this.banner&&(console.log("show banner style ",this.banner.style),this.banner.hide(),(t=this.banner.show())&&t.then(function(){o._resetBanenrStyle({width:o.banner.style.width,height:o.banner.style.realHeight})}))},U.prototype.showAutoBanner=function(){var n=this;console.log("执行自动显示和隐藏Banner功能"),moosnow.http.getAllConfig(function(t){var o;t&&1==t.gameBanner&&(moosnow.platform.showBanner(),o=isNaN(t.gameBanenrHideTime)?1:parseFloat(t.gameBanenrHideTime),n.mTimeoutId=setTimeout(function(){console.log("自动隐藏时间已到，开始隐藏Banner"),n.isBannerShow,n.hideBanner()},1e3*o))})},U.prototype.showIntervalBanner=function(){var n=this;console.log("执行 showIntervalBanner"),moosnow.http.getAllConfig(function(t){var o=t&&!isNaN(t.gameBannerInterval)?parseFloat(t.gameBannerInterval):20;n.schedule(n.showAutoBanner,o)})},U.prototype.clearIntervalBanner=function(){console.log("执行 clearIntervalBanner"),this.unschedule(this.showAutoBanner)},U.prototype.hideBanner=function(){console.log(y),this.isBannerShow&&(this.isBannerShow=!1,window[this.platformName]&&(this.bannerShowCount++,this.banner?this.bannerShowCount>=this.bannerShowCountLimit?(console.log("banner destroy"),this.banner.hide(),this.banner.destroy(),this.banner=null,this._prepareBanner()):this.banner.hide():this._prepareBanner()))},U.prototype.initVideo=function(){this.createRewardAD(!1)},U.prototype.createRewardAD=function(t){var o=this;if(!moosnow.platform.videoLoading)if(window[this.platformName])if(window[this.platformName].createRewardedVideoAd){if(c.isEmpty(this.videoId))return console.warn(A),void moosnow.platform.videoCb(m.END);if(!this.video){if(this.video=window[this.platformName].createRewardedVideoAd({adUnitId:this.videoId}),!this.video)return void console.warn("创建视频广告失败");this.video.onError(this._onVideoError),this.video.onClose(this._onVideoClose),this.video.onLoad(this._onVideoLoad)}moosnow.platform.videoLoading=!0,moosnow.platform.videoPlaying=!1,this.video.load().then(function(){t&&o.video.show().then(function(){}).catch(function(t){o._onVideoError(t.errMsg,t.errCode),console.log(t.errMsg)})}).catch(function(t){o._onVideoError(t.errMsg,t.errCode),console.log(t.errMsg)})}else moosnow.platform.videoCb(m.END);else moosnow.platform.videoCb(m.END)},U.prototype._onVideoError=function(t,o){console.log(O,t,o),moosnow.platform.videoLoading=!1,moosnow.platform.videoPlaying=!1,moosnow.platform.videoCb&&(moosnow.platform.videoCb(m.ERR),moosnow.platform.videoCb=null)},U.prototype._onVideoClose=function(t){var o;console.log(E,t.isEnded),moosnow.platform.videoLoading=!1,moosnow.platform.videoPlaying=!1,t.isEnded&&moosnow.http.clickVideo(),moosnow.platform.videoCb&&(o=t.isEnded?m.END:m.NOTEND,setTimeout(function(){moosnow.platform.videoCb(o)},50))},U.prototype._onVideoLoad=function(){console.log(B),moosnow.platform.videoLoading=!1},U.prototype.showVideo=function(t){void 0===t&&(t=null),console.log("显示video"),moosnow.platform.videoCb=t,this.createRewardAD(!0)},U.prototype.initInter=function(){this.prepareInter()},U.prototype.prepareInter=function(){window[this.platformName]&&"function"==typeof window[this.platformName].createInterstitialAd&&this.supportVersion("2.8.0")&&(c.isEmpty(this.interId)?console.warn(H):(this.inter=window[this.platformName].createInterstitialAd({adUnitId:this.interId}),this.inter.onLoad(this._onInterLoad.bind(this)),this.inter.onClose(this._onInterClose.bind(this))))},U.prototype.showInter=function(){this.inter&&this.isInterLoaded&&this.inter.show()},U.prototype._onInterLoad=function(){this.interShowCount=0,this.isInterLoaded=!0,console.log("插屏广告加载完成")},U.prototype._onInterClose=function(){this.interShowCount++,this.interShowCount>=this.interShowCountLimit&&(this.isInterLoaded=!1,this.inter.load())},U.prototype._onInterError=function(t){console.log("插屏广告出错：",t)},U.prototype._prepareNative=function(){},U.prototype._onNativeLoad=function(t){},U.prototype._onNativeError=function(t){},U.prototype._destroyNative=function(){},U.prototype.showNativeAd=function(t){c.isFunction(t)&&t()},U.prototype.clickNative=function(t){},U.prototype.showAppBox=function(t,o){void 0===o&&(o=!0),c.isFunction(t)&&t()},U.prototype.hideAppBox=function(t){c.isFunction(t)&&t()},U.prototype.reportMonitor=function(t,o){},U.prototype.showMoreGameButton=function(t,o,n){void 0===n&&(n=null),o&&o()},U.prototype.initRank=function(){this.postMessage({action:1})},U.prototype.showRank=function(){this.postMessage({action:10})},U.prototype.updateUserScore=function(t){var o={action:13,data:t};this.postMessage(o)},U.prototype.hideRank=function(){this.postMessage({action:20})},U.prototype.onDisable=function(){},U);function U(){var t=v.call(this)||this;return t.baseUrl="https://api.liteplay.com.cn/",t.currentShareCallback=null,t.currentShortCall=null,t.shareFail=null,t.vibrateOn=!1,t.systemInfo=null,t.banner=null,t.video=null,t.inter=null,t.native=null,t.box=null,t.platformName="wx",t.bannerId="",t.videoId="",t.interId="",t.boxId="",t.nativeId=[],t.nativeIdIndex=0,t.bannerWidth=300,t.bannerHeigth=96,t.bannerShowCount=0,t.bannerShowCountLimit=3,t.bannerCb=null,t.bannerPosition=u.BOTTOM,t.bannerStyle=null,t.isBannerShow=!1,t.videoCb=null,t.videoLoading=!1,t.videoPlaying=!1,t.interShowCount=0,t.interShowCountLimit=3,t.isInterLoaded=!1,t.nativeAdResult=null,t.nativeCb=null,t.nativeLoading=!1,t.record=null,t.shareInfoArr=[],t.versionRet=null,t.prevNavigate=Date.now(),t.initAppConfig(),t.initShare(!0),t.share_clickTime=null,t.currentShareCallback=null,t.shareFail=!1,t.updateProgram(),t.initRecord(),t}var G,j=(t(q,G=W),q.prototype.login=function(o,t){moosnow.http.getAllConfig(function(t){});var n=this,e=moosnow.data.getToken();e?n.getUserToken("",e,o):window[this.platformName]&&window[this.platformName].login?window[this.platformName].login({success:function(t){t.code?n.getUserToken(t.code,"",o):c.isFunction(o)&&o()},fail:function(){}}):G.prototype.login.call(this,o,t)},q.prototype.getUserToken=function(t,o,n){var e=this.getLaunchOption(),i=e.scene,r=e.query&&e.query.channel_id?e.query.channel_id:"0",a=e.referrerInfo&&e.referrerInfo.appId?e.referrerInfo.appId:"0";moosnow.data.setChannelAppId(a),moosnow.data.setChannelId(r);var s=e.referrerInfo?e.referrerInfo.appId:"未知";window[this.platformName]&&window[this.platformName].aldSendEvent&&window[this.platformName].aldSendEvent("来源",{origin:s,path:e.query.from||0}),moosnow.http.request(this.baseUrl+"api/channel/login.html",{appid:moosnow.platform.moosnowConfig.moosnowAppId,code:t,user_id:o,channel_id:r,channel_appid:a,scene:i,fromApp:s},"POST",function(t){0==t.code&&t.data&&t.data.user_id&&moosnow.data.setToken(t.data.user_id),c.isFunction(n)&&n(t)},function(){c.isFunction(n)&&n({})})},q);function q(){var t=G.call(this)||this;return t.platformName="wx",t._regisiterWXCallback(),t.initBanner(),t.initInter(),t}var X,Q=(t(z,X=d),z.prototype.getDistinctAd=function(t){for(var o=[],n=[],e=t.sort(function(t,o){return.5<Math.random()?1:-1}),i=0;i<e.length;i++){for(var r=e[i],a=!0,s=0;s<o.length;s++)if(o[s].appid==r.appid){a=!1;break}a?o.push(r):n.push(r)}return function(){for(var t=0,o=0,n=arguments.length;o<n;o++)t+=arguments[o].length;for(var e=Array(t),i=0,o=0;o<n;o++)for(var r=arguments[o],a=0,s=r.length;a<s;a++,i++)e[i]=r[a];return e}(o,n)},z.prototype.getAd=function(i){var t,o,r=this,a=this.getCache();c.isEmpty(a.indexLeft)?this.getRemoteAd(function(t){var o=r.initRetValue();t.forEach(function(t){o=r.formatRow(o,t)}),r.setCache(o);var n=r.getDistinctAd(o.indexLeft),e=s(s({},a),{indexLeft:n});i(e)}):(t=this.getDistinctAd(a.indexLeft),o=s(s({},a),{indexLeft:t}),i(o))},z.prototype.getRemoteAd=function(t){t([])},z.prototype.loadCacheImage=function(t){var o=this;this.cacheImage?t(this.cacheImage):wx.getStorage({key:this.cacheKey,success:function(t){this.this.cacheImage=t.data,console.log("cacheKey data  ",t.data)},fail:function(){o.cacheImage={},console.log("cacheKey error ")},complete:function(){t(this.this.cacheImage)}})},z.prototype.initRetValue=function(){return{indexBanner:[],indexFloat:[],indexLeft:[],gameEndPage:[],gameRespawnPage:[],exportPage:[]}},z.prototype.formatRow=function(t,o){switch(o.position){case"1":t.indexLeft.push(o);break;case"2":t.indexFloat.push(o);break;case"3":t.indexBanner.push(o);break;case"4":t.gameEndPage.push(o);break;case"5":t.gameRespawnPage.push(o);break;case"6":t.exportPage.push(o);break;default:t.indexLeft.push(o)}return t},z.prototype.downloadImage=function(n,e){window.wx?wx.downloadFile({header:{},url:n,success:function(t){var o=this;200===t.statusCode&&wx.saveFile({tempFilePath:t.tempFilePath,success:function(t){o.cacheImage[""+n]=t.savedFilePath,e(t.savedFilePath)},fail:function(){e(n)},complete:function(){}})},fail:function(){e(n)},complete:function(){}}):e(n)},z);function z(){var t=X.call(this)||this;return t.baseUrl="https://api.liteplay.com.cn/admin/",t.cacheImage=null,t.cacheKey="cacheUrl",t.getResUrl=function(t){for(var o in this.this.cacheImage)if(this.this.cacheImage[o]==t)return o;return""},t.convertToCacheUrl=function(t,o){this.cacheImage[t]?o(this.cacheImage[t]):this.downloadImage(t,function(t){o(t)})},t.saveCacheUrl=function(t){var o=[],n=window.wx.getFileSystemManager();for(var e in this.cacheImage){var i=!0;for(var r in t)for(var a=0;a<t[r].length;a++)t[r][a].atlas!=this.cacheImage[e]&&t[r][a].img!=this.cacheImage[e]||(i=!1);i&&o.push(e)}for(a=0;a<o.length;a++){if(o[a]){console.log("clear file ",o[a]);try{n.removeSavedFile(o[a])}catch(t){console.log("clear file error ",o[a])}}delete this.cacheImage[o[a]]}window.wx&&window.wx.setStorage({key:this.cacheKey,data:this.cacheImage,success:function(){},fail:function(){},complete:function(){}})},t.mMemory={},t.getCache=function(){return this.mMemory},t.setCache=function(t){this.mMemory=t},t}var K,Z=(t(Y,K=d),Object.defineProperty(Y.prototype,"appLaunchOptions",{get:function(){return this.mLaunchOptions||moosnow.platform&&moosnow.platform.getLaunchOption&&(this.mLaunchOptions=moosnow.platform.getLaunchOption()),this.mLaunchOptions},enumerable:!0,configurable:!0}),Y.prototype.request=function(t,o,n,e,i,r){var a=t,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState){var o=s.responseText;if(200<=s.status&&s.status<400){var t={};try{t=JSON.parse(o)}catch(t){console.error("json parse error ",o),i&&i(t)}e&&e(t)}else console.warn("error ",o),i&&i(o)}},s.timeout=1e4,s.ontimeout=function(t){console.error("error ",t),i&&i(t)},"POST"==n?(s.open("POST",a),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(this._object2Query(o))):(s.open(n,a,!0),s.send())},Y.prototype._object2Query=function(t){var o=[];for(var n in t)o.push(n+"="+t[n]);return o.join("&")},Y.prototype.isDisableArea=function(t){},Y.prototype.finishLoading=function(){this.postData("api/channel/validUser.html")},Y.prototype.clickBanner=function(){this.postData("api/channel/clickBanner.html")},Y.prototype.clickVideo=function(){this.postData("api/channel/clickVideo.html")},Y.prototype.exportUser=function(){this.postData("api/channel/exportUser.html")},Y.prototype.navigate=function(t,o){var n=moosnow.data.getToken();this.request(this.baseUrl+"api/jump/record",{appid:c.config.moosnowAppId,uid:n,jump_appid:t},"POST",function(t){console.log("navigate",t),o&&o(t.data)})},Y.prototype.navigateEnd=function(o){this.request(this.baseUrl+"api/jump/status",{code:o},"POST",function(t){console.log("navigateEnd code ",o,t)})},Y.prototype.postData=function(t){var o=moosnow.data.getToken();if(!c.isEmpty(o)&&"0"!=moosnow.data.getChannelId()&&"0"!=moosnow.data.getChannelAppId())try{this.request(""+this.baseUrl+t,{appid:c.config.moosnowAppId,user_id:o,channel_id:moosnow.data.getChannelId(),channel_appid:moosnow.data.getChannelAppId()},"POST",function(t){})}catch(t){console.log("postData error ",t)}},Y.prototype.point=function(t,o){void 0===o&&(o=null),c.platform==i.WX&&window.wx&&window.wx.aldSendEvent&&window.wx.aldSendEvent(t,o)},Y.prototype.startGame=function(t){c.platform==i.WX&&(window.wx&&window.wx.aldStage?window.wx.aldStage.onStart({stageId:t,stageName:t,userId:moosnow.data.getToken()}):console.warn(V))},Y.prototype.endGame=function(t,o){var n,e;c.platform==i.WX&&(n=o?"complete":"fail",e=o?"关卡完成":"关卡失败",window.wx&&window.wx.aldStage?window.wx.aldStage.onEnd({stageId:t,stageName:t,userId:moosnow.data.getToken(),event:n,params:{desc:e}}):console.warn(V))},Y.prototype.videoPoint=function(t,o,n){var e;c.platform==i.WX&&(e=0==t?"点击视频":"观看完成视频",window.wx&&window.wx.aldSendEvent?window.wx.aldSendEvent(e,{info:o,level:n+""}):console.warn(V))},Y.prototype.getAllConfig=function(e){var o=this;this.loadCfg(function(n){o.loadArea(function(t){o.disableAd(n,t,function(t){var o=0;t?(1==n.exportAutoNavigate&&(o=0),2==n.exportAutoNavigate&&(o=1),e(s(s({},n),{mistouchNum:0,mistouchPosNum:0,mistouchInterval:0,exportBtnNavigate:0,exportAutoNavigate:o,bannerShowCountLimit:1,isLimitArea:1}))):(2==n.exportAutoNavigate&&(o=1),e(s(s({},n),{exportAutoNavigate:o,isLimitArea:0})))})})})},Y.prototype.loadCfg=function(t){var n=this;if(c.isEmpty(this.cfgData)){if(this._cfgQuene.push(t),1<this._cfgQuene.length)return;var o="",o=c.config.url?c.config.url+"?t="+Date.now():this._cdnUrl+"/config/"+c.config.moosnowAppId+".json?t="+Date.now();this.request(o,{},"GET",function(t){var o=!(!t||1!=t.mistouchOn);n.cfgData=s(s({},c.deepCopy(t)),{zs_native_click_switch:t&&t.mx_native_click_switch?t.mx_native_click_switch:0,zs_jump_switch:t&&t.mx_jump_switch?t.mx_jump_switch:0,mistouchNum:o?t.mistouchNum:0,mistouchPosNum:o?t.mistouchPosNum:0,mistouchInterval:o?t.mistouchInterval:0,exportAutoNavigate:o?t.exportAutoNavigate:0,exportBtnNavigate:o?t.exportBtnNavigate:0}),moosnow.platform&&(moosnow.platform.bannerShowCountLimit=parseInt(t.bannerShowCountLimit)),n._cfgQuene.forEach(function(t){t(n.cfgData)}),n._cfgQuene=[]},function(){n._cfgQuene.forEach(function(t){t({mistouchNum:0,mistouchPosNum:0,bannerShowCountLimit:1,exportAutoNavigate:0})}),n._cfgQuene=[],console.log("load config json fail")})}else t(this.cfgData)},Y.prototype.loadArea=function(t){var o=this;if(this.areaData)t(this.areaData);else{if(this._localQuene.push(t),1<this._localQuene.length)return;var n=this.baseUrl+"admin/wx_config/getLocation";this.request(n,{},"GET",function(t){o.areaData=t,o._localQuene.forEach(function(t){t(o.areaData)}),o._localQuene=[]},function(){o._localQuene.forEach(function(t){t(o.areaData)}),o._localQuene=[]})}},Y.prototype.getForceExport=function(n){var e=this;this.loadCfg(function(o){e.loadArea(function(t){e.disabledForceExport(o,t,function(t){n(t)})})})},Y.prototype.disabledForceExport=function(t,o,n){var e=c.formatTime(new Date),i=!1;if(t.disabledForceExport)for(var r=0;r<t.disabledForceExport.length;r++){var a=t.disabledForceExport[r];if(-1!=o.data.city.indexOf(a)||-1!=o.data.province.indexOf(a)||-1!=o.data.area.indexOf(a)){i=!0;break}}i&&(!t.forceExportTime||2!=t.forceExportTime.length||e>t.forceExportTime[0]&&e<t.forceExportTime[1])?n(!0):n(!1)},Y.prototype.getMisTouchNum=function(n){var e=this;this.loadCfg(function(o){e.loadArea(function(t){e.disableAd(o,t,function(t){t?(n(0),console.log("getMisTouchNum",0,"disableAd",t)):(n(parseInt(o.mistouchNum)),console.log("getMisTouchNum",o.mistouchNum,"disableAd",t))})})})},Y.prototype.getMistouchPosNum=function(n){var e=this;this.loadCfg(function(o){e.loadArea(function(t){e.disableAd(o,t,function(t){t?(n(0),console.log("getMistouchPosNum",0,"disableAd",t)):(n(parseInt(o.mistouchPosNum)),console.log("getMistouchPosNum",o.mistouchPosNum,"disableAd",t))})})})},Y.prototype.getBannerShowCountLimit=function(o){this.loadCfg(function(t){isNaN(t.bannerShowCountLimit)?o(5):o(parseInt(t.bannerShowCountLimit))})},Y.prototype.disableAd=function(t,o,n){var e=c.formatTime(new Date),i=!1;if(t&&t.disabledRegion)for(var r=0;r<t.disabledRegion.length;r++){var a=t.disabledRegion[r];if(o&&o.data&&(-1!=o.data.city.indexOf(a)||-1!=o.data.province.indexOf(a)||-1!=o.data.area.indexOf(a))){i=!0;break}}if(this.appLaunchOptions&&-1!=[1005,1007,1008,1044].indexOf(this.appLaunchOptions.scene))return n(!0),void console.log("appLaunchOptions",this.appLaunchOptions);i&&(!t.disabledTime||2!=t.disabledTime.length||e>t.disabledTime[0]&&e<t.disabledTime[1])?n(!0):n(!1)},Y.prototype.getShareInfo=function(o){var t=this;this.request(this._cdnUrl+"/share/"+c.config.moosnowAppId+".json",{appid:c.config.moosnowAppId},"GET",function(t){o(t),moosnow.platform.initShare(t)},function(){t.request(t.baseUrl+"admin/wx_share/getShare",{appid:c.config.moosnowAppId},"POST",function(t){console.log("分享数据",t.data),o(t.data),moosnow.platform.initShare(t.data)})})},Y);function Y(){var o=K.call(this)||this;o.appid="",o.secret="",o.versionNumber="",o.version="2.0.4",o.baseUrl="https://api.liteplay.com.cn/",o._cdnUrl="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com",o.mLaunchOptions={},o.cfgData=null,o.areaData=null,o._cfgQuene=[],o._localQuene=[];var t=o._cdnUrl+"/SDK/version.json?t="+Date.now();return c.platform==i.PC?o.request(t,{},"GET",function(t){o.version<t.version&&(console.warn("您的SDK版本号["+o.version+"]不是最新版本，请尽快升级，最新版本["+t.version+"]  下载地址："+t.download),c.isEmpty(t.memo)||console.warn(""+t.memo))}):c.platform==i.WX&&window.wx&&o.request(t,{},"GET",function(t){var o=window.wx.aldVersion;(!o||o&&o<t.aldVersion)&&console.warn("阿拉丁文件错误，请重新下载"+t.aldUrl)}),o.getShareInfo(function(t){moosnow.platform.initShare(t)}),o.loadCfg(function(t){console.log("remote config ",t)}),o}var J,$=(t(tt,J=W),tt.prototype.initAdService=function(){var o;window[this.platformName]&&(o=this,window[this.platformName].initAdService?window[this.platformName].initAdService({isDebug:!0,appId:this.moosnowConfig.moosnowAppId,success:function(t){console.log("初始化广告"),o.initBanner(),o.initInter(),o._prepareNative()},fail:function(t){console.warn("初始化广告错误 "+t.code+"  "+t.msg)},complete:function(t){console.log("initAdService  complete")}}):(console.log("初始化广告"),o.initBanner(),o.initInter(),o._prepareNative()),moosnow.event.addListener(w.ON_PLATFORM_SHOW,this,this.onAppShow))},tt.prototype.navigate2Mini=function(t,o,n,e){var i,r,a,s,h=this;console.log(I,t),Date.now()-this.prevNavigate<300?console.log(C):(this.prevNavigate=Date.now(),window[this.platformName]?(i=t.appid,r=t.path,s=t.extraData,a=t.pkgName,s=s||{},this.supportVersion(1044)?window[this.platformName].navigateToMiniGame({appId:i,path:r,pkgName:a||i,extraData:s,success:function(){window[h.platformName]&&window[h.platformName].aldSendEvent&&window[h.platformName].aldSendEvent("跳转",{position:t.position,appid:i,img:t.atlas||t.img}),moosnow.http.exportUser(),o&&o()},fail:function(t){console.log("navigateToMiniProgram error ",t),n&&n()},complete:function(){e&&e()}}):console.log(F)):o&&o())},tt.prototype.supportVersion=function(t){return this.getSystemInfoSync().platformVersion>=t},tt.prototype._onBannerError=function(t){console.warn("banner___error:",t.errCode," msg ",t.errMsg),this.banner&&(this.banner.hide(),this.banner.offResize(this._bottomCenterBanner),this.banner.offError(this._onBannerError),this.banner.offLoad(this._onBannerLoad),this.banner.offHide(),this.banner.destroy(),this.banner=null)},tt.prototype._prepareBanner=function(){var t,o;window[this.platformName].createBannerAd&&(o=(t=this.getSystemInfoSync()).windowWidth,(!this.isLandscape(t.windowHeight,t.windowWidth)||o<this.bannerWidth)&&(this.bannerWidth=o),this.banner&&(this.banner.offResize(this._bottomCenterBanner),this.banner.offError(this._onBannerError),this.banner.offLoad(this._onBannerLoad),this.banner.offHide()),this.banner=this._createBannerAd(),this.banner.onResize(this._bottomCenterBanner.bind(this)),this.banner.onError(this._onBannerError.bind(this)),this.banner.onLoad(this._onBannerLoad.bind(this)),this.banner.onHide(this._onBannerHide.bind(this)))},tt.prototype._createBannerAd=function(){if(window[this.platformName]&&window[this.platformName].createBannerAd){var t=this.getSystemInfoSync(),o=t.windowWidth,n=t.windowHeight,e=(o-this.bannerWidth)/2;if(!c.isEmpty(this.bannerId)){var i=n-this.bannerHeigth;return window[this.platformName].createBannerAd({adUnitId:this.bannerId,style:{top:i,left:e,width:this.bannerWidth}})}console.warn(b)}},tt.prototype._bottomCenterBanner=function(t){var o=this.getSystemInfoSync(),n=o.windowWidth,e=o.windowHeight,i=o.statusBarHeight,r=o.notchHeight||0;this.bannerWidth=t.width,this.bannerHeigth=t.height,this.banner.style.left=(n-t.width)/2;var a=e-this.bannerHeigth,a=this.bannerPosition==u.BOTTOM?e-this.bannerHeigth:this.bannerPosition==u.CENTER?(e-this.bannerHeigth)/2:this.bannerPosition==u.TOP?this.isLandscape(o.windowHeight,o.windowWidth)?0:i+r:this.bannerStyle.top;this.banner.style.top=a,console.log("_bottomCenterBanner  ",this.banner.style)},tt.prototype._resetBanenrStyle=function(t){var o=this.getSystemInfoSync(),n=(o.windowWidth,o.windowHeight),e=o.statusBarHeight,i=o.notchHeight||0;isNaN(this.bannerWidth)||(this.banner.style.width=this.bannerWidth),isNaN(this.bannerHeight)||(this.banner.style.height=this.bannerHeight);var r=n-this.bannerHeigth,r=this.bannerPosition==u.BOTTOM?n-this.bannerHeigth:this.bannerPosition==u.CENTER?(n-this.bannerHeigth)/2:this.bannerPosition==u.TOP?this.isLandscape(o.windowHeight,o.windowWidth)?0:e+i:this.bannerStyle.top;this.banner.style.top=r,console.log("_resetBanenrStyle ",this.banner.style,"set styleTop ",r)},tt.prototype._onBannerHide=function(){console.log("banner 已隐藏 ")},tt.prototype.destroyBanner=function(){this.banner&&(this.banner.hide(),this.banner.offResize(this._bottomCenterBanner),this.banner.offError(this._onBannerError),this.banner.offLoad(this._onBannerLoad),this.banner.offHide(),this.banner.destroy(),this.banner=null)},tt.prototype.showBanner=function(t,o,n,e){var i=this;void 0===t&&(t=!0),void 0===n&&(n=u.BOTTOM),console.log(N),this.bannerCb=o,this.isBannerShow=!0,window[this.platformName]&&(t?moosnow.http.getAllConfig(function(t){0!=t.mistouchNum?(console.log("后台开启了banner，执行显示"),i._showBanner()):console.log("后台关闭了banner，不执行显示")}):this._showBanner())},tt.prototype._showBanner=function(){var t=this;this.banner?(this._resetBanenrStyle({width:this.banner.style.width,height:this.banner.style.height}),this.banner.show(),setTimeout(function(){t._resetBanenrStyle({width:t.banner.style.width,height:t.banner.style.height})},500)):this.initBanner()},tt.prototype.hideBanner=function(){console.log(y),this.isBannerShow&&window[this.platformName]&&(this.bannerShowCount++,this.banner?this.bannerShowCount>=this.bannerShowCountLimit?(console.log("banner destroy"),this.banner.hide(),this.banner.offResize(this._bottomCenterBanner),this.banner.offError(this._onBannerError),this.banner.offLoad(this._onBannerLoad),this.banner.offHide(),this.banner.destroy(),this.banner=null,console.log("重新创建banner"),this._prepareBanner()):this.banner.hide():this._prepareBanner(),this.isBannerShow=!1)},tt.prototype.createRewardAD=function(t){if(!moosnow.platform.videoLoading)if(window[this.platformName]){if(window[this.platformName].createRewardedVideoAd){if(this.video)this.video.offClose(this._onVideoClose),this.video.offError(this._onVideoError),this.video.offLoad(this._onVideoLoad);else{if(c.isEmpty(this.videoId))return void console.warn(A);this.video=window[this.platformName].createRewardedVideoAd({adUnitId:this.videoId})}this.video.onError(this._onVideoError.bind(this)),this.video.onClose(this._onVideoClose.bind(this)),this.video.onLoad(this._onVideoLoad.bind(this)),moosnow.platform.videoLoading=!0,this.video.load()}}else moosnow.platform.videoCb(m.END)},tt.prototype._onVideoLoad=function(){console.log(B),moosnow.platform.videoLoading=!1,this.video&&this.video.show()},tt.prototype.prepareInter=function(){if(c.isEmpty(this.interId))console.warn(H);else if(window[this.platformName])if(this.supportVersion("1061")){if("function"!=typeof window[this.platformName].createInterstitialAd)return;this.inter=window[this.platformName].createInterstitialAd({adUnitId:this.interId}),this.inter.onLoad(this._onInterLoad.bind(this)),this.inter.onClose(this._onInterClose.bind(this)),this.inter.load()}else{if("function"!=typeof window[this.platformName].createInsertAd)return;this.inter=window[this.platformName].createInsertAd({adUnitId:this.interId}),this.inter.onLoad(this._onInterLoad.bind(this)),this.inter.onShow(this._onInterOnShow.bind(this)),this.inter.load()}},tt.prototype.showInter=function(){this.inter?this.inter.show():this.interLoadedShow=!0},tt.prototype._onInterLoad=function(){this.interLoadedShow&&(this.inter?this.inter.show():this.interLoadedShow=!1)},tt.prototype._onInterOnShow=function(){this.inter&&this.inter.load()},tt.prototype.showAutoBanner=function(){console.log(" oppo 不支持自动")},tt.prototype.reportMonitor=function(t,o){window[this.platformName]&&window[this.platformName].reportMonitor&&window[this.platformName].reportMonitor("game_scene",0)},tt.prototype._prepareNative=function(){window[this.platformName]&&"function"==typeof window[this.platformName].createNativeAd&&(this.native=window[this.platformName].createNativeAd({adUnitId:parseInt(""+this.nativeId[this.nativeIdIndex])}),this.native.onLoad(this._onNativeLoad.bind(this)),this.native.onError(this._onNativeError.bind(this)),this.nativeLoading=!0)},tt.prototype._onNativeLoad=function(t){this.nativeLoading=!1,console.log(L,t),t&&t.adList&&0<t.adList.length?(this.nativeAdResult=t.adList[0],c.isEmpty(this.nativeAdResult.adId)||(console.log(k),this.native.reportAdShow({adId:this.nativeAdResult.adId})),c.isFunction(this.nativeCb)&&this.nativeCb(c.deepCopy(this.nativeAdResult))):(console.log(M),c.isFunction(this.nativeCb)&&this.nativeCb(null))},tt.prototype._onNativeError=function(t){this.nativeLoading=!1,this.nativeAdResult=null,20003==t.code?this.nativeIdIndex<this.nativeId.length-1?(console.log(T,t),this.nativeIdIndex+=1,this._destroyNative(),this._prepareNative(),this.nativeCb(null)):(console.log(P),this.nativeIdIndex=0,c.isFunction(this.nativeCb)&&this.nativeCb(null)):(console.log(x,t),c.isFunction(this.nativeCb)&&this.nativeCb(null))},tt.prototype._destroyNative=function(){this.nativeLoading=!1,this.native.offLoad(),this.native.offError(),this.native.destroy(),console.log(D)},tt.prototype.showNativeAd=function(t){this.nativeCb=t,this.native&&this.native.load()},tt.prototype.clickNative=function(t){this.nativeAdResult&&!c.isEmpty(this.nativeAdResult.adId)&&(this.mClickedNativeCallback=t,this.mIsClickedNative=!0,console.log(P,this.nativeAdResult.adId),this.native.reportAdClick({adId:this.nativeAdResult.adId}))},tt.prototype.onAppShow=function(){this.mIsClickedNative&&(this.mIsClickedNative=!1,c.isFunction(this.mClickedNativeCallback)&&this.mClickedNativeCallback())},tt);function tt(){var t=J.call(this)||this;return t.platformName="qg",t.appSid="",t.bannerWidth=760,t.bannerHeight=96,t.interLoadedShow=!1,t.prevNavigate=Date.now(),t.mIsClickedNative=!1,t._regisiterWXCallback(),t.initAdService(),t}var ot,nt=(t(et,ot=d),et.prototype.initCoin=function(t){null==moosnow.setting._getValue(this.COIN,null)&&moosnow.setting.setValue(this.COIN,t)},et.prototype.getCoin=function(){return 0==this.mCoin&&(this.mCoin=moosnow.setting.getInt(this.COIN,0)),this.mCoin},et.prototype.subCoin=function(t){this.mCoin-=t,moosnow.event.sendEventImmediately(w.COIN_CHANGED,this.mCoin)},et.prototype.addCoin=function(t){this.mCoin+=t,moosnow.event.sendEventImmediately(w.COIN_CHANGED,this.mCoin)},et.prototype.setCoin=function(t){this.mCoin=t,moosnow.event.sendEventImmediately(w.COIN_CHANGED,this.mCoin)},et.prototype.saveCoin=function(){moosnow.setting.setValue(this.COIN,this.mCoin)},et.prototype.getToken=function(){return c.isEmpty(this.mUserToken)&&(this.mUserToken=moosnow.setting.getString(this.TOKEN,"")),this.mUserToken},et.prototype.setToken=function(t){moosnow.setting.setValue(this.TOKEN,t)},et.prototype.getCurrentMisTouchCount=function(){return this.mCurrentMisTouchCount},et.prototype.setCurrentMisTouchCount=function(t){this.mCurrentMisTouchCount=t},et.prototype.getChannelId=function(){return this.mChannel_id},et.prototype.setChannelId=function(t){this.mChannel_id=t},et.prototype.getChannelAppId=function(){return this.mChannel_appid},et.prototype.setChannelAppId=function(t){this.mChannel_appid=t},et.prototype.getVibrateSetting=function(){return moosnow.setting.getBool(this.VIBRATE_SWITCH,!0)},et.prototype.setVibrateSetting=function(t){moosnow.setting.setBool(this.VIBRATE_SWITCH,t),moosnow.event.sendEventImmediately(w.VIBRATESWITCH_CHANGED,t)},et);function et(){var t=null!==ot&&ot.apply(this,arguments)||this;return t.TOKEN="token",t.COIN="COIN",t.mUserToken="",t.VIBRATE_SWITCH="VIBRATE_SWITCH",t.mCoin=0,t.mCurrentMisTouchCount=0,t.mChannel_id="0",t.mChannel_appid="0",t}var it,rt=(t(at,it=d),at.prototype.onEnable=function(){},at.prototype.getInt=function(t,o){var n=this._getValue(t,o);return parseInt(n)},at.prototype.getFloat=function(t,o){var n=this._getValue(t,o);return parseFloat(n)},at.prototype.getBool=function(t,o){var n=1==o?"true":"false";return"true"==this.getString(t,n)},at.prototype.getString=function(t,o){return this._getValue(t,o)},at.prototype.getObject=function(t,o){var n=this._getValue(t,o);return n&&""!=n?JSON.parse(n):null},at.prototype.setObject=function(t,o){var n="";o&&(n=JSON.stringify(o)),this.setValue(t,n)},at.prototype.setBool=function(t,o){1==o?this.setValue(t,"true"):this.setValue(t,"false")},at.prototype.setValue=function(t,o){window.localStorage.setItem(t,o)},at.prototype.appendInt=function(t,o){var n=this.getInt(t,0),e=parseInt(o)+n;return this.setValue(t,e),e},at.prototype.appendFloat=function(t,o){var n=this.getFloat(t,0),e=parseFloat(o)+n;this.setValue(t,e)},at.prototype.removeValueOfKey=function(t){window.localStorage.removeItem(t)},at.prototype.removeAll=function(){window.localStorage.clear()},at.prototype._getValue=function(t,o){var n=window.localStorage.getItem(t);return null!=n&&""!=n||(n=o),n},at);function at(){return it.call(this)||this}var st,ht=(t(lt,st=Q),lt.prototype.getRemoteAd=function(o){var t=this,n="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/exportConfig/"+moosnow.platform.moosnowConfig.moosnowAppId+".json?t="+Date.now();moosnow.http.request(n,{},"GET",function(t){o(t),console.log("WXAdModule getRemoteAd",t)},function(){st.prototype.getRemoteAd.call(t,o),console.log("getRemoteAd fail")},function(){console.log("getRemoteAd complete")})},lt);function lt(){return null!==st&&st.apply(this,arguments)||this}var ct,pt=(t(dt,ct=Q),dt.prototype.getRemoteAd=function(o){var n=this,t="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/exportConfig/"+moosnow.platform.moosnowConfig.moosnowAppId+".json?t="+Date.now();moosnow.http.request(t,{},"GET",function(t){o(t),console.log("WXAdModule getRemoteAd",t)},function(t){n.repairAd(o),console.log("getRemoteAd fail")},function(){console.log("getRemoteAd complete")})},dt.prototype.repairAd=function(o){var t=this.baseUrl+"wx_export/getExport",n={appid:moosnow.platform.moosnowConfig.moosnowAppId};moosnow.http.request(t,n,"POST",function(t){t.data.sort(function(){return.5<Math.random()?1:-1}),o&&o(t.data)},function(){o([]),console.log("getRemoteAd fail")},function(){console.log("getRemoteAd complete")})},dt);function dt(){return null!==ct&&ct.apply(this,arguments)||this}var ft,ut={ARTICLE:"article",VIDEO:"video",TOKEN:"token",LINK:""},mt=function(){},wt=(t(gt,ft=W),gt.prototype._registerTTCallback=function(){var o=this;window[this.platformName]&&(window[this.platformName].onMoreGamesModalClose&&window[this.platformName].onMoreGamesModalClose(function(t){console.log("modal closed",t),o.moreGameCb&&o.moreGameCb(0)}),window[this.platformName].onNavigateToMiniGameBox?window[this.platformName].onNavigateToMiniGameBox(function(t){console.log("onNavigateToMiniGameBox",t)}):window[this.platformName].onNavigateToMiniProgram&&window[this.platformName].onNavigateToMiniProgram(function(t){console.log("onNavigateToMiniProgram",t)}))},gt.prototype.prepareInter=function(){window[this.platformName]&&"function"==typeof window[this.platformName].createInterstitialAd&&(c.isEmpty(this.interId)?console.warn(H):(this.inter=window[this.platformName].createInterstitialAd({adUnitId:this.interId}),this.inter.onLoad(this._onInterLoad.bind(this)),this.inter.onClose(this._onInterClose.bind(this)),this.inter.load()))},gt.prototype._bottomCenterBanner=function(t){var o=this.getSystemInfoSync(),n=o.windowWidth,e=o.windowHeight;this.bannerWidth=t.width,this.bannerHeigth=t.height;var i=e-this.bannerHeigth;this.banner&&(this.banner.style.top=i,this.banner.style.left=(n-this.bannerWidth)/2)},gt.prototype.initRecord=function(){window[this.platformName]&&window[this.platformName].getGameRecorderManager&&(this.record=window[this.platformName].getGameRecorderManager())},gt.prototype.clipRecord=function(){this.record&&(this.recordNumber++,console.log("clipRecord",this.recordNumber),this.record.recordClip({timeRange:[2,2],success:function(t){console.log("clipRecord 成功 ",t)}}))},gt.prototype.startRecord=function(t,o){var n=this;void 0===t&&(t=300),void 0===o&&(o=null),console.log("record startRecord"),this.record?(this.recordNumber=0,this.recordCb=null,this.recordRes=null,this.record.onStart(function(t){console.log("record onStart"),o&&o(t)}),this.recordRes,this.record.onStop(function(t){console.log("on stop ",t),4<=n.recordNumber?n.record.clipVideo({path:t.videoPath,success:function(t){console.log("record clip succes:",t),n.recordRes=t,console.log("record clip recordRes :",n.recordRes),n.recordCb&&n.recordCb(t)},fail:function(){console.log("record clip fail:",t),n.recordRes=t,n.recordCb&&n.recordCb(t)}}):(n.recordRes=t,n.recordCb&&n.recordCb(t))}),this.record.start({duration:t})):o&&o(!1)},gt.prototype.stopRecord=function(t){void 0===t&&(t=null),console.log(" stop Record  callback  ",!!t),this.record?(console.log("record stop recordRes ",this.recordRes),this.recordRes?c.isFunction(t)&&t(this.recordRes):(this.recordCb=t,this.record.stop(),console.log("record stop  ",this.recordRes))):t&&t(!1)},gt.prototype.pauseRecord=function(){this.record&&this.record.pause()},gt.prototype.resumeRecord=function(){this.record&&this.record.resume()},gt.prototype.share=function(t,o,n){void 0===t&&(t={}),this.currentShareCallback=o,this.currentShortCall=n,console.log("是否有回调：",n);var e=this._buildShareInfo(t);console.log("shareInfo:",e),window[this.platformName]&&window[this.platformName].shareAppMessage?window[this.platformName].shareAppMessage(e):this.currentShareCallback(!0)},gt.prototype._buildShareInfo=function(t){var o,n=this,e="",i="";0<this.shareInfoArr.length&&(e=(o=this.shareInfoArr[h.randomNumBoth(0,this.shareInfoArr.length-1)]).title,i=o.img);var r=ut.LINK;t&&-1!=[ut.LINK,ut.ARTICLE,ut.TOKEN,ut.VIDEO].indexOf(t.channel)&&(r=t.channel);var a=this.recordRes&&this.recordRes.videoPath?this.recordRes.videoPath:"";return console.log("video path ",a),{channel:r,title:e,imageUrl:i,query:moosnow.http._object2Query(t),extra:{videoPath:a,videoTopics:[e]},success:function(){console.log("share video success "),n.currentShareCallback&&n.currentShareCallback(!0)},fail:function(t){console.log("share video fail ",t),console.log("index of : ",t.errMsg.indexOf("short")),t&&t.errMsg&&-1!=t.errMsg.indexOf("short")&&n.currentShortCall&&(console.log("时间太短 执行回调",n.currentShortCall),n.currentShortCall(t)),n.currentShareCallback&&n.currentShareCallback(!1)}}},gt.prototype._onBannerLoad=function(){this.bannerShowCount=0,this.mBannerLoaded=!0,this.isBannerShow&&this.showBanner()},gt.prototype._prepareBanner=function(){this.mBannerLoaded=!1,ft.prototype._prepareBanner.call(this)},gt.prototype._resetBanenrStyle=function(t){var o,n,e,i;c.isEmpty(t)?console.log("设置的banner尺寸为空,不做调整"):(n=(o=this.getSystemInfoSync()).windowWidth,e=o.windowHeight,c.getEngine()==r&&(n=cc.Canvas.instance.node.width,e=cc.Canvas.instance.node.height),c.getEngine()==a&&(n=Laya.stage.width,e=Laya.stage.height),i=0,this.isLandscape(e,n),this.bannerPosition==u.BOTTOM?i=e-this.bannerHeigth-30:this.bannerPosition==u.CENTER?i=(e-this.bannerHeigth)/2:this.bannerPosition==u.TOP&&(i=0),this.bannerStyle?this.banner.style=this.bannerStyle:(this.banner.style.top=i,console.log(_,this.banner.style,this.banner)))},gt.prototype.showBanner=function(t,o,n,e){var i=this;void 0===t&&(t=!0),void 0===n&&(n=u.BOTTOM),console.log(N),this.bannerCb=o,this.isBannerShow=!0,this.mBannerLoaded&&window[this.platformName]&&(this.bannerPosition=n,this.bannerStyle=e,t?moosnow.http.getAllConfig(function(t){0!=t.mistouchNum?(console.log("后台开启了banner，执行显示"),i._showBanner()):console.log("后台关闭了banner，不执行显示")}):this._showBanner())},gt.prototype._showBanner=function(){var t,o=this;this.banner&&(console.log("show banner style ",this.banner.style),this.banner.hide(),(t=this.banner.show())&&t.then(function(){o._resetBanenrStyle({width:o.banner.style.width,height:o.banner.style.realHeight})}))},gt.prototype.showAppBox=function(t,o){var n=this;void 0===o&&(o=!0),this.moreGameCb=t,window[this.platformName]&&window[this.platformName].showMoreGamesModal&&moosnow.http.getAllConfig(function(t){(!o||t&&1==t.showAppBox)&&n._showMoreGamesModal()})},gt.prototype._getAppLaunchOptions=function(o){var n=[];moosnow.ad.getAd(function(t){0!=t.indexLeft.length&&(t.indexLeft.forEach(function(t){var o=new mt;o.appId=t.appid,o.query=t.path||"1=1",o.extraData=t.extraData||{},n.push(o)}),console.log("appLaunchOptions",n),o(n))})},gt.prototype._showMoreGamesModal=function(){var o=this;"ios"!=this.getSystemInfoSync().platform&&this._getAppLaunchOptions(function(t){console.log("_showMoreGamesModal appLaunchOption",t),window[o.platformName].showMoreGamesModal({appLaunchOptions:t,success:function(t){console.log("show app box success",t)},fail:function(t){console.log("show app box fail",t)}})})},gt.prototype.showMoreGameBanner=function(){var t,n,o;window[this.platformName]&&(!window[this.platformName].createMoreGamesBanner||"ios"!=(t=this.getSystemInfoSync()).platform&&"ios"!==t.platform&&(n=[],moosnow.ad.getAd(function(t){0!=t.indexLeft.length&&t.indexLeft.forEach(function(t){var o=new mt;o.appId=t.appid,o.query=t.path||"1=1",o.extraData=t.extraData||{},n.push(o)})}),(o=window[this.platformName].createMoreGamesBanner({style:{left:20,top:0,width:150,height:40},appLaunchOptions:n,success:function(t){console.log("show app box success",t.errMsg)},fail:function(t){console.log("show app box fail",t.errMsg)}})).show(),o.onTap(function(){console.log("点击跳转游戏盒子")})))},gt.prototype.showMoreGameButton=function(t,e,o){var n,i,r=this;void 0===o&&(o=null),window[this.platformName]&&window[this.platformName].createMoreGamesButton&&(n={left:this.getSystemInfoSync().windowWidth-80-30,top:40,width:80,height:80,lineHeight:80,backgroundColor:"#ff0000",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:0,borderWidth:1,borderColor:"#ff0000"},i=s(s({},n),o),this._moreGameBotton?this._moreGameBotton.show():this._getAppLaunchOptions(function(n){cc.loader.loadRes("texture/game/more.png",cc.Texture2D,function(t,o){t||(r._moreGameBotton=window[r.platformName].createMoreGamesButton({type:"image",image:o.url,actionType:"box",style:i,appLaunchOptions:n,onNavigateToMiniGame:function(t){console.log("跳转其他小游戏",t),e&&e(1,t)}}),r._moreGameBotton.show(),r._moreGameBotton.onTap(function(){console.log("点击更多游戏"),e&&e(2,null)}))})}))},gt.prototype.hideMoreGameButton=function(){this._moreGameBotton&&this._moreGameBotton.hide()},gt.prototype.isIphone=function(){return!!window[this.platformName]&&"ios"==this.getSystemInfoSync().platform},gt.prototype.navigate2Mini=function(t,o,n,e){console.log("tt navigate2Mini "),this.showAppBox(function(){console.log("tt showAppBox close ")},!1)},gt);function gt(){var t=ft.call(this)||this;return t.platformName="tt",t.recordRes=null,t.recordCb=null,t.recordNumber=0,t.moreGameCb=null,t.mBannerLoaded=!1,t._regisiterWXCallback(),t._registerTTCallback(),t.initBanner(),t.initRecord(),t.initInter(),t.bannerWidth=208,t}var vt,yt=(t(bt,vt=W),bt.prototype._createBannerAd=function(){if(window[this.platformName]&&window[this.platformName].createBannerAd){var t=this.bannerHeigth=Math.round(this.bannerWidth/300*72.8071),o=this.getSystemInfoSync(),n=o.screenWidth,e=o.screenHeight,i=(n-this.bannerWidth)/2,r=e-t/2;if(!c.isEmpty(this.bannerId)){console.log("create banner by banner id ",this.bannerId);var a={top:r,left:i,width:this.bannerWidth,height:t};return console.log("create banner style ",a),window[this.platformName].createBannerAd({adUnitId:this.bannerId,style:a})}console.warn(b)}},bt.prototype.showBanner=function(t,o,n,e){var i=this;void 0===t&&(t=!0),void 0===n&&(n=u.BOTTOM),console.log(N),this.bannerCb=o,this.isBannerShow=!0,window[this.platformName]&&(this.bannerPosition=n,this.bannerStyle=e,t?moosnow.http.getAllConfig(function(t){0!=t.mistouchNum?(console.log("后台开启了banner，执行显示"),i._showBanner()):console.log("后台关闭了banner，不执行显示")}):this._showBanner())},bt.prototype._showBanner=function(){var t,o=this;!this.banner||(t=this.banner.show())&&t.then(function(){o._resetBanenrStyle({})})},bt.prototype._bottomCenterBanner=function(t){console.log("Resize后正式宽高:",t.width,t.height)},bt.prototype._resetBanenrStyle=function(t){var o=this.getSystemInfoSync(),n=(o.windowWidth,o.windowHeight),e=0,e=this.bannerPosition==u.BOTTOM?n-this.bannerHeigth:this.bannerPosition==u.CENTER?(n-this.bannerHeigth)/2:this.bannerPosition==u.TOP?0:this.bannerStyle.top;this.banner&&this.banner.style&&(this.banner.style.top=e)},bt.prototype.showAppBox=function(t,o){var n=this;void 0===o&&(o=!0),window[this.platformName]&&window[this.platformName].createAppBox&&(this.mOnBoxCallback=t,console.log("showAppBox"),moosnow.http.getAllConfig(function(t){!o||t&&1==t.showAppBox?(n.box||(n.box=window[n.platformName].createAppBox({adUnitId:n.moosnowConfig.boxId}),n.box.onClose(n.onBoxClose.bind(n))),n.box.load().then(function(){n.box.show()})):(c.isFunction(n.mOnBoxCallback)&&n.mOnBoxCallback(-1),console.log("后台不允许显示Box，如有需要请联系运营"))}))},bt.prototype.hideAppBox=function(t){var o,n=this;this.box&&(this.box.offClose(this.onBoxClose),o=this.box.destroy(),console.log("box destroy ",o),o&&o.then(function(){console.log("destroy successfully ",o),n.box=null,c.isFunction(t)&&t(!0)}).catch(function(){console.log("destroy fail ",o),n.box=null,c.isFunction(t)&&t(!1)}))},bt.prototype.onBoxClose=function(){c.isFunction(this.mOnBoxCallback)&&this.mOnBoxCallback(0)},bt);function bt(){var t=vt.call(this)||this;return t.platformName="qq",t._regisiterWXCallback(),t.initBanner(),t}var Nt,_t=function(){this.appid="",this.boxAppid="",this.desc="",this.img="",this.path="",this.title="",this.atlas="",this.pkgName="",this.extraData="",this.position="",this.onCancel=null,this.index=0,this.refresh=!1},Ct=(t(It,Nt=Q),It.prototype.getRemoteAd=function(a){var t={apk_id:moosnow.platform.moosnowConfig.moosnowAppId};moosnow.http.request("https://platform.qwpo2018.com/api/apk_ad/index",t,"POST",function(t){var o=t.data;if(o.sort(function(){return.5<Math.random()?1:-1}),console.log("接口数据",t.data),a){for(var n=[],e=0;e<o.length;e++){var i=o[e],r=new _t;r.appid=i.link_appid,r.img=i.link_img,r.path=i.link_path,r.title=i.link_name,r.pkgName=i.link_page,r.desc=i.link_des,n.push(r)}a(n)}},function(){a([]),console.log("getRemoteAd fail")},function(){console.log("getRemoteAd complete")})},It);function It(){return null!==Nt&&Nt.apply(this,arguments)||this}var St,At=(t(Bt,St=$),Bt.prototype.checkVersion=function(t,n){var e=this;moosnow.http.loadCfg(function(t){var o=St.prototype.checkLog.call(e,t.zs_version);n(o)})},Bt.prototype.login=function(o,n){window[this.platformName]?window[this.platformName].login({success:function(t){moosnow.http.request("https://platform.qwpo2018.com/api/oppo_login/index",{apk_id:moosnow.platform.moosnowConfig.moosnowAppId,code:t.data.token},"POST",function(t){moosnow.data.setToken(t.data.user_id),o&&o(t.data),console.log("platformLogin success ",t)},function(t){o&&o(null),console.log("platformLogin fail ",t)})},fail:function(t){n&&n(t)}}):o&&o()},Bt.prototype.navigate2Mini=function(t,o,n,e){var i=this;St.prototype.navigate2Mini.call(this,t,function(){i.navigateCallback(t.appid),c.isFunction(o)&&o()},n,e)},Bt.prototype.navigateCallback=function(t){var o={user_id:moosnow.data.getToken(),apk_id:moosnow.platform.moosnowConfig.moosnowAppId,appid:t,link_id:t};console.log("跳转数据上报",o),moosnow.http.request("https://platform.qwpo2018.com/api/apk_ad/click_log",o,"POST",function(t){console.log("跳转数据上报成功",t)},function(t){console.log("跳转数据上报失败",t)},function(){console.log("upload navigate complete")})},Bt);function Bt(){return null!==St&&St.apply(this,arguments)||this}var Et,Ot=(t(Lt,Et=W),Lt.prototype._createBannerAd=function(){if(window[this.platformName]&&window[this.platformName].createBannerAd){var t=this.getSystemInfoSync(),o=t.screenWidth,n=t.screenHeight;if(!c.isEmpty(this.bannerId))return window[this.platformName].createBannerAd({adUnitId:this.bannerId,appSid:this.appSid,style:{top:n,width:o}});console.warn(b)}},Lt.prototype.createRewardAD=function(t){var o=this;this.videoLoading||window[this.platformName].createRewardedVideoAd&&(this.video?(this.video.offClose(this._onVideoClose),this.video.offError(this._onVideoError),this.video.offLoad(this._onVideoLoad)):this.video=window[this.platformName].createRewardedVideoAd({adUnitId:this.videoId,appSid:this.appSid}),this.video.onError(this._onVideoError),this.video.onClose(this._onVideoClose),this.video.onLoad(this._onVideoLoad),this.videoLoading=!0,this.video.load().then(function(){t&&o.video.show().then(function(){}).catch(function(t){o._onVideoError(t.errMsg,t.errCode),console.log(t.errMsg)})}).catch(function(t){o._onVideoError(t.errMsg,t.errCode),console.log(t.errMsg)}))},Lt.prototype.initRecord=function(){var t;window[this.platformName]&&(t=this.getSystemInfoSync().brand.toLowerCase(),/huawei/.test(t)||/honor/.test(t)||(this.record=window[this.platformName].getVideoRecorderManager()))},Lt.prototype.startRecord=function(t,o){var n=this;void 0===t&&(t=120),void 0===o&&(o=null),console.log("record startRecord"),this.recordRes=null,this.recordCb=null,this.record?(this.record.onStart(function(t){console.log("record onStart"),o&&o(t)}),this.record.onStop(function(t){n.recordRes=t,n.recordCb&&(console.log("stop 2"),n.recordCb(t))}),this.record.start({duration:t})):o&&o(!1)},Lt.prototype.stopRecord=function(t){void 0===t&&(t=null),console.log("record stopRecord"),this.record?this.recordRes?(console.log("stop 1"),t(this.recordRes)):(this.recordCb=t,this.record.stop()):t&&t(!1)},Lt);function Lt(){var t=Et.call(this)||this;return t.platformName="swan",t.bannerId="",t.videoId="",t.appSid="",t.recordRes=null,t.recordCb=null,t}var Tt,xt=(t(Pt,Tt=Z),Pt.prototype.getMisTouchNum=function(o){this.loadCfg(function(t){o(parseInt(t.mistouchNum))})},Pt.prototype.getMistouchPosNum=function(o){this.loadCfg(function(t){o(parseInt(t.mistouchPosNum))})},Pt.prototype.getBannerShowCountLimit=function(o){this.loadCfg(function(t){isNaN(t.bannerShowCountLimit)?o(5):o(parseInt(t.bannerShowCountLimit))})},Pt.prototype.getAllConfig=function(o){this.loadCfg(function(t){o(t)})},Pt.prototype.loadCfg=function(n){var t,e=this;this.cfgData?n(this.cfgData):(t=moosnow.platform.moosnowConfig.url+"?t="+Date.now(),console.log("appid ",moosnow.platform.moosnowConfig.moosnowAppId),this.request(t,{apk_id:moosnow.platform.moosnowConfig.moosnowAppId},"POST",function(t){var o=t.data.zs_version==moosnow.platform.moosnowConfig.version;e.cfgData=s(s({},c.deepCopy(t.data)),{mistouchNum:t.data.zs_switch,mistouchPosNum:t.data.zs_switch,showNative:o,showInter:o,showExportAd:o,mx_native_click_switch:1==t.zs_native_click_switch,mx_jump_switch:1==t.zs_jump_switch,bannerShowCountLimit:isNaN(t.data.bannerShowCountLimit)?1:t.data.bannerShowCountLimit}),moosnow.platform&&(moosnow.platform.bannerShowCountLimit=parseInt(t.data.bannerShowCountLimit)),n(e.cfgData)},function(){n({}),console.log("load config json fail")}))},Pt);function Pt(){return null!==Tt&&Tt.apply(this,arguments)||this}var Rt={FAIL:"请分享到群！"},kt={ERR:"视频正在加载中,请稍后",NOTEND:"请完整观看完视频！"},Mt=(Dt.prototype.shuffle=function(t){for(var o,n,e=t.length,i=e;i--;)i!==(n=Math.floor(Math.random()*e))&&(o=t[i],t[i]=t[n],t[n]=o);return t},Dt.prototype.indexOf=function(t,o){for(var n=-1,e=0,i=t.length;e<i;e++)if(t[e]==o){n=e;break}return n},Dt.prototype.replace=function(t,o,n){var e=t[o],i=t[n];t[n]=e,t[o]=i},Dt.prototype.merge=function(t,o){for(var n=0,e=t.length;n<e;n++)o.push(t[n]);return o},Dt.clone=function(t){return new Array,t.slice(0)},Dt.remove=function(t,o){for(var n=0;n<t.length;n++)if(t[n]==o)return t.splice(n,1),void n--},Dt);function Dt(){}var Ht,Vt=(t(Ft,Ht=d),Ft.prototype.addListener=function(t,o,n){this._addListener(t,o,!1,n)},Ft.prototype.addToSendQueue=function(t,o){this._addToSendList(t,o)},Ft.prototype.sendEventImmediately=function(t,o){this._sendEvent(t,o),this.onUpdate()},Ft.prototype.removeListener=function(t,o){if(null!=t&&""!=t)for(var n=0;n<this._eventList.length;n++){var e=this._eventList[n];if(e.eventName===t){for(var i=0;i<e.listeners.length;i++){var r=e.listeners[i];if(r.target===o){Mt.remove(e.listeners,r);break}}0==e.listeners.length&&Mt.remove(this._eventList,e);break}}else console.error("eventName:"+t+"不合法！")},Ft.prototype.removeAllListener=function(){this._eventList.length=0,this._eventList=[],this._waitingForSendList.length=0,this._waitingForSendList=[]},Ft.prototype._addListener=function(t,o,n,e){if(null!=t&&""!=t){var i=new Ut;e instanceof Function?i.callback=e:console.error("callback不是一个方法"),o?i.target=o:console.error("target为空"),i.once=n;var r=!1;if(0<this._eventList.length){for(var a,s=0;s<this._eventList.length;s++){var h=this._eventList[s];if(t===h.eventName)return h.listeners.push(i),void(r=!0)}r||((a=new Gt).eventName=t,a.listeners.push(i),this._eventList.push(a))}else{var l=new Gt;l.eventName=t,l.listeners.push(i),this._eventList.push(l)}}else console.error("eventName:"+t+"不合法！")},Ft.prototype._addToSendList=function(t,o){var n;null!=t&&""!=t?(n={eventName:t,data:o},this._waitingForSendList.push(n)):console.error("eventName:"+t+"不合法！")},Ft.prototype._sendEvent=function(t,o){for(var n=this._eventList,e=0;e<n.length;e++){var i=n[e];if(i.eventName===t)for(var r=i.listeners,a=r.length-1;0<=a;a--){var s=r[a],h=s.callback,l=s.target;l?(h.call(l,o),s.once&&this._eventList[e].listeners[a]&&(Mt.remove(this._eventList[e].listeners,s),e--)):(Mt.remove(this._eventList[e].listeners,s),a--)}}},Ft.prototype.onUpdate=function(){if(0!=this._waitingForSendList.length)for(var t=0;t<this._waitingForSendList.length;t++){var o=this._waitingForSendList[t];this._sendEvent(o.eventName,o.data),Mt.remove(this._waitingForSendList,o),t--}},Ft.prototype.onDisable=function(){},Ft);function Ft(){var t=Ht.call(this)||this;return t._eventList=[],t._waitingForSendList=[],t._eventList=[],t._waitingForSendList=[],t}var Wt,Ut=function(){this.callback=null,this.target=[],this.once=!1,this.callback=null,this.target=null,this.once=!1},Gt=function(){this.eventName="",this.listeners=[],this.eventName="",this.listeners=[]},jt=(t(qt,Wt=W),qt.prototype.initAdService=function(){moosnow.event.addListener(w.ON_PLATFORM_SHOW,this,this.onAppShow)},qt.prototype.navigate2Mini=function(t,o,n,e){var i,r,a,s,h=this;console.log(I,t),Date.now()-this.prevNavigate<300?console.log(C):(this.prevNavigate=Date.now(),window[this.platformName]?(i=t.appid,r=t.path,s=t.extraData,a=t.pkgName,s=s||{},this.supportVersion(1044)?window[this.platformName].navigateToMiniGame({appId:i,path:r,pkgName:a||i,extraData:s,success:function(){window[h.platformName]&&window[h.platformName].aldSendEvent&&window[h.platformName].aldSendEvent("跳转",{position:t.position,appid:i,img:t.atlas||t.img}),moosnow.http.exportUser(),o&&o()},fail:function(t){console.log("navigateToMiniProgram error ",t),n&&n()},complete:function(){e&&e()}}):console.log(F)):o&&o())},qt.prototype.supportVersion=function(t){return this.getSystemInfoSync().platformVersion>=t},qt.prototype._onBannerError=function(t){console.warn("banner___error:",t.errCode," msg ",t.errMsg),this.destroyBanner()},qt.prototype.getSystemInfoSync=function(){return null==this.systemInfo&&(window[this.platformName]&&window[this.platformName].getSystemInfoSync?this.systemInfo=window[this.platformName].getSystemInfoSync():this.systemInfo={},console.log(S,this.systemInfo)),this.systemInfo},qt.prototype._prepareBanner=function(){window[this.platformName].createBannerAd&&(this.banner&&(this.banner.offSize(),this.banner.offError(),this.banner.offLoad(),this.banner.offClose(),this.banner.destroy(),this.banner=null),this.banner=this._createBannerAd(),this.banner&&(this.banner.onSize(this._bottomCenterBanner.bind(this)),this.banner.onError(this._onBannerError.bind(this)),this.banner.onLoad(this._onBannerLoad.bind(this)),this.banner.onClose(this._onBannerClose.bind(this))))},qt.prototype._createBannerAd=function(){if(window[this.platformName]&&window[this.platformName].createBannerAd){var t=Date.now();if(this.mShowTime||(this.mShowTime=t),!this.mShowTime||this.mShowTime&&t-this.mShowTime<=1e3*this.mMinInterval)console.log("banner创建太频繁了 "+this.mMinInterval+"秒内只能显示一次");else{this.mShowTime=Date.now();var o=this.getSystemInfoSync(),n=o.screenWidth,e=o.screenHeight,i=o.statusBarHeight,r=o.pixelRatio,a=this.getNotchHeight(),s=(n-this.bannerWidth)/r/2;if(!c.isEmpty(this.bannerId)){var h={top:this.bannerPosition==u.BOTTOM?(e-this.bannerHeight)/r:this.bannerPosition==u.CENTER?(e-this.bannerHeight)/r/2:this.bannerPosition==u.TOP?this.isLandscape(o.screenHeight,o.screenWidth)?0:i+a:this.bannerStyle.top,left:s,width:this.bannerWidth,height:this.bannerHeight};return console.log("_createBannerAd style",h,"screenHeight",e,"bannerHeigth",this.bannerHeigth),window[this.platformName].createBannerAd({posId:this.bannerId,style:h})}console.warn(b)}}},qt.prototype.getNotchHeight=function(){var t=0;return window[this.platformName].getNotchHeightSync&&(t=window[this.platformName].getNotchHeightSync().height),t},qt.prototype._bottomCenterBanner=function(t){this.bannerHeight=t.realHeight,this.bannerWidth=t.realWidth,console.log("onSize callback  ",t)},qt.prototype._onBannerClose=function(){console.log("banner 已关闭 ")},qt.prototype._onBannerHide=function(){console.log("banner 已隐藏 ")},qt.prototype.destroyBanner=function(){this.banner&&(this.banner.offResize(this._bottomCenterBanner),this.banner.offError(this._onBannerError),this.banner.offLoad(this._onBannerLoad),this.banner.offClose(this._onBannerClose),this.banner.destroy(),this.banner=null)},qt.prototype.showBanner=function(t,o,n,e){var i=this;void 0===t&&(t=!0),void 0===n&&(n=u.BOTTOM),this.bannerCb=o,this.isBannerShow=!0,window[this.platformName]&&(this.bannerPosition=n,this.bannerStyle=e,t?moosnow.http.getAllConfig(function(t){0!=t.mistouchNum?(console.log("后台开启了banner，执行显示"),i._showBanner()):console.log("后台关闭了banner，不执行显示")}):this._showBanner())},qt.prototype._showBanner=function(){var t;this.banner||this.initBanner(),this.banner&&(t=this.banner.show(),console.log("显示banner style ",this.banner),t&&t.then(function(){console.log("banner广告展示成功")}).catch(function(t){switch(t.code){case 30003:console.log("新用户1天内不能曝光Banner，请将手机时间调整为1天后，退出游戏重新进入");break;case 30009:console.log("10秒内调用广告次数超过1次，10秒后再调用");break;case 30002:console.log("加载广告失败，重新加载广告");break;default:console.log("banner广告展示失败"),console.log(JSON.stringify(t))}}))},qt.prototype.hideBanner=function(){console.log(y),this.isBannerShow&&window[this.platformName]&&(this.bannerShowCount++,this.banner&&(this.banner.hide(),this.destroyBanner()),this.isBannerShow=!1)},qt.prototype.createRewardAD=function(t){moosnow.platform.videoLoading||(window[this.platformName]?window[this.platformName].createRewardedVideoAd&&(c.isEmpty(this.videoId)?console.warn(A):this.video?this.video.load():(moosnow.platform.videoLoading=!0,this.video=window[this.platformName].createRewardedVideoAd({posId:this.videoId}),this.video.onError(this._onVideoError.bind(this)),this.video.onClose(this._onVideoClose.bind(this)),this.video.onLoad(this._onVideoLoad.bind(this)))):moosnow.platform.videoCb(m.END))},qt.prototype._onVideoLoad=function(){var t=this;console.log(B),moosnow.platform.videoLoading=!1,this.video&&this.video.show().then(function(){t.videoPlaying=!0,moosnow.event.sendEventImmediately(w.ON_PLATFORM_HIDE,{}),console.log("激励视频广告展示完成")}).catch(function(t){console.log("激励视频广告展示失败",JSON.stringify(t))})},qt.prototype._onVideoClose=function(t){var o;console.log(E,t.isEnded),moosnow.platform.videoLoading=!1,this.videoPlaying=!1,t.isEnded&&moosnow.http.clickVideo(),moosnow.event.sendEventImmediately(w.ON_PLATFORM_SHOW,{}),moosnow.platform.videoCb&&(o=t.isEnded?m.END:m.NOTEND,setTimeout(function(){moosnow.platform.videoCb(o)},50))},qt.prototype.prepareInter=function(){if(c.isEmpty(this.interId))console.warn(H);else if(window[this.platformName])if(this.supportVersion("1061")){if("function"!=typeof window[this.platformName].createInterstitialAd)return;this.inter=window[this.platformName].createInterstitialAd({adUnitId:this.interId}),this.inter.onLoad(this._onInterLoad.bind(this)),this.inter.onClose(this._onInterClose.bind(this)),this.inter.load()}else{if("function"!=typeof window[this.platformName].createInsertAd)return;this.inter=window[this.platformName].createInsertAd({adUnitId:this.interId}),this.inter.onLoad(this._onInterLoad.bind(this)),this.inter.onShow(this._onInterOnShow.bind(this)),this.inter.load()}},qt.prototype.showInter=function(){this.inter?this.inter.show():this.interLoadedShow=!0},qt.prototype._onInterLoad=function(){this.interLoadedShow&&(this.inter?this.inter.show():this.interLoadedShow=!1)},qt.prototype._onInterOnShow=function(){this.inter&&this.inter.load()},qt.prototype.showAutoBanner=function(){console.log(" vivo 不支持自动")},qt.prototype.reportMonitor=function(t,o){window[this.platformName]&&window[this.platformName].reportMonitor&&window[this.platformName].reportMonitor("game_scene",0)},qt.prototype._prepareNative=function(t){void 0===t&&(t=!1),window[this.platformName]&&"function"==typeof window[this.platformName].createNativeAd&&(this.native=window[this.platformName].createNativeAd({posId:this.nativeId[this.nativeIdIndex]}),this.native.onLoad(this._onNativeLoad.bind(this)),this.native.onError(this._onNativeError.bind(this)),this.nativeLoading=!0,t&&this.native.load())},qt.prototype._onNativeLoad=function(t){this.nativeLoading=!1,console.log(L,t),t&&t.adList&&0<t.adList.length?(this.nativeAdResult=t.adList[0],c.isEmpty(this.nativeAdResult.adId)||(console.log(k),this.native.reportAdShow({adId:this.nativeAdResult.adId})),c.isFunction(this.nativeCb)&&this.nativeCb(c.deepCopy(this.nativeAdResult))):(console.log(M),c.isFunction(this.nativeCb)&&this.nativeCb(null))},qt.prototype._onNativeError=function(t){this.nativeLoading=!1,this.nativeAdResult=null,20003==t.code?this.nativeIdIndex<this.nativeId.length-1?(console.log(T,t),this.nativeIdIndex+=1,this._destroyNative(),this.nativeCb(null)):(console.log(P),this.nativeIdIndex=0,c.isFunction(this.nativeCb)&&this.nativeCb(null)):(console.log(x,t),c.isFunction(this.nativeCb)&&this.nativeCb(null))},qt.prototype._destroyNative=function(){this.nativeLoading=!1,this.native.offLoad(),this.native.offError(),this.native.destroy(),console.log(D)},qt.prototype.showNativeAd=function(t){var o,n=this;this.nativeCb=t,this.native?(o=this.native.load())&&o.then(function(){console.log("加载完成")}).catch(function(t){n.nativeCb(null)}):this._prepareNative(!0)},qt.prototype.clickNative=function(t){this.nativeAdResult&&!c.isEmpty(this.nativeAdResult.adId)&&(this.mClickedNativeCallback=t,this.mIsClickedNative=!0,console.log(R,this.nativeAdResult.adId),this.native.reportAdClick({adId:this.nativeAdResult.adId}))},qt.prototype.onAppShow=function(){this.mIsClickedNative&&(this.mIsClickedNative=!1,c.isFunction(this.mClickedNativeCallback)&&this.mClickedNativeCallback())},qt);function qt(){var t=Wt.call(this)||this;return t.platformName="qg",t.appSid="",t.bannerWidth=1080,t.bannerHeight=114,t.interLoadedShow=!1,t.prevNavigate=Date.now(),t.mMinInterval=10,t.mIsClickedNative=!1,t._regisiterWXCallback(),t.initAdService(),t}var Xt,Qt={NONE:0,BANNER:1,FLOAT:2,SIDE:4,CENTER:8,EXPORT:16,BACK:32,MASK:64,WAIT:128,LEFTRIGHT:256,EXPORT_FIXED:512,EXTEND1:1024,EXTEND2:2048,EXTEND3:4096,EXTEND4:8192,TOP:32768,RECOVER:16384},zt=(t(Kt,Xt=d),Kt.prototype.onEnable=function(){},Kt.prototype.loadAsset=function(t,o,n){if(c.getEngine()==r){if(e=cc.loader.getRes(t,o))return void(n&&n(null,e));cc.loader.loadRes(t,o,function(t,o){n&&n(t,o)})}else if(c.getEngine()==a){var e;if(e=Laya.loader.getRes(t))return void(n&&n(null,e));Laya.loader.create(t,Laya.Handler.create(this,function(t){n(null,t)}),null,o)}},Kt.prototype.loadAssetDir=function(t,o,i,n){c.getEngine()==r?cc.loader.loadResDir(t,o,function(t,o,n){var e=t/o*100,e=Math.ceil(e);i&&i(e)},function(t,o){n&&n(t,o)}):console.warn("不支持loadAssetDir")},Kt.prototype.onDisable=function(){},Kt);function Kt(){return Xt.call(this)||this}var Zt=(Yt.create=function(t){return new t},Object.defineProperty(Yt.prototype,"hideForm",{get:function(){return this._hideForm},set:function(t){this._hideForm=t},enumerable:!0,configurable:!0}),Yt);function Yt(){this._hideForm=!0,this.extraData={}}var Jt,$t=(t(to,Jt=Zt),to);function to(){var t=null!==Jt&&Jt.apply(this,arguments)||this;return t.coinNum=0,t.videoNum=0,t.shareCoinNum=0,t.isWin=!0,t.level="1",t}var oo,no=(t(eo,oo=Zt),eo);function eo(){var t=null!==oo&&oo.apply(this,arguments)||this;return t.showCoinAnim=!0,t.coinOptions=null,t.baseNum=1,t.callback=null,t.shareCallback=null,t.videoCallback=null,t}var io,ro=(t(ao,io=Zt),ao);function ao(){var t=null!==io&&io.apply(this,arguments)||this;return t.shareCoinNum=0,t}var so,ho=(t(lo,so=Zt),lo);function lo(){var t=null!==so&&so.apply(this,arguments)||this;return t.coinNum=0,t.videoNum=0,t.shareCoinNum=0,t}var co,po=(t(fo,co=Zt),fo);function fo(){var t=null!==co&&co.apply(this,arguments)||this;return t.type=1,t}var uo,mo=function(){this.x=0,this.y=0,this.z=0},wo=(t(go,uo=Zt),go);function go(){var t=null!==uo&&uo.apply(this,arguments)||this;return t.randomY=100,t.randomX=100,t.imgNum=30,t.coinNum=0,t.starVec=new mo,t.endVec=new mo,t}function vo(){this.VIDEO_STATUS=m,this.VIDEO_MSG=kt,this.SHARE_MSG=Rt,this.BANNER_POSITION=u,this.SHARE_CHANNEL=ut,this.APP_PLATFORM=i,this.PLATFORM_EVENT=w,this.Common=c,this.AD_POSITION=Qt,this.showOptions={endOptions:$t,prizeOptions:no,shareOptions:ro,totalOptions:ho,touchOptions:po,coinOptions:wo},this.mData=new nt,this.mResource=new zt,this.mSetting=new rt,this.mAudio=null,(window.moosnow=this).mData=new nt,this.mSetting=new rt,this.mEvent=new Vt,this.initPlatform(),this.initHttp(),this.initAd()}new(vo.prototype.getAppPlatform=function(){return c.platform},vo.prototype.initHttp=function(){c.platform!=i.WX&&c.platform==i.OPPO_ZS?this.mHttp=new xt:this.mHttp=new Z},vo.prototype.initPlatform=function(){c.platform==i.WX?this.mPlatform=new j:c.platform==i.OPPO?this.mPlatform=new $:c.platform==i.VIVO?this.mPlatform=new jt:c.platform==i.OPPO_ZS?this.mPlatform=new At:c.platform==i.BYTEDANCE?this.mPlatform=new wt:c.platform==i.QQ?this.mPlatform=new yt:c.platform==i.BAIDU?this.mPlatform=new Ot:this.mPlatform=new W},vo.prototype.initAd=function(){c.platform==i.WX||c.platform==i.PC||c.platform==i.BYTEDANCE?this.mAd=new pt:c.platform==i.OPPO?this.mAd=new ht:c.platform==i.OPPO_ZS?this.mAd=new Ct:this.mAd=new Q},Object.defineProperty(vo.prototype,"platform",{get:function(){return this.mPlatform},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"ad",{get:function(){return this.mAd},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"http",{get:function(){return this.mHttp},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"data",{get:function(){return this.mData},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"resource",{get:function(){return this.mResource},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"setting",{get:function(){return this.mSetting},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"event",{get:function(){return this.mEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"audio",{get:function(){return this.mAudio},set:function(t){this.mAudio=t},enumerable:!0,configurable:!0}),vo)}();
