!function(){"use strict";var e=function(o,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var n in t)t.hasOwnProperty(n)&&(o[n]=t[n])})(o,t)};function o(o,t){function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var n,t,u=function(){return(u=Object.assign||function(o){for(var t,n=1,e=arguments.length;n<e;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o}).apply(this,arguments)};(t=n=n||{})[t.WX=0]="WX",t[t.BYTEDANCE=1]="BYTEDANCE",t[t.OPPO=2]="OPPO",t[t.OPPO_ZS=3]="OPPO_ZS",t[t.BAIDU=4]="BAIDU",t[t.QQ=5]="QQ",t[t.PC=6]="PC",t[t.VIVO=7]="VIVO";var i="cc",r="Laya",s="",h=(a.titleCase=function(o){for(var t=o.toLowerCase().split(/\s+/),n=0;n<t.length;n++)t[n]=t[n].slice(0,1).toUpperCase()+t[n].slice(1);return t.join(" ")},a.numFixed=function(o,t){return parseFloat(parseFloat(o).toFixed(t))},a.parseMoney=function(o){return isNaN(o)?0:parseFloat(parseFloat(o).toFixed(2))},a.objKeySort=function(o){for(var t=Object.keys(o).sort(),n={},e=0;e<t.length;e++)n[t[e]]=o[t[e]];return n},a.isObject=function(o){var t=typeof o;return null!==o&&("object"==t||"function"==t)},a.object2Query=function(o){var t=[];for(var n in o)t.push(n+"="+o[n]);return t.join("&")},a.isFunction=function(o){return"function"==typeof o},a.isEmpty=function(o){if("object"!=typeof o)return null==o||"null"===o||"undefined"===o||""===o;var t;for(t in o)return!1;return!0},a.formatTime=function(o){return[o.getHours(),o.getMinutes()].map(this.formatNumber).join(":")},a.formatNumber=function(o){return(o=o.toString())[1]?o:"0"+o},a.copy=function(o,t){for(var n in o)t[n]=o[n]},a.randomNumBoth=function(o,t){var n=t-o,e=Math.random();return o+Math.round(e*n)},a.randomFloat=function(o,t){return o+Math.random()*t},a.randomToRatio=function(o,t,n){return this.randomNumBoth(o,t)<=n},a.generateUUID=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==o?t:3&t|8).toString(16)})},a.isNumber=function(o){return"number"==typeof o||"[object Number]"==Object.prototype.toString.call(o)},a.isArray=function(o){return"[object Array]"==Object.prototype.toString.call(o)},a.isString=function(o){return"[object String]"===Object.prototype.toString.call(o)},Object.defineProperty(a,"platform",{get:function(){if(this.mPlatform)return this.mPlatform;var o,t=window.moosnowConfig;return window.tt?this.mPlatform=n.BYTEDANCE:window.swan?this.mPlatform=n.BAIDU:window.qq?this.mPlatform=n.QQ:window.qg?window.qg&&window.qg.getSystemInfoSync?(o=window.qg.getSystemInfoSync(),console.log("平台判断",JSON.stringify(o)),o&&o.brand&&-1!=o.brand.toLocaleLowerCase().indexOf("vivo")?this.mPlatform=n.VIVO:-1!=t.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=n.OPPO_ZS:this.mPlatform=n.OPPO):-1!=t.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=n.OPPO_ZS:this.mPlatform=n.OPPO:window.wx?this.mPlatform=n.WX:t.debug&&t[t.debug]?"wx"==t.debug?this.mPlatform=n.WX:"oppo"==t.debug?-1!=t.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=n.OPPO_ZS:this.mPlatform=n.OPPO:"bd"==t.debug?this.mPlatform=n.BAIDU:"byte"==t.debug?this.mPlatform=n.BYTEDANCE:"qq"==t.debug?this.mPlatform=n.QQ:"vivo"==t.debug?this.mPlatform=n.VIVO:this.mPlatform=n.PC:this.mPlatform=n.PC,this.mPlatform},enumerable:!0,configurable:!0}),Object.defineProperty(a,"config",{get:function(){var o=window.moosnowConfig,t=a.platform==n.WX?o.wx:a.platform==n.OPPO||a.platform==n.OPPO_ZS?o.oppo:a.platform==n.VIVO?o.vivo:a.platform==n.QQ?o.qq:a.platform==n.BAIDU?o.bd:a.platform==n.BYTEDANCE?o.byte:o.wx;return t},enumerable:!0,configurable:!0}),a.deepCopy=function(o){var t=Array.isArray(o)?[]:{};if(o&&"object"==typeof o)for(var n in o)o.hasOwnProperty(n)&&(o[n]&&"object"==typeof o[n]?t[n]=this.deepCopy(o[n]):t[n]=o[n]);return t},a.getEngine=function(){return window[i]?i:window[r]?r:s},a.popOpenAnim=function(o,t){if(this.getEngine()==i)return o.scale=.8,void o.runAction(cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.callFunc(function(){t&&t()},this)));t()},a.popCloseAnim=function(o,t){if(this.getEngine()==i)return o.scale=1,void o.runAction(cc.sequence(cc.scaleTo(.1,0,0),cc.callFunc(function(){t&&t()},this)));t()},a.format=function(o){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(void 0===o||null==o||""==o||"undefined"==o)return o;for(var e=0;e<t.length;e++){var i=new RegExp("\\{"+e+"\\}","gm");o=o.replace(i,t[e])}return o},a.formatMoney=function(o){return isNaN(o)&&(o=0),o<9999?parseInt(""+o):o<9999999?parseFloat(""+o/1e3).toFixed(2)+"K":o<9999999999?parseFloat(""+o/1e6).toFixed(2)+"M":o<9999999999999?parseFloat(""+o/1e9).toFixed(2)+"G":o<1e16?parseFloat(""+o/1e12).toFixed(2)+"T":o<1e19?parseFloat(""+o/1e15).toFixed(2)+"P":o<1e22?parseFloat(""+o/1e18).toFixed(2)+"E":parseFloat(""+o/1e21).toFixed(2)+"B"},a);function a(){}var c=(l.prototype.schedule=function(o,t){var n=this,e=setInterval(function(){o&&o.apply(n)},1e3*t);console.log("BaseModule schedule ",e),this.mIntervalArr[e]=o},l.prototype.unschedule=function(o){for(var t in this.mIntervalArr)this.mIntervalArr[t]!==o&&!h.isEmpty(this.mIntervalArr[t])||clearInterval(parseInt(t))},l.prototype.scheduleOnce=function(o,t){var n=this,e=setTimeout(function(){clearTimeout(e),o&&o.apply(n)},1e3*t);this.mTimeoutArr[e]=o},l.prototype.unscheduleOnce=function(o){for(var t in this.mTimeoutArr)this.mTimeoutArr[t]!==o&&!h.isEmpty(this.mTimeoutArr[t])||clearTimeout(parseInt(t))},l.prototype.initProperty=function(o){for(var t in o)this.hasOwnProperty(t)&&(this[t]=o[t])},l.prototype.preload=function(o,t){t&&t()},l.prototype._findComponent=function(o,t){for(var n=null,e=0;e<o._components.length;e++){var i=o._components[e];if(i.willHide&&i.willShow){n=i;break}}return n},l.prototype._findComponentByName=function(o,t){return!!o&&(o.name==t||this._findComponentByName(o.$super,t))},l);function l(){this.moduleName="",this.mIntervalArr={},this.mTimeoutArr={}}var m,p=(o(d,m=c),d.prototype.update=function(o){if(!this.paused)for(var t=0;t<this.entityLogics.length;t++)this.entityLogics[t].onFwUpdate(o)},d.prototype.pause=function(){this.paused=!0},d.prototype.resume=function(){this.paused=!1},d.prototype.getAllEntity=function(t){return this.entityLogics.filter(function(o){return o.poolName==t})},d.prototype.showEntity=function(o,t,n,e){},d.prototype.hideEntity=function(o,t,n){void 0===n&&(n=!1)},d.prototype.hideAllEntity=function(o,t){void 0===t&&(t=!1)},d);function d(){var o=m.call(this)||this;return o.entityLogics=[],o._serializeId=0,o.paused=!0,o.prefabPath="prefab/entity/",o.mEntity3DPools=[],o.mEntity3DLogics=[],o.entityPools=[],o.mIsSlow=!0,o.entityLogics=[],o.mEntity3DPools=[],o.mEntity3DLogics=[],o._serializeId=0,o}var f,y=(o(w,f=p),w.prototype.preload=function(o,n){cc.loader.loadRes(this.prefabPath+""+o,cc.Prefab,function(o,t){n&&n(o,t)})},w.prototype.showEntity=function(o,t,n,e){var i=this._showEntity(o,e);return i.id=this._serializeId--,i.node.parent=t,i.willShow(n),i.node.active=!0,i.node.zIndex=i.id,i.onShow(n),this.entityLogics.push(i),i},w.prototype._createEntity=function(o,t){var n=h.isString(o)?this._getPrefabByName(o,t):o;return cc.instantiate(n)},w.prototype._showEntity=function(o,t){var n=this._getOrNewEntityPool(o),e=n.get();null==e&&(e=this._createEntity(o,t));var i=this._findComponent(e,"EntityLogic");return i.poolName=n.name,i},w.prototype._getPrefabByName=function(o,t){var n=this.prefabPath||t;return cc.loader.getRes(n+""+o,cc.Prefab)},w.prototype._getOrNewEntityPool=function(o){var t=this._getPoolName(o),n=this._getEntityPool(t);return null==n&&(n=this._newEntityPool(t)),n},w.prototype._getPoolName=function(o){var t=h.getEngine();return t==i&&h.isObject(o)?o.name:t==r&&h.isObject(o)?o.json.name:""+o},w.prototype._getEntityPool=function(o){for(var t=0;t<this.entityPools.length;t++){var n=this.entityPools[t];if(n.name===o)return n}return null},w.prototype._newEntityPool=function(o){var t=new cc.NodePool(o);return t.name=o,this.entityPools.push(t),t},w.prototype.hideEntity=function(o,t,n){void 0===n&&(n=!1),this._hideEntity(o,t,n)},w.prototype.hideAllEntity=function(o,t){void 0===t&&(t=!1);for(var n=0;n<this.entityLogics.length;n++){var e=this.entityLogics[n];e.poolName==o&&(this.hideEntity(e,null,t),n--)}},w.prototype._hideEntity=function(o,t,n){var e;void 0===n&&(n=!1),n?(o.willHide(t),o.node.active=!1,o.onHide(t),o.destroy()):(e=this._getOrNewEntityPool(o.poolName),o.willHide(t),e.put(o.node),o.node.active=!1,o.onHide(t)),cc.js.array.remove(this.entityLogics,o)},w);function w(){var o=null!==f&&f.apply(this,arguments)||this;return o.prefabPath="moosnow/prefab/entity/",o}var v,F=function(){this.name="",this.node=null,this.UIForm=null,this.zIndex=0,this.name="",this.node=null,this.UIForm=null,this.zIndex=0},g=(o(C,v=c),C.prototype.showToast=function(n){var e=this,i=this;null==i.toastForm?this._createUINode("toastForm",1e3,function(o,t){cc.Canvas.instance.node.addChild(o),i.toastForm=e._findComponent(o,"toastForm"),o.zIndex=t,i.toastForm.show(n)}):i.toastForm.show(n)},C.prototype.pushUIForm=function(o,t,n,e){var i=this,r=this._getUINodeFromCacheByName(o);null==r?this._createUIFormModel(o,function(o){i._showUIForm(o,t),n&&n(o,t)},e):(r.zIndex=this.layerIndex++,this.UIFormStack.push(r),this._showUIForm(r,t),n&&n(r,t))},C.prototype.pop=function(o,t){var n;void 0===o&&(o=!1),0!=this.UIFormStack.length&&(n=this.UIFormStack.pop(),o?this._destroyUIForm(n,null):this._hideUIForm(n,null,t))},C.prototype.getUIFrom=function(o){for(var t=0;t<this.UIFormStack.length;t++){var n=this.UIFormStack[t];if(n.name==o)return n.UIForm}},C.prototype.hideUIForm=function(o,t,n){if("string"==typeof o)for(var e=0;e<this.UIFormStack.length;e++)(i=this.UIFormStack[e]).name==o&&this._hideUIForm(i,t,n);else for(var i,e=0;e<this.UIFormStack.length;e++)(i=this.UIFormStack[e])==o&&this._hideUIForm(i,t,n)},C.prototype.hideAllUIForm=function(){for(var o=this.UIFormStack.length-1;0<=o;o--){var t=this.UIFormStack[o];this._hideUIForm(t,null)}},C.prototype.destroyUIForm=function(o,t){for(var n=0;n<this.UIFormStack.length;n++){var e=this.UIFormStack[n];e.name==o&&this._destroyUIForm(e,t)}},C.prototype._formatUIFormName=function(o){return o.replace(/\//g,"_")},C.prototype._createUINode=function(e,i,r,o){var s=this.UIRoot+e;o&&(s=o+e),cc.loader.loadRes(s,cc.Prefab,function(o,t){o&&console.warn("预制体不存在："+e+" path : "+s);var n=cc.instantiate(t);r&&r(n,i)})},C.prototype._createUIFormModel=function(r,s,o){var a=this,h=this,c=new F;c.name=r;var t=this.layerIndex++;c.zIndex=t,this.UIFormStack.push(c),this._createUINode(r,t,function(o,t){for(var n=0;n<h.UIFormStack.length;n++){var e=h.UIFormStack[n];if(e.zIndex==t&&e.name==o.name){if(null==o)return void a._removeStack(n);var i=a._findComponent(o,"UIForm");return i.formName=r,e.UIForm=i,e.node=o,void(s&&s(c))}}},o)},C.prototype._getUINodeFromCacheByName=function(o){for(var t=0;t<this.cachedUIForms.length;t++){var n=this.cachedUIForms[t];if(null!=n.node&&n.name==o)return this.cachedUIForms.splice(t,1),n}return null},C.prototype._showUIForm=function(o,t){var n;cc.Canvas.instance.node.addChild(o.node),o.UIForm.willShow(t),o.node.active=!0,t&&!isNaN(t.zIndex)?o.node.zIndex=t.zIndex:o.node.zIndex=o.zIndex,o.UIForm.onShow(t),o.UIForm.isPopEffect&&(n=o.node,h.popOpenAnim(n))},C.prototype._hideUIForm=function(o,t,n){var e;o.UIForm.willHide(t),o.UIForm.onHide(t),this._removeStack(o),this.cachedUIForms.push(o),o.UIForm.isPopEffect?(e=o.node,h.popCloseAnim(e,function(){o.node.active=!1,o.node.removeFromParent(!1),n&&n()})):o.UIForm.hideAnim(function(){o.node.active=!1,o.node.removeFromParent(!1),n&&n()})},C.prototype._destroyUIForm=function(o,t){o.UIForm.willHide(t),o.node.removeFromParent(),o.UIForm.onHide(t),o.node.active=!1,this._removeStack(o),o.node.destroy()},C.prototype._removeStack=function(n){var e=this;isNaN(n)?this.UIFormStack.forEach(function(o,t){o==n&&e.UIFormStack.splice(t,1)}):this.UIFormStack.splice(n,1)},C);function C(){var o=v.call(this)||this;return o.rootCanvas=null,o.layerIndex=0,o.UIRoot="",o.UIFormStack=[],o.cachedUIForms=[],o.toastForm=null,o.layerIndex=0,o.UIRoot="prefab/ui/",o.UIFormStack=[],o.cachedUIForms=[],o.toastForm=null,o}var P,b=(o(O,P=g),O);function O(){return null!==P&&P.apply(this,arguments)||this}var A=0,N=1,T=2,S=4,E=8,I=16,_=32,D=64,x=128,U=256,L=512,B=1024,k=2048,H=4096,V=8192,M=32768,R=16384,j=(z.VIBRATESWITCH_CHANGED="VIBRATESWITCH_CHANGED",z.SOUNDSWITCH_CHANGED="SOUNDSWITCH_CHANGED",z.MUSICSWITCH_CHANGED="MUSICSWITCH_CHANGED",z.ON_PLATFORM_SHOW="ON_PLATFORM_SHOW",z.ON_PLATFORM_HIDE="ON_PLATFORM_HIDE",z.ON_BANNER_HIDE="ON_BANNER_HIDE",z.ON_AD_SHOW="ON_AD_SHOW",z.AD_VIEW_CHANGE="AD_VIEW_CHANGE",z.AD_VIEW_REFRESH="AD_VIEW_REFRESH",z.COIN_CHANGED="COIN_CHANGED",z.RANDOWM_NAVIGATE="RANDOWM_NAVIGATE",z);function z(){}var W,Q=(o(G,W=c),Object.defineProperty(G.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),G.prototype.initForm=function(o){this.initProperty(o)},G.prototype.willShow=function(o){this.mFormData=o},G.prototype.onShow=function(o){},G.prototype.willHide=function(o){},G.prototype.onHide=function(o){},G);function G(){return null!==W&&W.apply(this,arguments)||this}var X,q="moosnow/prefab/ui/",Y="moosnow/prefab/entity/",Z="inviteBox",K="coin",J=(o($,X=Q),$.prototype.setPosition=function(o,t,n,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=h.deepCopy(o);return i.forEach(function(o){o.position=t,o.onCancel=n,o.refresh=e}),i},$.prototype.loadAd=function(o,t){var n=this;moosnow.entity.preload(o,function(){moosnow.ad.getAd(function(o){0!=(n.mAdData=o).indexLeft.length&&t&&t(o)})})},$.prototype.initView=function(o,t,e,n,i,r){var s=this;i?this.loadAd(i,function(o){s.setPosition(o.indexLeft,n,r).forEach(function(o,t){var n=moosnow.entity.showEntity(i,e.node,o);s.mAdItemList.push(n)}),s.pushScroll(t,e)}):console.warn("entityName is null 无法初始化 ")},$.prototype.pushScroll=function(o,t){},$.prototype.addEvent=function(){moosnow.event.addListener(j.AD_VIEW_CHANGE,this,this.onAdChange),moosnow.event.addListener(j.RANDOWM_NAVIGATE,this,this.onRandomNavigate)},$.prototype.removeEvent=function(){moosnow.event.removeListener(j.AD_VIEW_CHANGE,this),moosnow.event.removeListener(j.RANDOWM_NAVIGATE,this)},$.prototype.onAdChange=function(o){this.mChangeLen++,1<this.mChangeLen&&o.showAd!=R&&(this.mPrevShowAd=this.mShowAd,this.mPrevBackCall=this.mBackCall),o.showAd==R&&(o.showAd=this.mPrevShowAd,o.callback=this.mPrevBackCall),this.displayChange(o.showAd,o.callback),this.onAfterShow(this.mIndex)},$.prototype.onAfterShow=function(o){},$.prototype.willShow=function(o){X.prototype.willShow.call(this,o),this.mAdItemList=[],this.mScrollVec=[],this.addEvent(),o?this.displayChange(o.showAd,o.callback):this.displayChange(A,null)},$.prototype.displayChange=function(o,t){void 0===t&&(t=null);var n=moosnow.getAppPlatform();moosnow.APP_PLATFORM.WX==n||n==moosnow.APP_PLATFORM.OPPO||n==moosnow.APP_PLATFORM.BYTEDANCE?(this.mShowAd=o,this.displayAd(!0),this.mBackCall=t):this.onBack()},$.prototype.onBack=function(){this.mBackCall&&this.mBackCall()},$.prototype.onRandomNavigate=function(){var o=this.mAdData.indexLeft[h.randomNumBoth(0,this.mAdData.indexLeft.length-1)];moosnow.platform.navigate2Mini(o,function(){},function(){})},$.prototype.onNavigate=function(){var t=this;moosnow.http.getAllConfig(function(o){o&&1==o.exportBtnNavigate?t.onRandomNavigate():t.onBack()})},$.prototype.sideOut=function(){},$.prototype.sideIn=function(){},$.prototype.initFiexdView=function(o,s,a,h,c){var l=this;this.loadAd(h,function(o){if(l.mEndLogic){for(var t=0;t<l.mEndLogic.length;t++)moosnow.entity.hideEntity(l.mEndLogic[t],{});l.mEndLogic=[]}for(var e=l.setPosition(o.indexLeft,a,c,!0),n=[],i=[],t=0;t<6;t++){var r=e.length>t?e[t]:e[0];i.push({appid:r.appid,position:r.position,index:t}),n.push(r)}n.forEach(function(o){var t=u(u({},o),{showIds:i,source:e}),n=moosnow.entity.showEntity(h,s,t);return l.mEndLogic.push(n),!1})})},$.prototype.willHide=function(){this.removeEvent(),this.mAdItemList.forEach(function(o){moosnow.entity.hideEntity(o,null)}),this.mAdItemList=[],this.mScrollVec=[]},$.prototype.initFloatAd=function(h,t,c,n,e){var l=this;cc.loader.loadResDir(moosnow.entity.prefabPath,cc.Prefab,function(){moosnow.ad.getAd(function(o){var s,a;0!=(l.mAdData=o).indexLeft.length&&(s=l.setPosition(o.indexLeft,n,e,!0),a=[],t.forEach(function(o,t){var n=t;n>s.length-1&&(n=0);var e=s[n];a.push({appid:e.appid,position:e.position,index:t});var i=c[t];e.x=i.x,e.y=i.y,e.source=s,e.showIds=a;var r=moosnow.entity.showEntity(o,h,e);l.mFloatCache[t]={index:n,logic:r},l.floatAnim(r.node)}),l.updateFloat(s),l.schedule(function(){l.updateFloat(s)},l.mFloatRefresh))})})},$.prototype.floatAnim=function(o){},$.prototype.updateFloat=function(o){for(var t in this.mFloatCache){var n=this.mFloatCache[t].index,e=this.mFloatCache[t].logic;n<o.length-1?n++:n=0,this.mFloatCache[t].index=n,e.refreshImg(o[n])}},$.prototype.hasAd=function(o){return(this.mShowAd&o)==o},$.prototype.showExportClose=function(){},$.prototype.displayAd=function(o){this.floatContainer.active=o&&this.hasAd(T),this.bannerContainer.active=o&&this.hasAd(N),this.centerContainer.active=o&&this.hasAd(E),this.leftContainer.active=o&&this.hasAd(U),this.exportMask.active=o&&this.hasAd(D),this.sideContainer.active=o&&this.hasAd(S),this.endContainer.active=o&&this.hasAd(L),this.topContainer.active=o&&this.hasAd(M),this.extend1Container.active=o&&this.hasAd(B),this.extend2Container.active=o&&this.hasAd(k),this.extend3Container.active=o&&this.hasAd(H),this.extend4Container.active=o&&this.hasAd(V),this.exportContainer.active=o&&this.hasAd(I),this.showClose(o),this.showInviteBox(o)},$.prototype.showClose=function(o){},$.prototype.showInviteBox=function(o){var t=this;o&&this.hasAd(I)&&moosnow.http.getAllConfig(function(o){o&&(1==o.exportAutoNavigate&&moosnow.platform.navigate2Mini(t.mAdData.indexLeft[h.randomNumBoth(0,t.mAdData.indexLeft.length-1)]),o.exportAutoInvite&&t._createInviteBox())}),o&&this.hasAd(N)&&moosnow.http.getAllConfig(function(o){t._createInviteBox(),o&&o.bannerAutoInvite&&t._createInviteBox()}),o&&this.hasAd(S)&&moosnow.http.getAllConfig(function(o){o&&o.sideAutoInvite&&t._createInviteBox()})},$.prototype._createInviteBox=function(){var n=this,e=Z;moosnow.entity.preload(e,function(){moosnow.http.getAllConfig(function(o){var t;o&&0<(t=isNaN(o.inviteDelay)?0:parseFloat(o.inviteDelay))?n.scheduleOnce(function(){moosnow.entity.showEntity(e,cc.Canvas.instance.node,{},Y)},t):moosnow.entity.showEntity(e,cc.Canvas.instance.node,{})})})},$.prototype.onFwUpdate=function(){},$);function $(){var o=null!==X&&X.apply(this,arguments)||this;return o.pauseContainer=null,o.pauseView=null,o.pauseLayout=null,o.centerContainer=null,o.centerView=null,o.centerLayout=null,o.exportContainer=null,o.exportView=null,o.exportLayout=null,o.exportClose=null,o.exportMask=null,o.exportCloseTxt=null,o.btnBack=null,o.floatContainer=null,o.floatFull=null,o.bannerContainer=null,o.bannerView=null,o.bannerLayout=null,o.endContainer=null,o.endView=null,o.endLayout=null,o.failContainer=null,o.failView=null,o.failLayout=null,o.gameOverContainer=null,o.gameOverView=null,o.gameOverLayout=null,o.respawnContainer=null,o.respawnScrollView=null,o.respawnLayout=null,o.playerDiedContainer=null,o.playerDiedScrollView=null,o.playerDiedLayout=null,o.leftContainer=null,o.leftView=null,o.leftLayout=null,o.rightView=null,o.rightLayout=null,o.sideContainer=null,o.sideView=null,o.sideLayout=null,o.btnSideShow=null,o.btnSideHide=null,o.extend1Container=null,o.extend1View=null,o.extend1Layout=null,o.extend2Container=null,o.extend2View=null,o.extend2Layout=null,o.extend3Container=null,o.extend3View=null,o.extend3Layout=null,o.extend4Container=null,o.extend4View=null,o.extend4Layout=null,o.topContainer=null,o.topView=null,o.topLayout=null,o.mAdItemList=[],o.mScrollVec=[],o.mChangeLen=0,o.mIndex=999,o.mShowAd=moosnow.AD_POSITION.NONE,o.mPrevShowAd=moosnow.AD_POSITION.NONE,o.mEndLogic=[],o.mFloatIndex=0,o.mFloatRefresh=3,o.mFloatCache={},o}var oo,to=(o(no,oo=Q),Object.defineProperty(no,"TOUCH_START",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(no,"TOUCH_END",{get:function(){return""},enumerable:!0,configurable:!0}),no);function no(){return null!==oo&&oo.apply(this,arguments)||this}var eo,io=(o(ro,eo=to),Object.defineProperty(ro,"TOUCH_START",{get:function(){return cc.Node.EventType.TOUCH_START},enumerable:!0,configurable:!0}),Object.defineProperty(ro,"TOUCH_END",{get:function(){return cc.Node.EventType.TOUCH_END},enumerable:!0,configurable:!0}),ro);function ro(){return null!==eo&&eo.apply(this,arguments)||this}var so,ao,ho,co,lo,uo,mo,po,fo,yo,wo,vo,Fo,go,Co,Po,bo,Oo=(o(Ao,so=J),Ao.prototype.addEvent=function(){this.btnBack&&this.btnBack.on(io.TOUCH_END,this.onBack,this),this.exportClose&&this.exportClose.on(io.TOUCH_END,this.onNavigate,this),this.btnSideShow&&this.btnSideShow.on(io.TOUCH_START,this.sideOut,this),this.btnSideHide&&this.btnSideHide.on(io.TOUCH_START,this.sideIn,this),so.prototype.addEvent.call(this)},Ao.prototype.removeEvent=function(){this.btnBack&&this.btnBack.off(io.TOUCH_END,this.onBack,this),this.exportClose&&this.exportClose.off(io.TOUCH_END,this.onNavigate,this),this.btnSideShow&&this.btnSideShow.off(io.TOUCH_START,this.sideOut,this),this.btnSideHide&&this.btnSideHide.off(io.TOUCH_START,this.sideIn,this),so.prototype.removeEvent.call(this)},Ao.prototype.floatAnim=function(o){o.runAction(cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever())},Ao.prototype.sideOut=function(){var o=this,t=moosnow.platform.getSystemInfoSync(),n=0,e=0;t&&(n=t.statusBarHeight||0,e=t.notchHeight||0),this.sideView.node.runAction(cc.sequence(cc.moveTo(1,n+e+this.sideView.node.width+20,0),cc.callFunc(function(){o.btnSideShow.active=!1,o.btnSideHide.active=!0})))},Ao.prototype.sideIn=function(){var o=this;this.sideView.node.runAction(cc.sequence(cc.moveTo(1,0,0),cc.callFunc(function(){o.btnSideShow.active=!0,o.btnSideHide.active=!1})))},Ao.prototype.pushScroll=function(o,t){t.type==cc.Layout.Type.GRID?o.vertical?this.mScrollVec.push({scrollView:o,move2Up:!1}):this.mScrollVec.push({scrollView:o,move2Left:!1}):t.type==cc.Layout.Type.HORIZONTAL?this.mScrollVec.push({scrollView:o,move2Left:!1}):t.type==cc.Layout.Type.VERTICAL&&this.mScrollVec.push({scrollView:o,move2Up:!1})},Ao.prototype.showClose=function(o){this.exportClose.active=!1,this.exportCloseTxt.active=!1,this.btnBack.active=!1,this.unschedule(this.showExportClose),o&&this.hasAd(_)?this.hasAd(x)?(this.mSecond=3,this.showExportClose(),this.schedule(this.showExportClose,1)):(this.exportClose.active=!0,this.btnBack.active=!0,this.exportCloseTxt.active=!1):(this.exportClose.active=!1,this.btnBack.active=!1,this.exportCloseTxt.active=!1)},Ao.prototype.showExportClose=function(){--this.mSecond,this.exportCloseTxt.active=!0;var o=this.exportCloseTxt.getComponent(cc.Label);if(this.mSecond<=0)return this.exportClose.active=!0,this.btnBack.active=!0,this.exportCloseTxt.active=!1,void this.unschedule(this.showExportClose);o.string="剩余"+this.mSecond+"秒可关闭"},Ao.prototype.onFwUpdate=function(){for(var o=0;o<this.mScrollVec.length;o++){var t,n,e,i,r=this.mScrollVec[o],s=r.scrollView;s.isScrolling()||(n=(t=s.getMaxScrollOffset()).y/2+20,e=t.x/2+20,i=s.getContentPosition(),1==r.move2Up?(i.y>n&&(r.move2Up=!1),r.scrollView.setContentPosition(new cc.Vec2(i.x,i.y+this.mMoveSpeed))):0==r.move2Up&&(i.y<-n&&(r.move2Up=!0),r.scrollView.setContentPosition(new cc.Vec2(i.x,i.y-this.mMoveSpeed))),1==r.move2Left?(i.x>e&&(r.move2Left=!1),r.scrollView.setContentPosition(new cc.Vec2(i.x+this.mMoveSpeed,i.y))):0==r.move2Left&&(i.x<-e&&(r.move2Left=!0),r.scrollView.setContentPosition(new cc.Vec2(i.x-this.mMoveSpeed,i.y))))}},Ao);function Ao(){var o=null!==so&&so.apply(this,arguments)||this;return o.mSecond=3,o.mMoveSpeed=2,o}(ho=ao=ao||{})[ho.AUTO_HIDE=1]="AUTO_HIDE",ho[ho.MAST=2]="MAST";var No=(To.append=function(o){this.mSetting=u(u({},this.mSetting),o)},Object.defineProperty(To,"mapping",{get:function(){return this.mSetting},enumerable:!0,configurable:!0}),To.convertUIName=function(o){if(!o)return console.warn("convertUIName fail  mappingForm is null "),null;var t=moosnow.getAppPlatform();return o[t]?o[t]:o[moosnow.APP_PLATFORM.WX]?o[moosnow.APP_PLATFORM.WX]:(console.warn("convertUIName fail ",o),null)},Object.defineProperty(To,"AdForm",{get:function(){return this.convertUIName(this.mapping.adForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"CoinForm",{get:function(){return this.convertUIName(this.mapping.coinForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"ShareForm",{get:function(){return this.convertUIName(this.mapping.shareForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"TotalForm",{get:function(){return this.convertUIName(this.mapping.totalForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"EndForm",{get:function(){return this.convertUIName(this.mapping.endForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"ToastForm",{get:function(){return this.convertUIName(this.mapping.toastForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"PauseForm",{get:function(){return this.convertUIName(this.mapping.pauseForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"RespawnForm",{get:function(){return this.convertUIName(this.mapping.respawnForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"SetForm",{get:function(){return this.convertUIName(this.mapping.setForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"PrizeForm",{get:function(){return this.convertUIName(this.mapping.prizeForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"MistouchForm",{get:function(){return this.convertUIName(this.mapping.mistouchForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"TryForm",{get:function(){return this.convertUIName(this.mapping.tryForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"HomeForm",{get:function(){return this.convertUIName(this.mapping.homeForm)},enumerable:!0,configurable:!0}),Object.defineProperty(To,"GameForm",{get:function(){return this.convertUIName(this.mapping.gameForm)},enumerable:!0,configurable:!0}),To.mSetting={adForm:((co={})[moosnow.APP_PLATFORM.WX]="adForm",co),pauseForm:((lo={})[moosnow.APP_PLATFORM.WX]="pauseForm",lo[moosnow.APP_PLATFORM.BYTEDANCE]="pauseFormTT",lo[moosnow.APP_PLATFORM.OPPO]="pauseFormOPPO",lo[moosnow.APP_PLATFORM.OPPO_ZS]="pauseFormOPPO",lo[moosnow.APP_PLATFORM.VIVO]="pauseFormOPPO",lo[moosnow.APP_PLATFORM.QQ]="pauseFormTT",lo),respawnForm:((uo={})[moosnow.APP_PLATFORM.WX]="respawnForm",uo[moosnow.APP_PLATFORM.BYTEDANCE]="respawnFormTT",uo[moosnow.APP_PLATFORM.OPPO]="respawnFormOPPO",uo[moosnow.APP_PLATFORM.OPPO_ZS]="respawnFormOPPO",uo[moosnow.APP_PLATFORM.VIVO]="respawnFormOPPO",uo[moosnow.APP_PLATFORM.QQ]="respawnFormQQ",uo),endForm:((mo={})[moosnow.APP_PLATFORM.WX]="endForm",mo[moosnow.APP_PLATFORM.BYTEDANCE]="endFormTT",mo[moosnow.APP_PLATFORM.OPPO]="endFormOPPO",mo[moosnow.APP_PLATFORM.OPPO_ZS]="endFormOPPO",mo[moosnow.APP_PLATFORM.VIVO]="endFormOPPO",mo),totalForm:((po={})[moosnow.APP_PLATFORM.WX]="totalForm",po[moosnow.APP_PLATFORM.BYTEDANCE]="totalFormTT",po[moosnow.APP_PLATFORM.QQ]="totalFormQQ",po),tryForm:((fo={})[moosnow.APP_PLATFORM.WX]="tryForm",fo[moosnow.APP_PLATFORM.BYTEDANCE]="tryFormTT",fo[moosnow.APP_PLATFORM.QQ]="tryFormTT",fo),mistouchForm:((yo={})[moosnow.APP_PLATFORM.WX]="mistouchForm",yo[moosnow.APP_PLATFORM.QQ]="mistouchFormQQ",yo[moosnow.APP_PLATFORM.BYTEDANCE]="mistouchFormTT",yo),prizeForm:((wo={})[moosnow.APP_PLATFORM.BYTEDANCE]="prizeFormTT",wo[moosnow.APP_PLATFORM.QQ]="prizeForm",wo),shareForm:((vo={})[moosnow.APP_PLATFORM.WX]="shareFormTT",vo[moosnow.APP_PLATFORM.BYTEDANCE]="shareFormTT",vo),setForm:((Fo={})[moosnow.APP_PLATFORM.WX]="setForm",Fo),toastForm:((go={})[moosnow.APP_PLATFORM.WX]="toastForm",go),coinForm:((Co={})[moosnow.APP_PLATFORM.WX]="coinForm",Co),homeForm:((Po={})[moosnow.APP_PLATFORM.WX]="homeForm",Po),gameForm:((bo={})[moosnow.APP_PLATFORM.WX]="gameForm",bo)},To);function To(){}var So,Eo=(o(Io,So=Q),Object.defineProperty(Io.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),Io.prototype.initPos=function(){},Io.prototype.willShow=function(o){var t=this;So.prototype.willShow.call(this,o),this.btnBanner.active=!0,this.initPos(),this.mCurrentNum=0,this.mNavigateIndex=h.randomNumBoth(3,this.mMaxNum-2),this.addEvent(),this.schedule(this.subProgress,.1),moosnow.form.showAd(moosnow.AD_POSITION.NONE,null),this.mBannerShow=!1,moosnow.http.getAllConfig(function(o){t.mBannerClickType=ao.MAST})},Io.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent()},Io.prototype.subProgress=function(){0<this.mCurrentNum&&(this.mCurrentNum-=.1)},Io.prototype.addEvent=function(){},Io.prototype.removeEvent=function(){},Io.prototype.bannerClickCallback=function(o){o&&(this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),moosnow.platform.hideBanner(),this.mBannerShow=!1,this.FormData&&this.FormData.callback&&this.FormData.callback())},Io.prototype.onLogoUp=function(){this.logo.position=this.mEndPos},Io.prototype.onLogoDown=function(){this.logo.position=this.mBeginPos},Io.prototype.onBannerClick=function(){var t=this;this.onLogoDown(),this.mCurrentNum+=1,this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,moosnow.platform.showBanner(!0,function(o){console.log("banner click callback ",o),t.bannerClickCallback(o)}),this.mBannerClickType==ao.AUTO_HIDE?(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,2)):this.mBannerClickType==ao.MAST&&(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,2)))),this.mCurrentNum>=this.mMaxNum&&(moosnow.platform.hideBanner(),this.mBannerShow=!1,moosnow.ui.destroyUIForm(No.MistouchForm,null),this.FormData&&this.FormData.callback&&this.FormData.callback(!0))},Io.prototype.resetProgress=function(){this.mCurrentNum=0,moosnow.platform.hideBanner(),this.mBannerShow=!1},Io.prototype.onHideBanner=function(){moosnow.platform.hideBanner()},Io.prototype.update=function(){this.clickProgress.progress=this.mCurrentNum/this.mMaxNum},Io);function Io(){var o=null!==So&&So.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o.mMaxNum=10,o.mCurrentNum=0,o.mNavigateIndex=0,o.mBannerShow=!1,o.mShowTime=0,o.mBannerClickType=ao.AUTO_HIDE,o}var _o,Do=(o(xo,_o=Eo),xo.prototype.addEvent=function(){this.btnBanner.on(io.TOUCH_START,this.onLogoUp,this),this.btnBanner.on(io.TOUCH_END,this.onBannerClick,this)},xo.prototype.removeEvent=function(){this.btnBanner.off(io.TOUCH_START,this.onLogoUp,this),this.btnBanner.off(io.TOUCH_END,this.onBannerClick,this),moosnow.event.removeListener(j.ON_PLATFORM_SHOW,this)},xo.prototype.onLogoUp=function(){this.logo.position=this.mEndPos},xo.prototype.onLogoDown=function(){this.logo.position=this.mBeginPos},xo.prototype.initPos=function(){this.mBeginPos=this.logo.position.clone(),this.mEndPos=this.mBeginPos.add(new cc.Vec2(0,50))},xo);function xo(){var o=null!==_o&&_o.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o}var Uo,Lo=(o(Bo,Uo=Eo),Bo.prototype.willShow=function(o){Uo.prototype.willShow.call(this,o),this.step1.active=!0,this.step2.active=!1,this.btnConfirm.active=!0,this.mCurrentNum=0,this.mOpenVideo=!0,this.showCheckbox(),this.addEvent(),this.schedule(this.subProgress,.1),moosnow.form.showAd(moosnow.AD_POSITION.NONE,null)},Bo.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent()},Bo.prototype.subProgress=function(){0<this.mCurrentNum&&(this.mCurrentNum-=.1)},Bo.prototype.addEvent=function(){},Bo.prototype.removeEvent=function(){},Bo.prototype.openBox=function(){var t=this;this.mOpenVideo?(this.btnConfirm.active=!1,moosnow.platform.showVideo(function(o){o!=moosnow.VIDEO_STATUS.END?(o==moosnow.VIDEO_STATUS.NOTEND?moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND):moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR),t.btnConfirm.active=!0):t.FormData&&t.FormData.callback&&t.FormData.callback(!0)})):moosnow.ui.hideUIForm(No.MistouchForm,null)},Bo.prototype.checkboxChange=function(){this.mOpenVideo=!this.mOpenVideo,this.showCheckbox()},Bo.prototype.showCheckbox=function(){this.mOpenVideo?this.checked.node.active=!0:this.checked.node.active=!1},Bo.prototype.playBoxAnim=function(o){},Bo.prototype.onLogoUp=function(){this.playBoxAnim("prizeBox2")},Bo.prototype.onBannerClick=function(){this.mCurrentNum>this.mMaxNum+1||(this.mCurrentNum+=1,this.mCurrentNum>=this.mMaxNum&&(this.step1.active=!1,this.step2.active=!0,this.playBoxAnim("prizeBox1")))},Bo.prototype.resetProgress=function(){this.mCurrentNum=0},Bo.prototype.update=function(){var o=this.mCurrentNum/this.mMaxNum;this.clickProgress.progress=1<o?1:o},Bo);function Bo(){var o=null!==Uo&&Uo.apply(this,arguments)||this;return o.clickProgress=null,o.btnReceive=null,o.btnConfirm=null,o.checked=null,o.unchecked=null,o.step1=null,o.step2=null,o.logo=null,o.mMaxNum=10,o.mCurrentNum=0,o.mOpenVideo=!0,o}var ko,Ho=(o(Vo,ko=Lo),Vo.prototype.playBoxAnim=function(o){var t=this.logo.getComponent(cc.Animation);t.getAnimationState(o).isPlaying||t.play(o)},Vo.prototype.addEvent=function(){this.unchecked.node.on(io.TOUCH_END,this.checkboxChange,this),this.btnReceive.on(io.TOUCH_START,this.onLogoUp,this),this.btnReceive.on(io.TOUCH_END,this.onBannerClick,this),this.btnConfirm.on(io.TOUCH_END,this.openBox,this)},Vo.prototype.removeEvent=function(){this.unchecked.node.off(io.TOUCH_END,this.checkboxChange,this),this.btnReceive.off(io.TOUCH_START,this.onLogoUp,this),this.btnReceive.off(io.TOUCH_END,this.onBannerClick,this),this.btnConfirm.off(io.TOUCH_END,this.openBox,this)},Vo);function Vo(){var o=null!==ko&&ko.apply(this,arguments)||this;return o.clickProgress=null,o.btnReceive=null,o.btnConfirm=null,o.checked=null,o.unchecked=null,o.step1=null,o.step2=null,o.logo=null,o}var Mo,Ro=(o(jo,Mo=Eo),jo.prototype.willShow=function(o){Mo.prototype.willShow.call(this,o),this.mCurrentNum=0,this.mNavigateIndex=h.randomNumBoth(3,this.mMaxNum-2),this.addEvent(),this.schedule(this.subProgress,.016),moosnow.form.showAd(moosnow.AD_POSITION.NONE,null),this.mBannerShow=!1,this.mistouchAppBox()?(this.showHand(!0),this.showButton(!1),this.playHandAnim()):(this.showHand(!1),this.showButton(!0)),moosnow.platform.hideBanner()},jo.prototype.playHandAnim=function(){},jo.prototype.mistouchAppBox=function(){return this.FormData&&2==this.FormData.type},jo.prototype.subProgress=function(){0<this.mCurrentNum&&(this.mCurrentNum-=.02)},jo.prototype.initPos=function(){},jo.prototype.onHideBanner=function(){this.mistouchAppBox()?moosnow.platform.hideAppBox():moosnow.platform.hideBanner()},jo.prototype.showButton=function(o){},jo.prototype.showHand=function(o){},jo.prototype.onBannerClick=function(){var t=this;this.mCurrentNum+=1,this.onLogoDown(),this.showHand(!1),this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,this.mistouchAppBox()?moosnow.platform.showAppBox(function(){t.bannerClickCallback(!0)}):moosnow.platform.showBanner(!0,function(o){console.log("banner click callback ",o),t.bannerClickCallback(o)}),this.mBannerClickType==ao.AUTO_HIDE?(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,2)):this.mBannerClickType==ao.MAST&&(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,2)))),this.mCurrentNum>=this.mMaxNum&&(moosnow.platform.hideBanner(),this.mBannerShow=!1,this.scheduleOnce(function(){moosnow.ui.destroyUIForm(No.MistouchForm,null),t.FormData&&t.FormData.callback&&t.FormData.callback()},.2))},jo);function jo(){var o=null!==Mo&&Mo.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o.hand=null,o.pinch1=null,o.pinch2=null,o.pinch3=null,o.pinch4=null,o.pinch5=null,o.pinch6=null,o}var zo,Wo=(o(Qo,zo=Ro),Qo.prototype.onLogoUp=function(){},Qo.prototype.onLogoDown=function(){var o=this.logo.getComponent(cc.Sprite);this.mCurrentNum<this.mMaxNum?o.spriteFrame=this["pinch"+(parseInt(""+this.mCurrentNum)%4+1)]:o.spriteFrame=this.pinch6},Qo.prototype.addEvent=function(){var o=this;this.mistouchAppBox()?(this.btnBanner.active=!1,this.logo.on(io.TOUCH_START,this.onLogoUp,this),this.logo.on(io.TOUCH_END,this.onBannerClick,this)):(this.btnBanner.active=!0,this.btnBanner.on(io.TOUCH_START,this.onLogoUp,this),this.btnBanner.on(io.TOUCH_END,this.onBannerClick,this)),moosnow.event.addListener(j.ON_PLATFORM_SHOW,this,function(){o.mBannerShow&&o.bannerClickCallback(!0)})},Qo.prototype.removeEvent=function(){this.btnBanner.off(io.TOUCH_END,this.onBannerClick,this),moosnow.event.removeListener(j.ON_PLATFORM_SHOW,this)},Qo.prototype.playHandAnim=function(){this.hand.getComponent(cc.Animation).play()},Qo.prototype.showButton=function(o){this.btnBanner.active=o},Qo.prototype.showHand=function(o){this.hand.active=o},Qo);function Qo(){var o=null!==zo&&zo.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o.hand=null,o.pinch1=null,o.pinch2=null,o.pinch3=null,o.pinch4=null,o.pinch5=null,o.pinch6=null,o}var Go,Xo=(o(qo,Go=c),qo.prototype.initForm=function(o){this.initProperty(o)},Object.defineProperty(qo.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!0,configurable:!0}),qo.prototype.willShow=function(o){this.mLogicData=o,this.initPosition(o)},qo.prototype.initPosition=function(o){},qo.prototype.onShow=function(o){},qo.prototype.willHide=function(o){},qo.prototype.onHide=function(o){},qo);function qo(){return null!==Go&&Go.apply(this,arguments)||this}var Yo,Zo=(o(Ko,Yo=Xo),Ko.prototype.onClickAd=function(){var o,t=this,n=this.mAdItem;this.LogicData.refresh&&((o=this.findNextAd()).refresh&&moosnow.event.sendEventImmediately(j.AD_VIEW_REFRESH,{current:n,next:o}),this.refreshImg(o)),moosnow.platform.navigate2Mini(n,function(){},function(){t.mAdItem.onCancel&&t.mAdItem.onCancel(n)})},Ko.prototype.findNextAd=function(){if(!this.LogicData.source)return null;if(!this.LogicData.showIds)return null;for(var o=0;o<this.LogicData.source.length;o++){for(var t=!1,n=0;n<this.LogicData.showIds.length;n++)this.LogicData.showIds[n].appid==this.LogicData.source[o].appid&&this.LogicData.showIds[n].position==this.LogicData.source[o].position&&(t=!0);if(!t)return this.LogicData.source[o]}return null},Ko.prototype.onAdViewChange=function(o){if(this.LogicData.showIds&&this.LogicData.source){for(var t=o.current,n=o.next,e=this.LogicData.showIds,i=this.LogicData.source,r=0;r<e.length;r++)t.appid==e[r].appid&&t.position==e[r].position&&(this.LogicData.showIds[r]=n.appid);for(r=0;r<i.length;r++)if(n.appid==i[r].appid){this.LogicData.source.splice(r,1),this.LogicData.source.push(t);break}}},Ko.prototype.onShow=function(){this.LogicData&&this.LogicData.refresh&&moosnow.event.addListener(j.AD_VIEW_REFRESH,this,this.onAdViewChange)},Ko.prototype.onHide=function(){this.mAdItem&&(this.mAdItem.onCancel=null),this.removeListener(),moosnow.event.removeListener(j.AD_VIEW_REFRESH,this)},Ko.prototype.addListener=function(){},Ko.prototype.removeListener=function(){},Ko.prototype.willShow=function(o){Yo.prototype.willShow.call(this,o),this.addListener()},Ko.prototype.refreshImg=function(o){},Ko);function Ko(){var o=null!==Yo&&Yo.apply(this,arguments)||this;return o.logo=null,o.title=null,o.animLogo=null,o.nameBg=null,o.changeView=!1,o}var Jo,$o=(o(ot,Jo=Zo),ot.prototype.addListener=function(){this.logo.node.on(io.TOUCH_END,this.onClickAd,this)},ot.prototype.removeListener=function(){this.logo.node.off(io.TOUCH_END,this.onClickAd,this)},ot.prototype.initPosition=function(o){},ot.prototype.willShow=function(o){var e=this;Jo.prototype.willShow.call(this,o),this.mAdItem=o,cc.loader.load(o.img,function(o,t){var n=new cc.SpriteFrame(t);e.logo.spriteFrame=n}),this.title&&(this.title.string=o.title)},ot.prototype.refreshImg=function(o){var e=this;this.mAdItem=o,cc.loader.load(o.img,function(o,t){var n=new cc.SpriteFrame(t);e.logo.spriteFrame=n}),this.title&&(this.title.string=o.title)},ot);function ot(){return null!==Jo&&Jo.apply(this,arguments)||this}var tt,nt=(o(et,tt=Q),Object.defineProperty(et.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),et.prototype.initForm=function(o){this.initProperty(o)},et.prototype.willHide=function(){},et.prototype.willShow=function(o){tt.prototype.willShow.call(this,o),this.coinNum.string=""+h.formatMoney(o.coinNum),moosnow.platform.hideBanner()},et.prototype.closeForm=function(){var o=this;moosnow.ui.destroyUIForm(No.PrizeForm,null),moosnow.ui.destroyUIForm(No.MistouchForm,null),1==this.FormData.showCoinAnim?moosnow.ui.pushUIForm(No.CoinForm,u(u({},h.deepCopy(this.FormData)),{callback:function(){o.FormData.callback&&o.FormData.callback()}}),function(){},q):this.FormData.callback&&this.FormData.callback()},et);function et(){var o=null!==tt&&tt.apply(this,arguments)||this;return o.coinNum=null,o.btnConfirm=null,o}var it,rt=(o(st,it=nt),st.prototype.initForm=function(o){this.initProperty(o),this.btnConfirm.on(io.TOUCH_END,this.closeForm,this)},st.prototype.willHide=function(){this.btnConfirm.off(io.TOUCH_END,this.closeForm,this)},st);function st(){var o=null!==it&&it.apply(this,arguments)||this;return o.coinNum=null,o.btnConfirm=null,o}var at,ht=(o(ct,at=Q),Object.defineProperty(ct.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),ct.prototype.initForm=function(o){this.initProperty(o)},ct.prototype.willShow=function(o){var n=this;at.prototype.willShow.call(this,o),this.addListener(),this.mChecked=!1,this.onChecked(),this.prizeBg1.active=!1,this.prizeBg2.active=!1,moosnow.http.getAllConfig(function(o){var t;o?1==o.prizeFormVideo?n.showVideo():2==o.prizeFormVideo?n.showShare():(t=o&&o.prizeFormVideosPrecent?parseFloat(o.prizeFormVideosPrecent):.5,h.randomNumBoth(0,100)/100<t?n.showVideo():n.showShare()):n.showShare()}),this.mTotalSecond=10,this.mCurrentSecond=0,this.resumeCountdown(),moosnow.platform.showBanner()},ct.prototype.onHide=function(){this.removeListener()},ct.prototype.showVideo=function(){this.prizeBg1.active=!0,this.prizeBg2.active=!1},ct.prototype.showShare=function(){this.prizeBg1.active=!1,this.prizeBg2.active=!0},ct.prototype.onCountdown=function(){this.mCurrentSecond+=1;var o=this.mTotalSecond-this.mCurrentSecond;if(o<0)return this.unschedule(this.onCountdown),void moosnow.ui.hideUIForm(No.PrizeForm,null);this.txtCoutdown.string=o+"秒"},ct.prototype.stopCountdown=function(){this.unschedule(this.onCountdown)},ct.prototype.resumeCountdown=function(){this.schedule(this.onCountdown,1)},ct.prototype.addListener=function(){},ct.prototype.removeListener=function(){},ct.prototype.closeForm=function(){moosnow.ui.hideUIForm(No.PrizeForm,null)},ct.prototype.onChecked=function(){},ct.prototype.onShare=function(){var t=this;this.stopCountdown(),moosnow.platform.share({channel:""},function(o){t.resumeCountdown(),t.FormData&&(t.FormData.hideForm&&moosnow.ui.hideUIForm(No.PrizeForm,null),t.FormData.shareCallback&&t.FormData.shareCallback(o))})},ct.prototype.onReceive=function(){this.mChecked?this.onVideo():this.FormData&&(this.FormData.hideForm&&moosnow.ui.hideUIForm(No.PrizeForm,null),this.FormData.callback&&this.FormData.callback())},ct.prototype.onVideo=function(){var t=this;this.stopCountdown(),moosnow.platform.showVideo(function(o){o!=moosnow.VIDEO_STATUS.END?(o==moosnow.VIDEO_STATUS.ERR?moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR):moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND),t.resumeCountdown()):t.FormData&&(t.FormData.hideForm&&moosnow.ui.hideUIForm(No.PrizeForm,null),t.FormData.videoCallback&&t.FormData.videoCallback())})},ct);function ct(){var o=null!==at&&at.apply(this,arguments)||this;return o.prizeBg1=null,o.prizeBg2=null,o.btnCancel=null,o.txtCoutdown=null,o.btnVideo=null,o.btnShare=null,o.btnReceive=null,o.checked=null,o.unchecked=null,o.isMask=!0,o.mChecked=!1,o.mTotalSecond=10,o.mCurrentSecond=0,o}var lt,ut=(o(mt,lt=ht),mt.prototype.onChecked=function(){this.mChecked=!this.mChecked,this.checked.active=this.mChecked},mt.prototype.initForm=function(o){this.initProperty(o),this.btnConfirm.on(io.TOUCH_END,this.closeForm,this)},mt.prototype.willHide=function(){this.btnConfirm.off(io.TOUCH_END,this.closeForm,this)},mt.prototype.addListener=function(){this.btnCancel.on(io.TOUCH_END,this.closeForm,this),this.btnVideo.on(io.TOUCH_END,this.onVideo,this),this.btnReceive.on(io.TOUCH_END,this.onReceive,this),this.btnShare.on(io.TOUCH_END,this.onShare,this),this.unchecked.on(io.TOUCH_END,this.onChecked,this)},mt.prototype.removeListener=function(){this.btnCancel.off(io.TOUCH_END,this.closeForm,this),this.btnVideo.off(io.TOUCH_END,this.onVideo,this),this.btnReceive.off(io.TOUCH_END,this.onReceive,this),this.btnShare.off(io.TOUCH_END,this.onShare,this),this.unchecked.off(io.TOUCH_END,this.onChecked,this)},mt);function mt(){var o=null!==lt&&lt.apply(this,arguments)||this;return o.coinNum=null,o.btnConfirm=null,o}var pt,dt=(o(ft,pt=Q),Object.defineProperty(ft.prototype,"rootNode",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(ft.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),ft.prototype.flyAnim=function(o,t,n){},ft.prototype.onShow=function(n){var e=this,o=this.FormData,i=o.imgNum,r=(o.coinNum,o.starVec),s=o.endVec,a=o.callback;console.log("showCoin",n),cc.loader.loadRes(moosnow.entity.prefabPath+K,cc.Prefab,function(){for(var o=0;o<i;o++){var t=moosnow.entity.showEntity(K,e.rootNode,{x:h.randomNumBoth(r.x-n.randomX,r.x+n.randomX),y:h.randomNumBoth(r.y-n.randomY,r.y+n.randomY)});e.flyAnim(t,s,a)}e.scheduleOnce(function(){e.FormData.hideForm&&moosnow.ui.hideUIForm(No.CoinForm,null),h.isFunction(a)&&a()},2.1)})},ft);function ft(){return null!==pt&&pt.apply(this,arguments)||this}var yt,wt=(o(vt,yt=dt),Object.defineProperty(vt.prototype,"rootNode",{get:function(){return cc.Canvas.instance.node},enumerable:!0,configurable:!0}),vt.prototype.flyAnim=function(o,t,n){var e=o.node,i=h.randomNumBoth(0,100)/200;e.active=!0,e.runAction(cc.sequence(cc.delayTime(i),cc.spawn(cc.moveTo(1,t.x,t.y),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){moosnow.entity.hideEntity(o,null,!0)})))},vt);function vt(){return null!==yt&&yt.apply(this,arguments)||this}var Ft,gt=(o(Ct,Ft=Q),Ct.prototype.initForm=function(o){this.initProperty(o)},Ct.prototype.addEvent=function(){},Ct.prototype.removeEvent=function(){},Ct.prototype.onReceive=function(){var t=this;this.mCheckedVideo?moosnow.platform.showVideo(function(o){o==moosnow.VIDEO_STATUS.END?t.openEndForm(5*t.mLevelCoinNum):o==moosnow.VIDEO_STATUS.ERR?moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR):moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND)}):this.openEndForm(this.mLevelCoinNum)},Ct.prototype.openEndForm=function(o){moosnow.ui.hideUIForm(No.TotalForm,null),moosnow.ui.pushUIForm(No.EndForm,u({coin:o,level:this.FormData.level,levelShareCoinNum:this.mLevelShareCoinNum},this.FormData),function(){},q)},Ct.prototype.onShareChange=function(){this.mCheckedVideo=!this.mCheckedVideo,this.changeUI()},Ct.prototype.changeUI=function(){},Ct.prototype.onShow=function(o){var t=o.coin,n=o.shareCoin;this.mLevelCoinNum=t,this.mLevelShareCoinNum=n,this.levelCoin.string=""+h.formatMoney(this.mLevelCoinNum),this.addEvent(),this.mCheckedVideo=!0,this.changeUI(),moosnow.platform.stopRecord(),moosnow.platform.showBanner()},Ct.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},Ct);function Ct(){var o=null!==Ft&&Ft.apply(this,arguments)||this;return o.checked=null,o.unchecked=null,o.btnReceive=null,o.levelCoin=null,o.mCheckedVideo=!0,o.mLevelCoinNum=0,o.mLevelShareCoinNum=0,o}var Pt,bt=(o(Ot,Pt=gt),Ot.prototype.addEvent=function(){this.unchecked.node.on(io.TOUCH_END,this.onShareChange,this),this.btnReceive.node.on(io.TOUCH_END,this.onReceive,this)},Ot.prototype.removeEvent=function(){this.unchecked.node.off(io.TOUCH_END,this.onShareChange,this),this.btnReceive.node.off(io.TOUCH_END,this.onReceive,this)},Ot.prototype.changeUI=function(){this.mCheckedVideo?this.checked.node.active=!0:this.checked.node.active=!1},Ot);function Ot(){return null!==Pt&&Pt.apply(this,arguments)||this}var At,Nt=(o(Tt,At=Q),Object.defineProperty(Tt.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),Tt.prototype.initForm=function(o){this.initProperty(o),this.addListener()},Tt.prototype.addListener=function(){},Tt.prototype.removeListener=function(){},Tt.prototype.onBack=function(){this.FormData.hideForm&&moosnow.ui.hideUIForm(No.ShareForm,null),this.FormData&&this.FormData.callback&&this.FormData.callback()},Tt.prototype.onShow=function(){this.btnShare.active=!0,this.mLevelShareCoinNum=this.FormData.shareCoinNum,this.txtCoinNum.string=""+h.formatMoney(this.mLevelShareCoinNum),moosnow.platform.stopRecord()},Tt.prototype.onShareVideo=function(){var n=this;this.mShareing||(this.mShareing=!0,moosnow.http.getAllConfig(function(o){var t;o&&1!=o.shareFormVideo?2==o.shareFormVideo?n.onShare():(t=o&&o.shareFormVideoPrecent?parseFloat(o.shareFormVideoPrecent):.5,h.randomNumBoth(0,100)/100<t?n.onVideo():n.onShare()):n.onVideo()}))},Tt.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(o){t.mShareing=!1,o==moosnow.VIDEO_STATUS.END?(t.FormData.hideForm&&moosnow.ui.hideUIForm(No.ShareForm,null),t.FormData&&t.FormData.videoCallback&&t.FormData.videoCallback()):o==moosnow.VIDEO_STATUS.NOTEND?moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND):moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR)})},Tt.prototype.onShare=function(){var t=this;moosnow.platform.share({channel:moosnow.SHARE_CHANNEL.VIDEO},function(o){t.mShareing=!1,o?(t.FormData.hideForm&&moosnow.ui.hideUIForm(No.ShareForm,null),t.FormData&&t.FormData.shareCallback&&t.FormData.shareCallback(o)):moosnow.ui.showToast("分享未完成"),console.log("分享结束",o)})},Tt);function Tt(){var o=null!==At&&At.apply(this,arguments)||this;return o.btnShare=null,o.btnBack=null,o.txtCoinNum=null,o.isMask=!0,o.mLevelShareCoinNum=0,o.mShareing=!1,o}var St,Et=(o(It,St=Nt),It.prototype.addListener=function(){this.btnBack.on(io.TOUCH_END,this.onBack,this),this.btnShare.on(io.TOUCH_END,this.onShareVideo,this)},It.prototype.removeListener=function(){this.btnBack.off(io.TOUCH_END,this.onBack,this),this.btnShare.off(io.TOUCH_END,this.onShareVideo,this)},It);function It(){return null!==St&&St.apply(this,arguments)||this}var _t,Dt=(o(xt,_t=Xo),xt.prototype.willShow=function(o){var r=this;_t.prototype.willShow.call(this,o),this.addListener(),moosnow.http.request(this.url+"/avatar.json",{},"GET",function(o){var e=o.name[h.randomNumBoth(0,o.name.length-1)],i=h.randomNumBoth(o.logo[0],o.logo[1]);moosnow.ad.getAd(function(o){var t=h.randomNumBoth(0,o.indexLeft.length-1),n=o.indexLeft[t];r.initBox(e,r.url+"/"+i+".png",n.title),r.mCurrentAdRow=n})}),moosnow.http.getAllConfig(function(o){var t;!o||0<(t=isNaN(o.inviteDelayClose)?0:parseFloat(o.inviteDelayClose))&&(r.unscheduleOnce(r.onCancel),r.scheduleOnce(r.onCancel,t))})},xt.prototype.willHide=function(){this.unscheduleOnce(this.onCancel),this.removeListener()},xt.prototype.initBox=function(o,t,n){},xt.prototype.addListener=function(){},xt.prototype.removeListener=function(){},xt.prototype.onConfirm=function(){this.onCancel(),moosnow.platform.navigate2Mini(this.mCurrentAdRow)},xt.prototype.onCancel=function(){moosnow.entity.hideAllEntity(Z,null)},xt);function xt(){var o=null!==_t&&_t.apply(this,arguments)||this;return o.logo=null,o.gameName=null,o.userName=null,o.btnConfirm=null,o.btnCancel=null,o.url="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/Avatar",o}var Ut,Lt="你的好友{0}邀请你加入",Bt=(o(kt,Ut=Dt),kt.prototype.addListener=function(){this.btnConfirm.on(io.TOUCH_END,this.onConfirm,this),this.btnCancel.on(io.TOUCH_END,this.onCancel,this)},kt.prototype.removeListener=function(){this.btnConfirm.off(io.TOUCH_END,this.onConfirm,this),this.btnCancel.off(io.TOUCH_END,this.onCancel,this)},kt.prototype.initBox=function(o,t,n){var e=this;cc.loader.load(t,function(o,t){var n;o||(n=new cc.SpriteFrame(t),e.logo.getComponent(cc.Sprite).spriteFrame=n)}),this.userName.string=h.format(Lt,o),this.gameName.string=n},kt);function kt(){return null!==Ut&&Ut.apply(this,arguments)||this}var Ht=(Vt.prototype.newViewItem=function(){return new $o},Object.defineProperty(Vt.prototype,"inviteBox",{get:function(){return this.mAdInviteBox||(this.mAdInviteBox=new Bt),this.mAdInviteBox},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"adForm",{get:function(){return this.mAdForm||(this.mAdForm=new Oo),this.mAdForm},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"adFormQQ",{get:function(){return this.mAdForm||(this.mAdForm=new Oo),this.mAdFormQQ},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"mistouchForm",{get:function(){return this.mMistouchForm||(this.mMistouchForm=new Do),this.mMistouchForm},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"mistouchFormTT",{get:function(){return this.mMistouchFormTT||(this.mMistouchFormTT=new Ho),this.mMistouchFormTT},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"mistouchFormQQ",{get:function(){return this.mMistouchFormQQ||(this.mMistouchFormQQ=new Wo),this.mMistouchFormQQ},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"prizeForm",{get:function(){return this.mPrizeForm||(this.mPrizeForm=new rt),this.mPrizeForm},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"prizeFormTT",{get:function(){return this.mPrizeFormTT||(this.mPrizeFormTT=new ut),this.mPrizeFormTT},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"coinForm",{get:function(){return this.mCoinForm||(this.mCoinForm=new wt),this.mCoinForm},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"totalForm",{get:function(){return this.mTotalForm||(this.mTotalForm=new bt),this.mTotalForm},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"shareFormTT",{get:function(){return this.mShareForm||(this.mShareForm=new Et),this.mShareForm},enumerable:!0,configurable:!0}),Vt);function Vt(){}var Mt=(Rt.prototype.showToast=function(o){moosnow.ui.showToast(o)},Rt.prototype.preloadAd=function(o){moosnow.ui.pushUIForm(No.AdForm,{showAd:moosnow.AD_POSITION.NONE},o,q)},Rt.prototype.showAd=function(o,t,n){void 0===o&&(o=A),void 0===n&&(n=999),moosnow.getAppPlatform()==moosnow.APP_PLATFORM.BYTEDANCE&&moosnow.platform.isIphone()?console.log("头条iphone 不显示广告"):moosnow.event.sendEventImmediately(j.AD_VIEW_CHANGE,{showAd:o,callback:t,zIndex:n})},Rt.prototype.showCoin=function(o){moosnow.ui.pushUIForm(No.CoinForm,o,function(){},q)},Rt.prototype.showMistouch=function(o){moosnow.ui.pushUIForm(No.MistouchForm,o,function(){},q)},Rt.prototype.showPrize=function(o){moosnow.ui.pushUIForm(No.PrizeForm,o,function(){},q)},Rt.prototype.showTotal=function(o){moosnow.ui.pushUIForm(No.TotalForm,o,function(){},q)},Rt.prototype.showEnd=function(o){moosnow.ui.pushUIForm(No.EndForm,o,function(){},q)},Rt.prototype.showShare=function(o){moosnow.ui.pushUIForm(No.ShareForm,o,function(){},q)},Rt);function Rt(){this.mLoadedAdFrom=!1}var jt,zt=(o(Wt,jt=c),Wt.prototype.initPos=function(){},Wt.prototype.move=function(o,t,n){var e=this;this.moveNode=o,this.distince=t,this.showBanner=n,this.initPos();var i=moosnow.data.getCurrentMisTouchCount();moosnow.data.setCurrentMisTouchCount(i+1),moosnow.http.getAllConfig(function(o){isNaN(o.mistouchPosSecond)||(e.mMistouchPosSecond=parseFloat(o.mistouchPosSecond)),moosnow.http.getMistouchPosNum(function(o){e.mMistouchPosNum=o,e.movePosition()})})},Wt.prototype.setPosition=function(o,t,n,e){},Wt.prototype.movePosition=function(){var o,t=this;0==this.mMistouchPosNum?(this.setPosition(this.moveNode,!0,this.pos1.x,this.pos1.y),this.showBanner&&moosnow.platform.showBanner()):moosnow.data.getCurrentMisTouchCount()%this.mMistouchPosNum==0&&(o=this.copyNode(),this.scheduleOnce(function(){t.onPosCallback(o)},this.mMistouchPosSecond))},Wt.prototype.copyNode=function(){},Wt.prototype.onPosCallback=function(o){this.showBanner&&moosnow.platform.showBanner(),this.removeTemp(o),this.setPosition(this.moveNode,!0,this.pos1.x,this.pos1.y),this.unscheduleOnce(this.onPosCallback)},Wt.prototype.removeTemp=function(o){},Wt);function Wt(){var o=null!==jt&&jt.apply(this,arguments)||this;return o.moveNode=null,o.distince=-100,o.showBanner=!0,o.pos1=cc.Vec2.ZERO,o.pos2=cc.Vec2.ZERO,o.mMistouchPosNum=0,o.mMistouchPosSecond=2,o}var Qt,Gt=(o(Xt,Qt=zt),Xt.prototype.initPos=function(){0==this.pos1.x&&0==this.pos1.y&&(this.pos1=this.moveNode.position.clone(),this.pos2=this.pos1.add(new cc.Vec2(0,this.distince))),this.moveNode.active=!1},Xt.prototype.setPosition=function(o,t,n,e){o.active=t,o.x=n,o.y=e},Xt.prototype.copyNode=function(){var o=cc.instantiate(this.moveNode);return o.active=!0,this.moveNode.parent.addChild(o),o.x=this.pos2.x,o.y=this.pos2.y,o},Xt.prototype.removeTemp=function(o){o.active=!1,o.removeFromParent(),o.destroy()},Xt);function Xt(){var o=null!==Qt&&Qt.apply(this,arguments)||this;return o.moveNode=null,o.distince=-100,o.showBanner=!0,o.pos1=cc.Vec2.ZERO,o.pos2=cc.Vec2.ZERO,o}var qt,Yt=(o(Zt,qt=c),Zt.prototype.show=function(o,t){void 0===t&&(t=3),o&&(this.mNode=o,this.hideNode(),this.schedule(this.showNode,t))},Zt.prototype.hide=function(o,t){void 0===t&&(t=3),this.mNode=o,this.schedule(this.hideNode,t)},Zt.prototype.clear=function(){this.unschedule(this.showNode),this.unschedule(this.hideNode)},Zt.prototype.hideNode=function(){this.mNode.active=!1},Zt.prototype.showNode=function(){this.mNode.active=!0,this.unschedule(this.showNode)},Zt);function Zt(){var o=null!==qt&&qt.apply(this,arguments)||this;return o.mNode=null,o}var Kt,Jt=(o($t,Kt=c),Object.defineProperty($t.prototype,"DelayMove",{get:function(){return this.mDelayMove||(this.mDelayMove=new Gt),this.mDelayMove},enumerable:!0,configurable:!0}),Object.defineProperty($t.prototype,"DelayShow",{get:function(){return this.mDelayShow||(this.mDelayShow=new Yt),this.mDelayShow},enumerable:!0,configurable:!0}),$t);function $t(){return Kt.call(this)||this}var on=(tn.create=function(o){return new o},Object.defineProperty(tn.prototype,"hideForm",{get:function(){return this._hideForm},set:function(o){this._hideForm=o},enumerable:!0,configurable:!0}),tn);function tn(){this._hideForm=!0,this.extraData={}}var nn,en=(o(rn,nn=on),rn);function rn(){var o=null!==nn&&nn.apply(this,arguments)||this;return o.coinNum=0,o.videoNum=0,o.shareCoinNum=0,o.isWin=!0,o.level="1",o}var sn,an=(o(hn,sn=on),hn);function hn(){var o=null!==sn&&sn.apply(this,arguments)||this;return o.showCoinAnim=!0,o.coinOptions=null,o.baseNum=1,o.callback=null,o.shareCallback=null,o.videoCallback=null,o}var cn,ln=(o(un,cn=on),un);function un(){var o=null!==cn&&cn.apply(this,arguments)||this;return o.shareCoinNum=0,o}var mn,pn=(o(dn,mn=on),dn);function dn(){var o=null!==mn&&mn.apply(this,arguments)||this;return o.coinNum=0,o.videoNum=0,o.shareCoinNum=0,o}var fn,yn=(o(wn,fn=on),wn);function wn(){var o=null!==fn&&fn.apply(this,arguments)||this;return o.type=1,o}var vn,Fn=function(){this.x=0,this.y=0,this.z=0},gn=(o(Cn,vn=on),Cn);function Cn(){var o=null!==vn&&vn.apply(this,arguments)||this;return o.randomY=100,o.randomX=100,o.imgNum=30,o.coinNum=0,o.starVec=new Fn,o.endVec=new Fn,o}function Pn(){this.showOptions={endOptions:en,prizeOptions:an,shareOptions:ln,totalOptions:pn,touchOptions:yn,coinOptions:gn},this.mForm=new Mt,this.mControl=new Ht,this.mEntity=new p,this.mDelay=new Jt,window.moosnow?(this.initUI(),this.initEntity(),window.moosnow.ui=this.ui,window.moosnow.entity=this.entity,window.moosnow.form=this.form,window.moosnow.control=this.control,window.moosnow.delay=this.delay,window.moosnow.formSetting=No):console.log("没有引入主SDK")}new(Pn.prototype.initUI=function(){this.mUi=new b},Pn.prototype.initEntity=function(){this.mEntity=new y},Object.defineProperty(Pn.prototype,"ui",{get:function(){return this.mUi},enumerable:!0,configurable:!0}),Object.defineProperty(Pn.prototype,"form",{get:function(){return this.mForm},set:function(o){this.mForm=o},enumerable:!0,configurable:!0}),Object.defineProperty(Pn.prototype,"control",{get:function(){return this.mControl},set:function(o){this.mControl=o},enumerable:!0,configurable:!0}),Object.defineProperty(Pn.prototype,"entity",{get:function(){return this.mEntity},set:function(o){this.mEntity=o},enumerable:!0,configurable:!0}),Object.defineProperty(Pn.prototype,"delay",{get:function(){return this.mDelay},set:function(o){this.mDelay=o},enumerable:!0,configurable:!0}),Pn)}();
