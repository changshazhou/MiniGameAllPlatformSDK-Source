!function(){"use strict";var e=function(o,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var n in t)t.hasOwnProperty(n)&&(o[n]=t[n])})(o,t)};function o(o,t){function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var n,t,u=function(){return(u=Object.assign||function(o){for(var t,n=1,e=arguments.length;n<e;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o}).apply(this,arguments)};(t=n=n||{})[t.WX=0]="WX",t[t.BYTEDANCE=1]="BYTEDANCE",t[t.OPPO=2]="OPPO",t[t.OPPO_ZS=3]="OPPO_ZS",t[t.BAIDU=4]="BAIDU",t[t.QQ=5]="QQ",t[t.PC=6]="PC",t[t.VIVO=7]="VIVO";var i="cc",r="Laya",s="",h=(a.titleCase=function(o){for(var t=o.toLowerCase().split(/\s+/),n=0;n<t.length;n++)t[n]=t[n].slice(0,1).toUpperCase()+t[n].slice(1);return t.join(" ")},a.numFixed=function(o,t){return parseFloat(parseFloat(o).toFixed(t))},a.parseMoney=function(o){return isNaN(o)?0:parseFloat(parseFloat(o).toFixed(2))},a.objKeySort=function(o){for(var t=Object.keys(o).sort(),n={},e=0;e<t.length;e++)n[t[e]]=o[t[e]];return n},a.isObject=function(o){var t=typeof o;return null!==o&&("object"==t||"function"==t)},a.object2Query=function(o){var t=[];for(var n in o)t.push(n+"="+o[n]);return t.join("&")},a.isFunction=function(o){return"function"==typeof o},a.isEmpty=function(o){if("object"!=typeof o)return null==o||"null"===o||"undefined"===o||""===o;var t;for(t in o)return!1;return!0},a.formatTime=function(o){return[o.getHours(),o.getMinutes()].map(this.formatNumber).join(":")},a.formatNumber=function(o){return(o=o.toString())[1]?o:"0"+o},a.copy=function(o,t){for(var n in o)t[n]=o[n]},a.randomNumBoth=function(o,t){var n=t-o,e=Math.random();return o+Math.round(e*n)},a.randomFloat=function(o,t){return o+Math.random()*t},a.randomToRatio=function(o,t,n){return this.randomNumBoth(o,t)<=n},a.generateUUID=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==o?t:3&t|8).toString(16)})},a.isNumber=function(o){return"number"==typeof o||"[object Number]"==Object.prototype.toString.call(o)},a.isArray=function(o){return"[object Array]"==Object.prototype.toString.call(o)},a.isString=function(o){return"[object String]"===Object.prototype.toString.call(o)},Object.defineProperty(a,"platform",{get:function(){if(this.mPlatform)return this.mPlatform;var o,t=window.moosnowConfig;return window.tt?this.mPlatform=n.BYTEDANCE:window.swan?this.mPlatform=n.BAIDU:window.qq?this.mPlatform=n.QQ:window.qg?window.qg&&window.qg.getSystemInfoSync?(o=window.qg.getSystemInfoSync(),console.log("平台判断",JSON.stringify(o)),o&&o.brand&&-1!=o.brand.toLocaleLowerCase().indexOf("vivo")?this.mPlatform=n.VIVO:-1!=t.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=n.OPPO_ZS:this.mPlatform=n.OPPO):-1!=t.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=n.OPPO_ZS:this.mPlatform=n.OPPO:window.wx?this.mPlatform=n.WX:t.debug&&t[t.debug]?"wx"==t.debug?this.mPlatform=n.WX:"oppo"==t.debug?-1!=t.oppo.url.indexOf("platform.qwpo2018.com")?this.mPlatform=n.OPPO_ZS:this.mPlatform=n.OPPO:"bd"==t.debug?this.mPlatform=n.BAIDU:"byte"==t.debug?this.mPlatform=n.BYTEDANCE:"qq"==t.debug?this.mPlatform=n.QQ:"vivo"==t.debug?this.mPlatform=n.VIVO:this.mPlatform=n.PC:this.mPlatform=n.PC,this.mPlatform},enumerable:!0,configurable:!0}),Object.defineProperty(a,"config",{get:function(){var o=window.moosnowConfig,t=a.platform==n.WX?o.wx:a.platform==n.OPPO||a.platform==n.OPPO_ZS?o.oppo:a.platform==n.VIVO?o.vivo:a.platform==n.QQ?o.qq:a.platform==n.BAIDU?o.bd:a.platform==n.BYTEDANCE?o.byte:o.wx;return t},enumerable:!0,configurable:!0}),a.deepCopy=function(o){var t=Array.isArray(o)?[]:{};if(o&&"object"==typeof o)for(var n in o)o.hasOwnProperty(n)&&(o[n]&&"object"==typeof o[n]?t[n]=this.deepCopy(o[n]):t[n]=o[n]);return t},a.getEngine=function(){return window[i]?i:window[r]?r:s},a.popOpenAnim=function(o,t){if(this.getEngine()==i)return o.scale=.8,void o.runAction(cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.callFunc(function(){t&&t()},this)));t()},a.popCloseAnim=function(o,t){if(this.getEngine()==i)return o.scale=1,void o.runAction(cc.sequence(cc.scaleTo(.1,0,0),cc.callFunc(function(){t&&t()},this)));t()},a.format=function(o){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(void 0===o||null==o||""==o||"undefined"==o)return o;for(var e=0;e<t.length;e++){var i=new RegExp("\\{"+e+"\\}","gm");o=o.replace(i,t[e])}return o},a.formatMoney=function(o){return isNaN(o)&&(o=0),o<9999?parseInt(""+o):o<9999999?parseFloat(""+o/1e3).toFixed(2)+"K":o<9999999999?parseFloat(""+o/1e6).toFixed(2)+"M":o<9999999999999?parseFloat(""+o/1e9).toFixed(2)+"G":o<1e16?parseFloat(""+o/1e12).toFixed(2)+"T":o<1e19?parseFloat(""+o/1e15).toFixed(2)+"P":o<1e22?parseFloat(""+o/1e18).toFixed(2)+"E":parseFloat(""+o/1e21).toFixed(2)+"B"},a);function a(){}var c=(l.prototype.schedule=function(o,t){var n=this,e=setInterval(function(){o&&o.apply(n)},1e3*t);console.log("BaseModule schedule ",e),this.mIntervalArr[e]=o},l.prototype.unschedule=function(o){for(var t in this.mIntervalArr)this.mIntervalArr[t]!==o&&!h.isEmpty(this.mIntervalArr[t])||clearInterval(parseInt(t))},l.prototype.scheduleOnce=function(o,t){var n=this,e=setTimeout(function(){clearTimeout(e),o&&o.apply(n)},1e3*t);this.mTimeoutArr[e]=o},l.prototype.unscheduleOnce=function(o){for(var t in this.mTimeoutArr)this.mTimeoutArr[t]!==o&&!h.isEmpty(this.mTimeoutArr[t])||clearTimeout(parseInt(t))},l.prototype.initProperty=function(o){for(var t in o)this.hasOwnProperty(t)&&(this[t]=o[t])},l.prototype.preload=function(o,t){t&&t()},l.prototype._findComponent=function(o,t){for(var n=null,e=0;e<o._components.length;e++){var i=o._components[e];if(i.willHide&&i.willShow){n=i;break}}return n},l.prototype._findComponentByName=function(o,t){return!!o&&(o.name==t||this._findComponentByName(o.$super,t))},l);function l(){this.moduleName="",this.mIntervalArr={},this.mTimeoutArr={}}var m,p=(o(d,m=c),d.prototype.update=function(o){if(!this.paused)for(var t=0;t<this.entityLogics.length;t++)this.entityLogics[t].onFwUpdate(o)},d.prototype.pause=function(){this.paused=!0},d.prototype.resume=function(){this.paused=!1},d.prototype.getAllEntity=function(t){return this.entityLogics.filter(function(o){return o.poolName==t})},d.prototype.showEntity=function(o,t,n){},d.prototype.hideEntity=function(o,t,n){void 0===n&&(n=!1)},d.prototype.hideAllEntity=function(o,t){void 0===t&&(t=!1)},d);function d(){var o=m.call(this)||this;return o.entityLogics=[],o._serializeId=0,o.paused=!0,o.prefabPath="prefab/entity/",o.mEntity3DPools=[],o.mEntity3DLogics=[],o.entityPools=[],o.mIsSlow=!0,o.entityLogics=[],o.mEntity3DPools=[],o.mEntity3DLogics=[],o._serializeId=0,o}var f,y=(o(w,f=p),w.prototype.preload=function(o,n){cc.loader.loadRes(this.prefabPath+""+o,cc.Prefab,function(o,t){n&&n(o,t)})},w.prototype.showEntity=function(o,t,n){var e=this._showEntity(o);return e.id=this._serializeId--,e.node.parent=t,e.willShow(n),e.node.active=!0,e.node.zIndex=e.id,e.onShow(n),this.entityLogics.push(e),e},w.prototype._createEntity=function(o){var t=h.isString(o)?this._getPrefabByName(o):o;return cc.instantiate(t)},w.prototype._showEntity=function(o){var t=this._getOrNewEntityPool(o),n=t.get();null==n&&(n=this._createEntity(o));var e=this._findComponent(n,"EntityLogic");return e.poolName=t.name,e},w.prototype._getPrefabByName=function(o){return cc.loader.getRes(this.prefabPath+""+o,cc.Prefab)},w.prototype._getOrNewEntityPool=function(o){var t=this._getPoolName(o),n=this._getEntityPool(t);return null==n&&(n=this._newEntityPool(t)),n},w.prototype._getPoolName=function(o){var t=h.getEngine();return t==i&&h.isObject(o)?o.name:t==r&&h.isObject(o)?o.json.name:""+o},w.prototype._getEntityPool=function(o){for(var t=0;t<this.entityPools.length;t++){var n=this.entityPools[t];if(n.name===o)return n}return null},w.prototype._newEntityPool=function(o){var t=new cc.NodePool(o);return t.name=o,this.entityPools.push(t),t},w.prototype.hideEntity=function(o,t,n){void 0===n&&(n=!1),this._hideEntity(o,t,n)},w.prototype.hideAllEntity=function(o,t){void 0===t&&(t=!1);for(var n=0;n<this.entityLogics.length;n++){var e=this.entityLogics[n];e.poolName==o&&(this.hideEntity(e,null,t),n--)}},w.prototype._hideEntity=function(o,t,n){var e;void 0===n&&(n=!1),n?(o.willHide(t),o.node.active=!1,o.onHide(t),o.destroy()):(e=this._getOrNewEntityPool(o.poolName),o.willHide(t),e.put(o.node),o.node.active=!1,o.onHide(t)),cc.js.array.remove(this.entityLogics,o)},w);function w(){var o=null!==f&&f.apply(this,arguments)||this;return o.prefabPath="moosnow/prefab/entity/",o}var v,F=function(){this.name="",this.node=null,this.UIForm=null,this.zIndex=0,this.name="",this.node=null,this.UIForm=null,this.zIndex=0},g=(o(C,v=c),C.prototype.showToast=function(n){var e=this,i=this;null==i.toastForm?this._createUINode("toastForm",1e3,function(o,t){cc.Canvas.instance.node.addChild(o),i.toastForm=e._findComponent(o,"toastForm"),o.zIndex=t,i.toastForm.show(n)}):i.toastForm.show(n)},C.prototype.pushUIForm=function(o,t,n){var e=this,i=this._getUINodeFromCacheByName(o);null==i?this._createUIFormModel(o,function(o){e._showUIForm(o,t),n&&n(o,t)}):(i.zIndex=this.layerIndex++,this.UIFormStack.push(i),this._showUIForm(i,t),n&&n(i,t))},C.prototype.pop=function(o,t){var n;void 0===o&&(o=!1),0!=this.UIFormStack.length&&(n=this.UIFormStack.pop(),o?this._destroyUIForm(n,null):this._hideUIForm(n,null,t))},C.prototype.getUIFrom=function(o){for(var t=0;t<this.UIFormStack.length;t++){var n=this.UIFormStack[t];if(n.name==o)return n.UIForm}},C.prototype.hideUIForm=function(o,t,n){if("string"==typeof o)for(var e=0;e<this.UIFormStack.length;e++)(i=this.UIFormStack[e]).name==o&&this._hideUIForm(i,t,n);else for(var i,e=0;e<this.UIFormStack.length;e++)(i=this.UIFormStack[e])==o&&this._hideUIForm(i,t,n)},C.prototype.hideAllUIForm=function(){for(var o=this.UIFormStack.length-1;0<=o;o--){var t=this.UIFormStack[o];this._hideUIForm(t,null)}},C.prototype.destroyUIForm=function(o,t){for(var n=0;n<this.UIFormStack.length;n++){var e=this.UIFormStack[n];e.name==o&&this._destroyUIForm(e,t)}},C.prototype._formatUIFormName=function(o){return o.replace(/\//g,"_")},C.prototype._createUINode=function(o,e,i){var t=this.UIRoot+o;cc.loader.loadRes(t,cc.Prefab,function(o,t){var n=cc.instantiate(t);i&&i(n,e)})},C.prototype._createUIFormModel=function(r,s){var a=this,h=this,c=new F;c.name=r;var o=this.layerIndex++;c.zIndex=o,this.UIFormStack.push(c),this._createUINode(r,o,function(o,t){for(var n=0;n<h.UIFormStack.length;n++){var e=h.UIFormStack[n];if(e.zIndex==t&&e.name==o.name){if(null==o)return void a._removeStack(n);var i=a._findComponent(o,"UIForm");return i.formName=r,e.UIForm=i,e.node=o,void(s&&s(c))}}})},C.prototype._getUINodeFromCacheByName=function(o){for(var t=0;t<this.cachedUIForms.length;t++){var n=this.cachedUIForms[t];if(null!=n.node&&n.name==o)return this.cachedUIForms.splice(t,1),n}return null},C.prototype._showUIForm=function(o,t){var n;cc.Canvas.instance.node.addChild(o.node),o.UIForm.willShow(t),o.node.active=!0,t&&!isNaN(t.zIndex)?o.node.zIndex=t.zIndex:o.node.zIndex=o.zIndex,o.UIForm.onShow(t),o.UIForm.isPopEffect&&(n=o.node,h.popOpenAnim(n))},C.prototype._hideUIForm=function(o,t,n){var e;o.UIForm.willHide(t),o.UIForm.onHide(t),this._removeStack(o),this.cachedUIForms.push(o),o.UIForm.isPopEffect?(e=o.node,h.popCloseAnim(e,function(){o.node.active=!1,o.node.removeFromParent(!1),n&&n()})):o.UIForm.hideAnim(function(){o.node.active=!1,o.node.removeFromParent(!1),n&&n()})},C.prototype._destroyUIForm=function(o,t){o.UIForm.willHide(t),o.node.removeFromParent(),o.UIForm.onHide(t),o.node.active=!1,this._removeStack(o),o.node.destroy()},C.prototype._removeStack=function(n){var e=this;isNaN(n)?this.UIFormStack.forEach(function(o,t){o==n&&e.UIFormStack.splice(t,1)}):this.UIFormStack.splice(n,1)},C);function C(){var o=v.call(this)||this;return o.rootCanvas=null,o.layerIndex=0,o.UIRoot="",o.UIFormStack=[],o.cachedUIForms=[],o.toastForm=null,o.layerIndex=0,o.UIRoot="moosnow/prefab/ui/",o.UIFormStack=[],o.cachedUIForms=[],o.toastForm=null,o}var P,O=(o(b,P=g),b);function b(){return null!==P&&P.apply(this,arguments)||this}var A=(N.VIBRATESWITCH_CHANGED="VIBRATESWITCH_CHANGED",N.SOUNDSWITCH_CHANGED="SOUNDSWITCH_CHANGED",N.MUSICSWITCH_CHANGED="MUSICSWITCH_CHANGED",N.ON_PLATFORM_SHOW="ON_PLATFORM_SHOW",N.ON_PLATFORM_HIDE="ON_PLATFORM_HIDE",N.ON_BANNER_HIDE="ON_BANNER_HIDE",N.ON_AD_SHOW="ON_AD_SHOW",N.AD_VIEW_CHANGE="AD_VIEW_CHANGE",N.AD_VIEW_REFRESH="AD_VIEW_REFRESH",N.COIN_CHANGED="COIN_CHANGED",N);function N(){}var T,S=0,I=1,E=2,_=4,D=8,x=16,U=32,L=64,B=128,k=256,H=512,V=1024,M=2048,R=4096,j=8192,z=32768,W=16384,Q=(o(G,T=c),Object.defineProperty(G.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),G.prototype.initForm=function(o){this.initProperty(o)},G.prototype.willShow=function(o){this.mFormData=o},G.prototype.onShow=function(o){},G.prototype.willHide=function(o){},G.prototype.onHide=function(o){},G);function G(){return null!==T&&T.apply(this,arguments)||this}var q,X=(o(Y,q=Q),Y.prototype.setPosition=function(o,t,n,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=h.deepCopy(o);return i.forEach(function(o){o.position=t,o.onCancel=n,o.refresh=e}),i},Y.prototype.loadAd=function(o,t){var n=this;moosnow.entity.preload(o,function(){moosnow.ad.getAd(function(o){0!=(n.mAdData=o).indexLeft.length&&t&&t(o)})})},Y.prototype.initView=function(o,t,e,n,i,r){var s=this;i?this.loadAd(i,function(o){s.setPosition(o.indexLeft,n,r).forEach(function(o,t){var n=moosnow.entity.showEntity(i,e.node,o);s.mAdItemList.push(n)}),s.pushScroll(t,e)}):console.warn("entityName is null 无法初始化 ")},Y.prototype.pushScroll=function(o,t){},Y.prototype.addEvent=function(){moosnow.event.addListener(A.AD_VIEW_CHANGE,this,this.onAdChange)},Y.prototype.removeEvent=function(){moosnow.event.removeListener(A.AD_VIEW_CHANGE,this)},Y.prototype.onAdChange=function(o){this.mChangeLen++,1<this.mChangeLen&&o.showAd!=W&&(this.mPrevShowAd=this.mShowAd),o.showAd==W&&(o.showAd=this.mPrevShowAd),this.displayChange(o.showAd,o.callback),this.onAfterShow(this.mIndex)},Y.prototype.onAfterShow=function(o){},Y.prototype.willShow=function(o){q.prototype.willShow.call(this,o),this.mAdItemList=[],this.mScrollVec=[],this.addEvent(),o?this.displayChange(o.showAd,o.callback):this.displayChange(S,null)},Y.prototype.displayChange=function(o,t){void 0===t&&(t=null);var n=moosnow.getAppPlatform();moosnow.APP_PLATFORM.WX==n||n==moosnow.APP_PLATFORM.OPPO||n==moosnow.APP_PLATFORM.BYTEDANCE?(this.mShowAd=o,this.displayAd(!0),this.mBackCall=t):this.onBack()},Y.prototype.onBack=function(){this.mBackCall&&this.mBackCall()},Y.prototype.sideOut=function(){},Y.prototype.sideIn=function(){},Y.prototype.initFiexdView=function(o,s,a,h,c){var l=this;this.loadAd(h,function(o){if(l.mEndLogic){for(var t=0;t<l.mEndLogic.length;t++)moosnow.entity.hideEntity(l.mEndLogic[t],{});l.mEndLogic=[]}for(var e=l.setPosition(o.indexLeft,a,c,!0),n=[],i=[],t=0;t<6;t++){var r=e.length>t?e[t]:e[0];i.push({appid:r.appid,position:r.position,index:t}),n.push(r)}n.forEach(function(o){var t=u(u({},o),{showIds:i,source:e}),n=moosnow.entity.showEntity(h,s,t);return l.mEndLogic.push(n),!1})})},Y.prototype.willHide=function(){this.removeEvent(),this.mAdItemList.forEach(function(o){moosnow.entity.hideEntity(o,null)}),this.mAdItemList=[],this.mScrollVec=[]},Y.prototype.initFloatAd=function(h,t,c,n,e){var l=this;cc.loader.loadResDir(moosnow.entity.prefabPath,cc.Prefab,function(){moosnow.ad.getAd(function(o){var s,a;0!=(l.mAdData=o).indexLeft.length&&(s=l.setPosition(o.indexLeft,n,e,!0),a=[],t.forEach(function(o,t){var n=t;n>s.length-1&&(n=0);var e=s[n];a.push({appid:e.appid,position:e.position,index:t});var i=c[t];e.x=i.x,e.y=i.y,e.source=s,e.showIds=a;var r=moosnow.entity.showEntity(o,h,e);l.mFloatCache[t]={index:n,logic:r},l.floatAnim(r.node)}),l.updateFloat(s),l.schedule(function(){l.updateFloat(s)},l.mFloatRefresh))})})},Y.prototype.floatAnim=function(o){},Y.prototype.updateFloat=function(o){for(var t in this.mFloatCache){var n=this.mFloatCache[t].index,e=this.mFloatCache[t].logic;n<o.length-1?n++:n=0,this.mFloatCache[t].index=n,e.refreshImg(o[n])}},Y.prototype.hasAd=function(o){return(this.mShowAd&o)==o},Y.prototype.showExportClose=function(){--this.mSecond,this.exportCloseTxt.active=!0;var o=this.exportCloseTxt.getComponent(cc.Label);if(this.mSecond<=0)return this.exportClose.active=!0,this.exportCloseTxt.active=!1,void this.unschedule(this.showExportClose);o.string="剩余"+this.mSecond+"秒可关闭"},Y.prototype.displayAd=function(o){this.floatContainer.active=o&&this.hasAd(E),this.bannerContainer.active=o&&this.hasAd(I),this.centerContainer.active=o&&this.hasAd(D),this.leftContainer.active=o&&this.hasAd(k),this.exportMask.active=o&&this.hasAd(L),this.sideContainer.active=o&&this.hasAd(_),this.endContainer.active=o&&this.hasAd(H),this.topContainer.active=o&&this.hasAd(z),this.extend1Container.active=o&&this.hasAd(V),this.extend2Container.active=o&&this.hasAd(M),this.extend3Container.active=o&&this.hasAd(R),this.extend4Container.active=o&&this.hasAd(j),this.exportContainer.active=o&&this.hasAd(x),this.showClose(o),this.showInviteBox(o)},Y.prototype.showClose=function(o){this.exportClose.active=!1,this.exportCloseTxt.active=!1,this.unschedule(this.showExportClose),o&&this.hasAd(U)?this.hasAd(B)?(this.mSecond=3,this.showExportClose(),this.schedule(this.showExportClose,1)):(this.exportClose.active=!0,this.exportCloseTxt.active=!1):(this.exportClose.active=!1,this.exportCloseTxt.active=!1)},Y.prototype.showInviteBox=function(o){var t=this;o&&this.hasAd(x)&&moosnow.http.getAllConfig(function(o){o&&(1==o.exportAutoNavigate&&moosnow.platform.navigate2Mini(t.mAdData.indexLeft[h.randomNumBoth(0,t.mAdData.indexLeft.length-1)]),o.exportAutoInvite&&t._createInviteBox())}),o&&this.hasAd(I)&&moosnow.http.getAllConfig(function(o){t._createInviteBox(),o&&o.bannerAutoInvite&&t._createInviteBox()}),o&&this.hasAd(_)&&moosnow.http.getAllConfig(function(o){o&&o.sideAutoInvite&&t._createInviteBox()})},Y.prototype._createInviteBox=function(){var n=this;moosnow.http.getAllConfig(function(o){var t;o&&0<(t=isNaN(o.inviteDelay)?0:parseFloat(o.inviteDelay))?n.scheduleOnce(function(){moosnow.entity.showEntity("inviteBox",cc.Canvas.instance.node,{})},t):moosnow.entity.showEntity("inviteBox",cc.Canvas.instance.node,{})})},Y.prototype.onFwUpdate=function(){},Y);function Y(){var o=null!==q&&q.apply(this,arguments)||this;return o.pauseContainer=null,o.pauseView=null,o.pauseLayout=null,o.centerContainer=null,o.centerView=null,o.centerLayout=null,o.exportContainer=null,o.exportView=null,o.exportLayout=null,o.exportClose=null,o.exportMask=null,o.exportCloseTxt=null,o.floatContainer=null,o.floatFull=null,o.bannerContainer=null,o.bannerView=null,o.bannerLayout=null,o.endContainer=null,o.endView=null,o.endLayout=null,o.failContainer=null,o.failView=null,o.failLayout=null,o.gameOverContainer=null,o.gameOverView=null,o.gameOverLayout=null,o.respawnContainer=null,o.respawnScrollView=null,o.respawnLayout=null,o.playerDiedContainer=null,o.playerDiedScrollView=null,o.playerDiedLayout=null,o.leftContainer=null,o.leftView=null,o.leftLayout=null,o.rightView=null,o.rightLayout=null,o.sideContainer=null,o.sideView=null,o.sideLayout=null,o.btnSideShow=null,o.btnSideHide=null,o.extend1Container=null,o.extend1View=null,o.extend1Layout=null,o.extend2Container=null,o.extend2View=null,o.extend2Layout=null,o.extend3Container=null,o.extend3View=null,o.extend3Layout=null,o.extend4Container=null,o.extend4View=null,o.extend4Layout=null,o.topContainer=null,o.topView=null,o.topLayout=null,o.mAdItemList=[],o.mScrollVec=[],o.mChangeLen=0,o.mIndex=999,o.mShowAd=moosnow.AD_POSITION.NONE,o.mPrevShowAd=moosnow.AD_POSITION.NONE,o.mEndLogic=[],o.mFloatIndex=0,o.mFloatRefresh=3,o.mFloatCache={},o.mSecond=3,o}var Z,K=(o(J,Z=Q),Object.defineProperty(J,"TOUCH_START",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(J,"TOUCH_END",{get:function(){return""},enumerable:!0,configurable:!0}),J);function J(){return null!==Z&&Z.apply(this,arguments)||this}var $,oo=(o(to,$=K),Object.defineProperty(to,"TOUCH_START",{get:function(){return cc.Node.EventType.TOUCH_START},enumerable:!0,configurable:!0}),Object.defineProperty(to,"TOUCH_END",{get:function(){return cc.Node.EventType.TOUCH_END},enumerable:!0,configurable:!0}),to);function to(){return null!==$&&$.apply(this,arguments)||this}var no,eo,io,ro=(o(so,no=X),so.prototype.addEvent=function(){this.exportClose&&this.exportClose.on(oo.TOUCH_END,this.onBack,this),this.btnSideShow&&this.btnSideShow.on(oo.TOUCH_START,this.sideOut,this),this.btnSideHide&&this.btnSideHide.on(oo.TOUCH_START,this.sideIn,this),no.prototype.addEvent.call(this)},so.prototype.removeEvent=function(){this.exportClose&&this.exportClose.off(oo.TOUCH_END,this.onBack,this),this.btnSideShow&&this.btnSideShow.off(oo.TOUCH_START,this.sideOut,this),this.btnSideHide&&this.btnSideHide.off(oo.TOUCH_START,this.sideIn,this),no.prototype.removeEvent.call(this)},so.prototype.floatAnim=function(o){o.runAction(cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever())},so.prototype.sideOut=function(){var o=this,t=moosnow.platform.getSystemInfoSync(),n=0,e=0;t&&(n=t.statusBarHeight||0,e=t.notchHeight||0),this.sideView.node.runAction(cc.sequence(cc.moveTo(1,n+e+this.sideView.node.width+20,0),cc.callFunc(function(){o.btnSideShow.active=!1,o.btnSideHide.active=!0})))},so.prototype.sideIn=function(){var o=this;this.sideView.node.runAction(cc.sequence(cc.moveTo(1,0,0),cc.callFunc(function(){o.btnSideShow.active=!0,o.btnSideHide.active=!1})))},so.prototype.pushScroll=function(o,t){t.type==cc.Layout.Type.GRID?o.vertical?this.mScrollVec.push({scrollView:o,move2Up:!1}):this.mScrollVec.push({scrollView:o,move2Left:!1}):t.type==cc.Layout.Type.HORIZONTAL?this.mScrollVec.push({scrollView:o,move2Left:!1}):t.type==cc.Layout.Type.VERTICAL&&this.mScrollVec.push({scrollView:o,move2Up:!1})},so.prototype.onFwUpdate=function(){for(var o=0;o<this.mScrollVec.length;o++){var t,n,e,i,r=this.mScrollVec[o],s=r.scrollView;s.isScrolling()||(n=(t=s.getMaxScrollOffset()).y/2+20,e=t.x/2+20,i=s.getContentPosition(),1==r.move2Up?(i.y>n&&(r.move2Up=!1),r.scrollView.setContentPosition(new cc.Vec2(i.x,i.y+this.mMoveSpeed))):0==r.move2Up&&(i.y<-n&&(r.move2Up=!0),r.scrollView.setContentPosition(new cc.Vec2(i.x,i.y-this.mMoveSpeed))),1==r.move2Left?(i.x>e&&(r.move2Left=!1),r.scrollView.setContentPosition(new cc.Vec2(i.x+this.mMoveSpeed,i.y))):0==r.move2Left&&(i.x<-e&&(r.move2Left=!0),r.scrollView.setContentPosition(new cc.Vec2(i.x-this.mMoveSpeed,i.y))))}},so);function so(){var o=null!==no&&no.apply(this,arguments)||this;return o.mMoveSpeed=2,o}(io=eo=eo||{})[io.AUTO_HIDE=1]="AUTO_HIDE",io[io.MAST=2]="MAST";var ao=(Object.defineProperty(ho,"mapping",{get:function(){var o,t,n,e,i,r,s,a,h,c,l,u;return{adForm:((o={})[moosnow.APP_PLATFORM.WX]="adForm",o),pauseForm:((t={})[moosnow.APP_PLATFORM.WX]="pauseForm",t[moosnow.APP_PLATFORM.BYTEDANCE]="pauseFormTT",t[moosnow.APP_PLATFORM.OPPO]="pauseFormOPPO",t[moosnow.APP_PLATFORM.OPPO_ZS]="pauseFormOPPO",t[moosnow.APP_PLATFORM.VIVO]="pauseFormOPPO",t[moosnow.APP_PLATFORM.QQ]="pauseFormTT",t),respawnForm:((n={})[moosnow.APP_PLATFORM.WX]="respawnForm",n[moosnow.APP_PLATFORM.BYTEDANCE]="respawnFormTT",n[moosnow.APP_PLATFORM.OPPO]="respawnFormOPPO",n[moosnow.APP_PLATFORM.OPPO_ZS]="respawnFormOPPO",n[moosnow.APP_PLATFORM.VIVO]="respawnFormOPPO",n[moosnow.APP_PLATFORM.QQ]="respawnFormQQ",n),endForm:((e={})[moosnow.APP_PLATFORM.WX]="endForm",e[moosnow.APP_PLATFORM.BYTEDANCE]="endFormTT",e[moosnow.APP_PLATFORM.OPPO]="endFormOPPO",e[moosnow.APP_PLATFORM.OPPO_ZS]="endFormOPPO",e[moosnow.APP_PLATFORM.VIVO]="endFormOPPO",e),totalForm:((i={})[moosnow.APP_PLATFORM.WX]="totalForm",i[moosnow.APP_PLATFORM.BYTEDANCE]="totalFormTT",i[moosnow.APP_PLATFORM.QQ]="totalFormQQ",i),tryForm:((r={})[moosnow.APP_PLATFORM.WX]="tryForm",r[moosnow.APP_PLATFORM.BYTEDANCE]="tryFormTT",r[moosnow.APP_PLATFORM.QQ]="tryFormTT",r),mistouchForm:((s={})[moosnow.APP_PLATFORM.WX]="mistouchForm",s[moosnow.APP_PLATFORM.QQ]="mistouchFormQQ",s[moosnow.APP_PLATFORM.BYTEDANCE]="mistouchFormTT",s),prizeForm:((a={})[moosnow.APP_PLATFORM.BYTEDANCE]="prizeFormTT",a[moosnow.APP_PLATFORM.QQ]="prizeForm",a),shareForm:((h={})[moosnow.APP_PLATFORM.WX]="shareFormTT",h[moosnow.APP_PLATFORM.BYTEDANCE]="shareFormTT",h),setForm:((c={})[moosnow.APP_PLATFORM.WX]="setForm",c),toastForm:((l={})[moosnow.APP_PLATFORM.WX]="toastForm",l),coinForm:((u={})[moosnow.APP_PLATFORM.WX]="coinForm",u)}},enumerable:!0,configurable:!0}),ho.convertUIName=function(o){if(!o)return console.warn("convertUIName fail  mappingForm is null "),null;var t=moosnow.getAppPlatform();return o[t]?o[t]:o[moosnow.APP_PLATFORM.WX]?o[moosnow.APP_PLATFORM.WX]:(console.warn("convertUIName fail ",o),null)},Object.defineProperty(ho,"AdForm",{get:function(){return this.convertUIName(this.mapping.adForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"CoinForm",{get:function(){return this.convertUIName(this.mapping.coinForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"ShareForm",{get:function(){return this.convertUIName(this.mapping.shareForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"TotalForm",{get:function(){return this.convertUIName(this.mapping.totalForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"EndForm",{get:function(){return this.convertUIName(this.mapping.endForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"ToastForm",{get:function(){return this.convertUIName(this.mapping.toastForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"PauseForm",{get:function(){return this.convertUIName(this.mapping.pauseForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"RespawnForm",{get:function(){return this.convertUIName(this.mapping.respawnForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"SetForm",{get:function(){return this.convertUIName(this.mapping.setForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"PrizeForm",{get:function(){return this.convertUIName(this.mapping.prizeForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"MistouchForm",{get:function(){return this.convertUIName(this.mapping.mistouchForm)},enumerable:!0,configurable:!0}),Object.defineProperty(ho,"TryForm",{get:function(){return this.convertUIName(this.mapping.tryForm)},enumerable:!0,configurable:!0}),ho);function ho(){}var co,lo=(o(uo,co=Q),Object.defineProperty(uo.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),uo.prototype.initPos=function(){},uo.prototype.willShow=function(o){var t=this;co.prototype.willShow.call(this,o),this.btnBanner.active=!0,this.initPos(),this.mCurrentNum=0,this.mNavigateIndex=h.randomNumBoth(3,this.mMaxNum-2),this.addEvent(),this.schedule(this.subProgress,.1),moosnow.form.showAd(moosnow.AD_POSITION.NONE,null),this.mBannerShow=!1,moosnow.http.getAllConfig(function(o){t.mBannerClickType=eo.MAST})},uo.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent()},uo.prototype.subProgress=function(){0<this.mCurrentNum&&(this.mCurrentNum-=.1)},uo.prototype.addEvent=function(){},uo.prototype.removeEvent=function(){},uo.prototype.bannerClickCallback=function(o){o&&(this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),moosnow.platform.hideBanner(),this.mBannerShow=!1,this.FormData&&this.FormData.callback&&this.FormData.callback())},uo.prototype.onLogoUp=function(){this.logo.position=this.mEndPos},uo.prototype.onLogoDown=function(){this.logo.position=this.mBeginPos},uo.prototype.onBannerClick=function(){var t=this;this.onLogoDown(),this.mCurrentNum+=1,this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,moosnow.platform.showBanner(function(o){console.log("banner click callback ",o),t.bannerClickCallback(o)}),this.mBannerClickType==eo.AUTO_HIDE?(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,2)):this.mBannerClickType==eo.MAST&&(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,2)))),this.mCurrentNum>=this.mMaxNum&&(moosnow.platform.hideBanner(),this.mBannerShow=!1,moosnow.ui.destroyUIForm(ao.MistouchForm,null),this.FormData&&this.FormData.callback&&this.FormData.callback(!0))},uo.prototype.resetProgress=function(){this.mCurrentNum=0,moosnow.platform.hideBanner(),this.mBannerShow=!1},uo.prototype.onHideBanner=function(){moosnow.platform.hideBanner()},uo.prototype.update=function(){this.clickProgress.progress=this.mCurrentNum/this.mMaxNum},uo);function uo(){var o=null!==co&&co.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o.mMaxNum=10,o.mCurrentNum=0,o.mNavigateIndex=0,o.mBannerShow=!1,o.mShowTime=0,o.mBannerClickType=eo.AUTO_HIDE,o}var mo,po=(o(fo,mo=lo),fo.prototype.addEvent=function(){this.btnBanner.on(oo.TOUCH_START,this.onLogoUp,this),this.btnBanner.on(oo.TOUCH_END,this.onBannerClick,this)},fo.prototype.removeEvent=function(){this.btnBanner.off(oo.TOUCH_START,this.onLogoUp,this),this.btnBanner.off(oo.TOUCH_END,this.onBannerClick,this),moosnow.event.removeListener(A.ON_PLATFORM_SHOW,this)},fo.prototype.onLogoUp=function(){this.logo.position=this.mEndPos},fo.prototype.onLogoDown=function(){this.logo.position=this.mBeginPos},fo.prototype.initPos=function(){this.mBeginPos=this.logo.position.clone(),this.mEndPos=this.mBeginPos.add(new cc.Vec2(0,50))},fo);function fo(){var o=null!==mo&&mo.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o}var yo,wo=(o(vo,yo=lo),vo.prototype.willShow=function(o){yo.prototype.willShow.call(this,o),this.step1.active=!0,this.step2.active=!1,this.btnConfirm.active=!0,this.mCurrentNum=0,this.mOpenVideo=!0,this.showCheckbox(),this.addEvent(),this.schedule(this.subProgress,.1),moosnow.form.showAd(moosnow.AD_POSITION.NONE,null)},vo.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent()},vo.prototype.subProgress=function(){0<this.mCurrentNum&&(this.mCurrentNum-=.1)},vo.prototype.addEvent=function(){},vo.prototype.removeEvent=function(){},vo.prototype.openBox=function(){var t=this;this.mOpenVideo?(this.btnConfirm.active=!1,moosnow.platform.showVideo(function(o){o!=moosnow.VIDEO_STATUS.END?(o==moosnow.VIDEO_STATUS.NOTEND?moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND):moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR),t.btnConfirm.active=!0):t.FormData&&t.FormData.callback&&t.FormData.callback(!0)})):moosnow.ui.hideUIForm(ao.MistouchForm,null)},vo.prototype.checkboxChange=function(){this.mOpenVideo=!this.mOpenVideo,this.showCheckbox()},vo.prototype.showCheckbox=function(){this.mOpenVideo?this.checked.node.active=!0:this.checked.node.active=!1},vo.prototype.playBoxAnim=function(o){},vo.prototype.onLogoUp=function(){this.playBoxAnim("prizeBox2")},vo.prototype.onBannerClick=function(){this.mCurrentNum>this.mMaxNum+1||(this.mCurrentNum+=1,this.mCurrentNum>=this.mMaxNum&&(this.step1.active=!1,this.step2.active=!0,this.playBoxAnim("prizeBox1")))},vo.prototype.resetProgress=function(){this.mCurrentNum=0},vo.prototype.update=function(){var o=this.mCurrentNum/this.mMaxNum;this.clickProgress.progress=1<o?1:o},vo);function vo(){var o=null!==yo&&yo.apply(this,arguments)||this;return o.clickProgress=null,o.btnReceive=null,o.btnConfirm=null,o.checked=null,o.unchecked=null,o.step1=null,o.step2=null,o.logo=null,o.mMaxNum=10,o.mCurrentNum=0,o.mOpenVideo=!0,o}var Fo,go=(o(Co,Fo=wo),Co.prototype.playBoxAnim=function(o){var t=this.logo.getComponent(cc.Animation);t.getAnimationState(o).isPlaying||t.play(o)},Co.prototype.addEvent=function(){this.unchecked.node.on(oo.TOUCH_END,this.checkboxChange,this),this.btnReceive.on(oo.TOUCH_START,this.onLogoUp,this),this.btnReceive.on(oo.TOUCH_END,this.onBannerClick,this),this.btnConfirm.on(oo.TOUCH_END,this.openBox,this)},Co.prototype.removeEvent=function(){this.unchecked.node.off(oo.TOUCH_END,this.checkboxChange,this),this.btnReceive.off(oo.TOUCH_START,this.onLogoUp,this),this.btnReceive.off(oo.TOUCH_END,this.onBannerClick,this),this.btnConfirm.off(oo.TOUCH_END,this.openBox,this)},Co);function Co(){var o=null!==Fo&&Fo.apply(this,arguments)||this;return o.clickProgress=null,o.btnReceive=null,o.btnConfirm=null,o.checked=null,o.unchecked=null,o.step1=null,o.step2=null,o.logo=null,o}var Po,Oo=(o(bo,Po=lo),bo.prototype.willShow=function(o){Po.prototype.willShow.call(this,o),this.mCurrentNum=0,this.mNavigateIndex=h.randomNumBoth(3,this.mMaxNum-2),this.addEvent(),this.schedule(this.subProgress,.016),moosnow.form.showAd(moosnow.AD_POSITION.NONE,null),this.mBannerShow=!1,this.mistouchAppBox()?(this.showHand(!0),this.showButton(!1),this.playHandAnim()):(this.showHand(!1),this.showButton(!0)),moosnow.platform.hideBanner()},bo.prototype.playHandAnim=function(){},bo.prototype.mistouchAppBox=function(){return this.FormData&&2==this.FormData.type},bo.prototype.subProgress=function(){0<this.mCurrentNum&&(this.mCurrentNum-=.02)},bo.prototype.initPos=function(){},bo.prototype.onHideBanner=function(){this.mistouchAppBox()?moosnow.platform.hideAppBox():moosnow.platform.hideBanner()},bo.prototype.showButton=function(o){},bo.prototype.showHand=function(o){},bo.prototype.onBannerClick=function(){var t=this;this.mCurrentNum+=1,this.onLogoDown(),this.showHand(!1),this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,this.mistouchAppBox()?moosnow.platform.showAppBox(function(){t.bannerClickCallback(!0)}):moosnow.platform.showBanner(function(o){console.log("banner click callback ",o),t.bannerClickCallback(o)}),this.mBannerClickType==eo.AUTO_HIDE?(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,2)):this.mBannerClickType==eo.MAST&&(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,2)))),this.mCurrentNum>=this.mMaxNum&&(moosnow.platform.hideBanner(),this.mBannerShow=!1,this.scheduleOnce(function(){moosnow.ui.destroyUIForm(ao.MistouchForm,null),t.FormData&&t.FormData.callback&&t.FormData.callback()},.2))},bo);function bo(){var o=null!==Po&&Po.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o.hand=null,o.pinch1=null,o.pinch2=null,o.pinch3=null,o.pinch4=null,o.pinch5=null,o.pinch6=null,o}var Ao,No=(o(To,Ao=Oo),To.prototype.onLogoUp=function(){},To.prototype.onLogoDown=function(){var o=this.logo.getComponent(cc.Sprite);this.mCurrentNum<this.mMaxNum?o.spriteFrame=this["pinch"+(parseInt(""+this.mCurrentNum)%4+1)]:o.spriteFrame=this.pinch6},To.prototype.addEvent=function(){var o=this;this.mistouchAppBox()?(this.btnBanner.active=!1,this.logo.on(oo.TOUCH_START,this.onLogoUp,this),this.logo.on(oo.TOUCH_END,this.onBannerClick,this)):(this.btnBanner.active=!0,this.btnBanner.on(oo.TOUCH_START,this.onLogoUp,this),this.btnBanner.on(oo.TOUCH_END,this.onBannerClick,this)),moosnow.event.addListener(A.ON_PLATFORM_SHOW,this,function(){o.mBannerShow&&o.bannerClickCallback(!0)})},To.prototype.removeEvent=function(){this.btnBanner.off(oo.TOUCH_END,this.onBannerClick,this),moosnow.event.removeListener(A.ON_PLATFORM_SHOW,this)},To.prototype.playHandAnim=function(){this.hand.getComponent(cc.Animation).play()},To.prototype.showButton=function(o){this.btnBanner.active=o},To.prototype.showHand=function(o){this.hand.active=o},To);function To(){var o=null!==Ao&&Ao.apply(this,arguments)||this;return o.clickProgress=null,o.btnBanner=null,o.logo=null,o.hand=null,o.pinch1=null,o.pinch2=null,o.pinch3=null,o.pinch4=null,o.pinch5=null,o.pinch6=null,o}var So,Io=(o(Eo,So=c),Eo.prototype.initForm=function(o){this.initProperty(o)},Object.defineProperty(Eo.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!0,configurable:!0}),Eo.prototype.willShow=function(o){this.mLogicData=o,this.initPosition(o)},Eo.prototype.initPosition=function(o){},Eo.prototype.onShow=function(o){},Eo.prototype.willHide=function(o){},Eo.prototype.onHide=function(o){},Eo);function Eo(){return null!==So&&So.apply(this,arguments)||this}var _o,Do=(o(xo,_o=Io),xo.prototype.onClickAd=function(){var o,t=this,n=this.mAdItem;this.LogicData.refresh&&((o=this.findNextAd()).refresh&&moosnow.event.sendEventImmediately(A.AD_VIEW_REFRESH,{current:n,next:o}),this.refreshImg(o)),moosnow.platform.navigate2Mini(n,function(){},function(){t.mAdItem.onCancel&&t.mAdItem.onCancel(n)})},xo.prototype.findNextAd=function(){if(!this.LogicData.source)return null;if(!this.LogicData.showIds)return null;for(var o=0;o<this.LogicData.source.length;o++){for(var t=!1,n=0;n<this.LogicData.showIds.length;n++)this.LogicData.showIds[n].appid==this.LogicData.source[o].appid&&this.LogicData.showIds[n].position==this.LogicData.source[o].position&&(t=!0);if(!t)return this.LogicData.source[o]}return null},xo.prototype.onAdViewChange=function(o){if(this.LogicData.showIds&&this.LogicData.source){for(var t=o.current,n=o.next,e=this.LogicData.showIds,i=this.LogicData.source,r=0;r<e.length;r++)t.appid==e[r].appid&&t.position==e[r].position&&(this.LogicData.showIds[r]=n.appid);for(r=0;r<i.length;r++)if(n.appid==i[r].appid){this.LogicData.source.splice(r,1),this.LogicData.source.push(t);break}}},xo.prototype.onShow=function(){this.LogicData&&this.LogicData.refresh&&moosnow.event.addListener(A.AD_VIEW_REFRESH,this,this.onAdViewChange)},xo.prototype.onHide=function(){this.mAdItem&&(this.mAdItem.onCancel=null),this.removeListener(),moosnow.event.removeListener(A.AD_VIEW_REFRESH,this)},xo.prototype.addListener=function(){},xo.prototype.removeListener=function(){},xo.prototype.willShow=function(o){_o.prototype.willShow.call(this,o),this.addListener()},xo.prototype.refreshImg=function(o){},xo);function xo(){var o=null!==_o&&_o.apply(this,arguments)||this;return o.logo=null,o.title=null,o.animLogo=null,o.nameBg=null,o.changeView=!1,o}var Uo,Lo=(o(Bo,Uo=Do),Bo.prototype.addListener=function(){this.logo.node.on(oo.TOUCH_END,this.onClickAd,this)},Bo.prototype.removeListener=function(){this.logo.node.off(oo.TOUCH_END,this.onClickAd,this)},Bo.prototype.initPosition=function(o){},Bo.prototype.willShow=function(o){var e=this;Uo.prototype.willShow.call(this,o),this.mAdItem=o,cc.loader.load(o.img,function(o,t){var n=new cc.SpriteFrame(t);e.logo.spriteFrame=n}),this.title&&(this.title.string=o.title)},Bo.prototype.refreshImg=function(o){var e=this;this.mAdItem=o,cc.loader.load(o.img,function(o,t){var n=new cc.SpriteFrame(t);e.logo.spriteFrame=n}),this.title&&(this.title.string=o.title)},Bo);function Bo(){return null!==Uo&&Uo.apply(this,arguments)||this}var ko,Ho=(o(Vo,ko=Q),Object.defineProperty(Vo.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),Vo.prototype.initForm=function(o){this.initProperty(o)},Vo.prototype.willHide=function(){},Vo.prototype.willShow=function(o){ko.prototype.willShow.call(this,o),this.coinNum.string=""+h.formatMoney(o.coinNum),moosnow.platform.hideBanner()},Vo.prototype.closeForm=function(){var o=this;moosnow.ui.destroyUIForm(ao.PrizeForm,null),moosnow.ui.destroyUIForm(ao.MistouchForm,null),1==this.FormData.showCoinAnim?moosnow.ui.pushUIForm(ao.CoinForm,u(u({},h.deepCopy(this.FormData)),{callback:function(){o.FormData.callback&&o.FormData.callback()}})):this.FormData.callback&&this.FormData.callback()},Vo);function Vo(){var o=null!==ko&&ko.apply(this,arguments)||this;return o.coinNum=null,o.btnConfirm=null,o}var Mo,Ro=(o(jo,Mo=Ho),jo.prototype.initForm=function(o){this.initProperty(o),this.btnConfirm.on(oo.TOUCH_END,this.closeForm,this)},jo.prototype.willHide=function(){this.btnConfirm.off(oo.TOUCH_END,this.closeForm,this)},jo);function jo(){var o=null!==Mo&&Mo.apply(this,arguments)||this;return o.coinNum=null,o.btnConfirm=null,o}var zo,Wo=(o(Qo,zo=Q),Object.defineProperty(Qo.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),Qo.prototype.initForm=function(o){this.initProperty(o)},Qo.prototype.willShow=function(o){var n=this;zo.prototype.willShow.call(this,o),this.addListener(),this.mChecked=!1,this.onChecked(),this.prizeBg1.active=!1,this.prizeBg2.active=!1,moosnow.http.getAllConfig(function(o){var t;o?1==o.prizeFormVideo?n.showVideo():2==o.prizeFormVideo?n.showShare():(t=o&&o.prizeFormVideosPrecent?parseFloat(o.prizeFormVideosPrecent):.5,h.randomNumBoth(0,100)/100<t?n.showVideo():n.showShare()):n.showShare()}),this.mTotalSecond=10,this.mCurrentSecond=0,this.resumeCountdown(),moosnow.platform.showBanner()},Qo.prototype.onHide=function(){this.removeListener()},Qo.prototype.showVideo=function(){this.prizeBg1.active=!0,this.prizeBg2.active=!1},Qo.prototype.showShare=function(){this.prizeBg1.active=!1,this.prizeBg2.active=!0},Qo.prototype.onCountdown=function(){this.mCurrentSecond+=1;var o=this.mTotalSecond-this.mCurrentSecond;if(o<0)return this.unschedule(this.onCountdown),void moosnow.ui.hideUIForm(ao.PrizeForm,null);this.txtCoutdown.string=o+"秒"},Qo.prototype.stopCountdown=function(){this.unschedule(this.onCountdown)},Qo.prototype.resumeCountdown=function(){this.schedule(this.onCountdown,1)},Qo.prototype.addListener=function(){},Qo.prototype.removeListener=function(){},Qo.prototype.closeForm=function(){moosnow.ui.hideUIForm(ao.PrizeForm,null)},Qo.prototype.onChecked=function(){},Qo.prototype.onShare=function(){var t=this;this.stopCountdown(),moosnow.platform.share({channel:""},function(o){t.resumeCountdown(),t.FormData&&(t.FormData.hideForm&&moosnow.ui.hideUIForm(ao.PrizeForm,null),t.FormData.shareCallback&&t.FormData.shareCallback(o))})},Qo.prototype.onReceive=function(){this.mChecked?this.onVideo():this.FormData&&(this.FormData.hideForm&&moosnow.ui.hideUIForm(ao.PrizeForm,null),this.FormData.callback&&this.FormData.callback())},Qo.prototype.onVideo=function(){var t=this;this.stopCountdown(),moosnow.platform.showVideo(function(o){o!=moosnow.VIDEO_STATUS.END?(o==moosnow.VIDEO_STATUS.ERR?moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR):moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND),t.resumeCountdown()):t.FormData&&(t.FormData.hideForm&&moosnow.ui.hideUIForm(ao.PrizeForm,null),t.FormData.videoCallback&&t.FormData.videoCallback())})},Qo);function Qo(){var o=null!==zo&&zo.apply(this,arguments)||this;return o.prizeBg1=null,o.prizeBg2=null,o.btnCancel=null,o.txtCoutdown=null,o.btnVideo=null,o.btnShare=null,o.btnReceive=null,o.checked=null,o.unchecked=null,o.isMask=!0,o.mChecked=!1,o.mTotalSecond=10,o.mCurrentSecond=0,o}var Go,qo=(o(Xo,Go=Wo),Xo.prototype.onChecked=function(){this.mChecked=!this.mChecked,this.checked.active=this.mChecked},Xo.prototype.initForm=function(o){this.initProperty(o),this.btnConfirm.on(oo.TOUCH_END,this.closeForm,this)},Xo.prototype.willHide=function(){this.btnConfirm.off(oo.TOUCH_END,this.closeForm,this)},Xo.prototype.addListener=function(){this.btnCancel.on(oo.TOUCH_END,this.closeForm,this),this.btnVideo.on(oo.TOUCH_END,this.onVideo,this),this.btnReceive.on(oo.TOUCH_END,this.onReceive,this),this.btnShare.on(oo.TOUCH_END,this.onShare,this),this.unchecked.on(oo.TOUCH_END,this.onChecked,this)},Xo.prototype.removeListener=function(){this.btnCancel.off(oo.TOUCH_END,this.closeForm,this),this.btnVideo.off(oo.TOUCH_END,this.onVideo,this),this.btnReceive.off(oo.TOUCH_END,this.onReceive,this),this.btnShare.off(oo.TOUCH_END,this.onShare,this),this.unchecked.off(oo.TOUCH_END,this.onChecked,this)},Xo);function Xo(){var o=null!==Go&&Go.apply(this,arguments)||this;return o.coinNum=null,o.btnConfirm=null,o}var Yo,Zo=(o(Ko,Yo=Q),Object.defineProperty(Ko.prototype,"rootNode",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(Ko.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),Ko.prototype.flyAnim=function(o,t,n){},Ko.prototype.onShow=function(n){var e=this,o=this.FormData,i=o.imgNum,r=(o.coinNum,o.starVec),s=o.endVec,a=o.callback;console.log("showCoin",n),cc.loader.loadRes(moosnow.entity.prefabPath+"coin",cc.Prefab,function(){for(var o=0;o<i;o++){var t=moosnow.entity.showEntity("coin",e.rootNode,{x:h.randomNumBoth(r.x-n.randomX,r.x+n.randomX),y:h.randomNumBoth(r.y-n.randomY,r.y+n.randomY)});e.flyAnim(t,s,a)}e.scheduleOnce(function(){e.FormData.hideForm&&moosnow.ui.hideUIForm(ao.CoinForm,null),h.isFunction(a)&&a()},2.1)})},Ko);function Ko(){return null!==Yo&&Yo.apply(this,arguments)||this}var Jo,$o=(o(ot,Jo=Zo),Object.defineProperty(ot.prototype,"rootNode",{get:function(){return cc.Canvas.instance.node},enumerable:!0,configurable:!0}),ot.prototype.flyAnim=function(o,t,n){var e=o.node,i=h.randomNumBoth(0,100)/200;e.active=!0,e.runAction(cc.sequence(cc.delayTime(i),cc.spawn(cc.moveTo(1,t.x,t.y),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){moosnow.entity.hideEntity(o,null,!0)})))},ot);function ot(){return null!==Jo&&Jo.apply(this,arguments)||this}var tt,nt=(o(et,tt=Q),et.prototype.initForm=function(o){this.initProperty(o)},et.prototype.addEvent=function(){},et.prototype.removeEvent=function(){},et.prototype.onReceive=function(){var t=this;this.mCheckedVideo?moosnow.platform.showVideo(function(o){o==moosnow.VIDEO_STATUS.END?t.openEndForm(5*t.mLevelCoinNum):o==moosnow.VIDEO_STATUS.ERR?moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR):moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND)}):this.openEndForm(this.mLevelCoinNum)},et.prototype.openEndForm=function(o){moosnow.ui.hideUIForm(ao.TotalForm,null),moosnow.ui.pushUIForm(ao.EndForm,u({coin:o,level:this.FormData.level,levelShareCoinNum:this.mLevelShareCoinNum},this.FormData))},et.prototype.onShareChange=function(){this.mCheckedVideo=!this.mCheckedVideo,this.changeUI()},et.prototype.changeUI=function(){},et.prototype.onShow=function(o){var t=o.coin,n=o.shareCoin;this.mLevelCoinNum=t,this.mLevelShareCoinNum=n,this.levelCoin.string=""+h.formatMoney(this.mLevelCoinNum),this.addEvent(),this.mCheckedVideo=!0,this.changeUI(),moosnow.platform.stopRecord(),moosnow.platform.showBanner()},et.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},et);function et(){var o=null!==tt&&tt.apply(this,arguments)||this;return o.checked=null,o.unchecked=null,o.btnReceive=null,o.levelCoin=null,o.mCheckedVideo=!0,o.mLevelCoinNum=0,o.mLevelShareCoinNum=0,o}var it,rt=(o(st,it=nt),st.prototype.addEvent=function(){this.unchecked.node.on(oo.TOUCH_END,this.onShareChange,this),this.btnReceive.node.on(oo.TOUCH_END,this.onReceive,this)},st.prototype.removeEvent=function(){this.unchecked.node.off(oo.TOUCH_END,this.onShareChange,this),this.btnReceive.node.off(oo.TOUCH_END,this.onReceive,this)},st.prototype.changeUI=function(){this.mCheckedVideo?this.checked.node.active=!0:this.checked.node.active=!1},st);function st(){return null!==it&&it.apply(this,arguments)||this}var at,ht=(o(ct,at=Q),Object.defineProperty(ct.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),ct.prototype.initForm=function(o){this.initProperty(o),this.addListener()},ct.prototype.addListener=function(){},ct.prototype.removeListener=function(){},ct.prototype.onBack=function(){this.FormData.hideForm&&moosnow.ui.hideUIForm(ao.ShareForm,null),this.FormData&&this.FormData.callback&&this.FormData.callback()},ct.prototype.onShow=function(){this.btnShare.active=!0,this.mLevelShareCoinNum=this.FormData.shareCoinNum,this.txtCoinNum.string=""+h.formatMoney(this.mLevelShareCoinNum),moosnow.platform.stopRecord()},ct.prototype.onShareVideo=function(){var n=this;this.mShareing||(this.mShareing=!0,moosnow.http.getAllConfig(function(o){var t;o&&1!=o.shareFormVideo?2==o.shareFormVideo?n.onShare():(t=o&&o.shareFormVideoPrecent?parseFloat(o.shareFormVideoPrecent):.5,h.randomNumBoth(0,100)/100<t?n.onVideo():n.onShare()):n.onVideo()}))},ct.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(o){t.mShareing=!1,o==moosnow.VIDEO_STATUS.END?(t.FormData.hideForm&&moosnow.ui.hideUIForm(ao.ShareForm,null),t.FormData&&t.FormData.videoCallback&&t.FormData.videoCallback()):o==moosnow.VIDEO_STATUS.NOTEND?moosnow.ui.showToast(moosnow.VIDEO_MSG.NOTEND):moosnow.ui.showToast(moosnow.VIDEO_MSG.ERR)})},ct.prototype.onShare=function(){var t=this;moosnow.platform.share({channel:moosnow.SHARE_CHANNEL.VIDEO},function(o){t.mShareing=!1,o?(t.FormData.hideForm&&moosnow.ui.hideUIForm(ao.ShareForm,null),t.FormData&&t.FormData.shareCallback&&t.FormData.shareCallback(o)):moosnow.ui.showToast("分享未完成"),console.log("分享结束",o)})},ct);function ct(){var o=null!==at&&at.apply(this,arguments)||this;return o.btnShare=null,o.btnBack=null,o.txtCoinNum=null,o.isMask=!0,o.mLevelShareCoinNum=0,o.mShareing=!1,o}var lt,ut=(o(mt,lt=ht),mt.prototype.addListener=function(){this.btnBack.on(oo.TOUCH_END,this.onBack,this),this.btnShare.on(oo.TOUCH_END,this.onShareVideo,this)},mt.prototype.removeListener=function(){this.btnBack.off(oo.TOUCH_END,this.onBack,this),this.btnShare.off(oo.TOUCH_END,this.onShareVideo,this)},mt);function mt(){return null!==lt&&lt.apply(this,arguments)||this}var pt,dt=(o(ft,pt=Io),ft.prototype.willShow=function(o){var r=this;pt.prototype.willShow.call(this,o),this.addListener(),moosnow.http.request(this.url+"/avatar.json",{},"GET",function(o){var e=o.name[h.randomNumBoth(0,o.name.length-1)],i=h.randomNumBoth(o.logo[0],o.logo[1]);moosnow.ad.getAd(function(o){var t=h.randomNumBoth(0,o.indexLeft.length-1),n=o.indexLeft[t];r.initBox(e,r.url+"/"+i+".png",n.title),r.mCurrentAdRow=n})}),moosnow.http.getAllConfig(function(o){var t;!o||0<(t=isNaN(o.inviteDelayClose)?0:parseFloat(o.inviteDelayClose))&&(r.unscheduleOnce(r.onCancel),r.scheduleOnce(r.onCancel,t))})},ft.prototype.willHide=function(){this.unscheduleOnce(this.onCancel),this.removeListener()},ft.prototype.initBox=function(o,t,n){},ft.prototype.addListener=function(){},ft.prototype.removeListener=function(){},ft.prototype.onConfirm=function(){this.onCancel(),moosnow.platform.navigate2Mini(this.mCurrentAdRow)},ft.prototype.onCancel=function(){moosnow.entity.hideAllEntity("inviteBox",null)},ft);function ft(){var o=null!==pt&&pt.apply(this,arguments)||this;return o.logo=null,o.gameName=null,o.userName=null,o.btnConfirm=null,o.btnCancel=null,o.url="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/Avatar",o}var yt,wt="你的好友{0}邀请你加入",vt=(o(Ft,yt=dt),Ft.prototype.addListener=function(){this.btnConfirm.on(oo.TOUCH_END,this.onConfirm,this),this.btnCancel.on(oo.TOUCH_END,this.onCancel,this)},Ft.prototype.removeListener=function(){this.btnConfirm.off(oo.TOUCH_END,this.onConfirm,this),this.btnCancel.off(oo.TOUCH_END,this.onCancel,this)},Ft.prototype.initBox=function(o,t,n){var e=this;cc.loader.load(t,function(o,t){var n;o||(n=new cc.SpriteFrame(t),e.logo.getComponent(cc.Sprite).spriteFrame=n)}),this.userName.string=h.format(wt,o),this.gameName.string=n},Ft);function Ft(){return null!==yt&&yt.apply(this,arguments)||this}var gt=(Ct.prototype.newViewItem=function(){return new Lo},Object.defineProperty(Ct.prototype,"inviteBox",{get:function(){return this.mAdInviteBox||(this.mAdInviteBox=new vt),this.mAdInviteBox},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"adForm",{get:function(){return this.mAdForm||(this.mAdForm=new ro),this.mAdForm},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"adFormQQ",{get:function(){return this.mAdForm||(this.mAdForm=new ro),this.mAdFormQQ},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"mistouchForm",{get:function(){return this.mMistouchForm||(this.mMistouchForm=new po),this.mMistouchForm},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"mistouchFormTT",{get:function(){return this.mMistouchFormTT||(this.mMistouchFormTT=new go),this.mMistouchFormTT},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"mistouchFormQQ",{get:function(){return this.mMistouchFormQQ||(this.mMistouchFormQQ=new No),this.mMistouchFormQQ},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"prizeForm",{get:function(){return this.mPrizeForm||(this.mPrizeForm=new Ro),this.mPrizeForm},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"prizeFormTT",{get:function(){return this.mPrizeFormTT||(this.mPrizeFormTT=new qo),this.mPrizeFormTT},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"coinForm",{get:function(){return this.mCoinForm||(this.mCoinForm=new $o),this.mCoinForm},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"totalForm",{get:function(){return this.mTotalForm||(this.mTotalForm=new rt),this.mTotalForm},enumerable:!0,configurable:!0}),Object.defineProperty(Ct.prototype,"shareFormTT",{get:function(){return this.mShareForm||(this.mShareForm=new ut),this.mShareForm},enumerable:!0,configurable:!0}),Ct);function Ct(){}var Pt=(Ot.prototype.showToast=function(o){moosnow.ui.showToast(o)},Ot.prototype.preloadAd=function(){moosnow.ui.pushUIForm(ao.AdForm,{showAd:moosnow.AD_POSITION.NONE},null)},Ot.prototype.showAd=function(o,t,n){var e;void 0===o&&(o=S),void 0===n&&(n=999),moosnow.getAppPlatform()==moosnow.APP_PLATFORM.BYTEDANCE&&moosnow.platform.isIphone()?console.log("头条iphone 不显示广告"):(e=moosnow.ui.getUIFrom(ao.AdForm))?(moosnow.event.sendEventImmediately(A.AD_VIEW_CHANGE,{showAd:o,callback:t,zIndex:n}),e.node.zIndex=n):moosnow.ui.pushUIForm(ao.AdForm,{showAd:moosnow.AD_POSITION.NONE},function(){moosnow.ui.getUIFrom(ao.AdForm).node.zIndex=n,moosnow.event.sendEventImmediately(A.AD_VIEW_CHANGE,{showAd:o,callback:t,zIndex:n})})},Ot.prototype.showCoin=function(o){moosnow.ui.pushUIForm(ao.CoinForm,o)},Ot.prototype.showMistouch=function(o){moosnow.ui.pushUIForm(ao.MistouchForm,o,function(){})},Ot.prototype.showPrize=function(o){moosnow.ui.pushUIForm(ao.PrizeForm,o,function(){})},Ot.prototype.showTotal=function(o){moosnow.ui.pushUIForm(ao.TotalForm,o)},Ot.prototype.showEnd=function(o){moosnow.ui.pushUIForm(ao.EndForm,o)},Ot.prototype.showShare=function(o){moosnow.ui.pushUIForm(ao.ShareForm,o)},Ot);function Ot(){}var bt,At=(o(Nt,bt=c),Nt.prototype.initPos=function(){},Nt.prototype.move=function(o,t,n){var e=this;this.moveNode=o,this.distince=t,this.showBanner=n,this.initPos();var i=moosnow.data.getCurrentMisTouchCount();moosnow.data.setCurrentMisTouchCount(i+1),moosnow.http.getAllConfig(function(o){isNaN(o.mistouchPosSecond)||(e.mMistouchPosSecond=parseFloat(o.mistouchPosSecond)),moosnow.http.getMistouchPosNum(function(o){e.mMistouchPosNum=o,e.movePosition()})})},Nt.prototype.setPosition=function(o,t,n,e){},Nt.prototype.movePosition=function(){var o,t=this;0==this.mMistouchPosNum?(this.setPosition(this.moveNode,!0,this.pos1.x,this.pos1.y),this.showBanner&&moosnow.platform.showBanner()):moosnow.data.getCurrentMisTouchCount()%this.mMistouchPosNum==0&&(o=this.copyNode(),this.scheduleOnce(function(){t.onPosCallback(o)},this.mMistouchPosSecond))},Nt.prototype.copyNode=function(){},Nt.prototype.onPosCallback=function(o){this.showBanner&&moosnow.platform.showBanner(),this.removeTemp(o),this.setPosition(this.moveNode,!0,this.pos1.x,this.pos1.y),this.unscheduleOnce(this.onPosCallback)},Nt.prototype.removeTemp=function(o){},Nt);function Nt(){var o=null!==bt&&bt.apply(this,arguments)||this;return o.moveNode=null,o.distince=-100,o.showBanner=!0,o.pos1=cc.Vec2.ZERO,o.pos2=cc.Vec2.ZERO,o.mMistouchPosNum=0,o.mMistouchPosSecond=2,o}var Tt,St=(o(It,Tt=At),It.prototype.initPos=function(){0==this.pos1.x&&0==this.pos1.y&&(this.pos1=this.moveNode.position.clone(),this.pos2=this.pos1.add(new cc.Vec2(0,this.distince))),this.moveNode.active=!1},It.prototype.setPosition=function(o,t,n,e){o.active=t,o.x=n,o.y=e},It.prototype.copyNode=function(){var o=cc.instantiate(this.moveNode);return o.active=!0,this.moveNode.parent.addChild(o),o.x=this.pos2.x,o.y=this.pos2.y,o},It.prototype.removeTemp=function(o){o.active=!1,o.removeFromParent(),o.destroy()},It);function It(){var o=null!==Tt&&Tt.apply(this,arguments)||this;return o.moveNode=null,o.distince=-100,o.showBanner=!0,o.pos1=cc.Vec2.ZERO,o.pos2=cc.Vec2.ZERO,o}var Et,_t=(o(Dt,Et=c),Dt.prototype.show=function(o,t){void 0===t&&(t=3),o&&(this.mNode=o,this.hideNode(),this.schedule(this.showNode,t))},Dt.prototype.hide=function(o,t){void 0===t&&(t=3),this.mNode=o,this.schedule(this.hideNode,t)},Dt.prototype.clear=function(){this.unschedule(this.showNode),this.unschedule(this.hideNode)},Dt.prototype.hideNode=function(){this.mNode.active=!1},Dt.prototype.showNode=function(){this.mNode.active=!0,this.unschedule(this.showNode)},Dt);function Dt(){var o=null!==Et&&Et.apply(this,arguments)||this;return o.mNode=null,o}var xt,Ut=(o(Lt,xt=c),Object.defineProperty(Lt.prototype,"DelayMove",{get:function(){return this.mDelayMove||(this.mDelayMove=new St),this.mDelayMove},enumerable:!0,configurable:!0}),Object.defineProperty(Lt.prototype,"DelayShow",{get:function(){return this.mDelayShow||(this.mDelayShow=new _t),this.mDelayShow},enumerable:!0,configurable:!0}),Lt);function Lt(){return xt.call(this)||this}var Bt=(kt.create=function(o){return new o},Object.defineProperty(kt.prototype,"hideForm",{get:function(){return this._hideForm},set:function(o){this._hideForm=o},enumerable:!0,configurable:!0}),kt);function kt(){this._hideForm=!0,this.extraData={}}var Ht,Vt=(o(Mt,Ht=Bt),Mt);function Mt(){var o=null!==Ht&&Ht.apply(this,arguments)||this;return o.coinNum=0,o.videoNum=0,o.shareCoinNum=0,o.isWin=!0,o.level="1",o}var Rt,jt=(o(zt,Rt=Bt),zt);function zt(){var o=null!==Rt&&Rt.apply(this,arguments)||this;return o.showCoinAnim=!0,o.coinOptions=null,o.baseNum=1,o.callback=null,o.shareCallback=null,o.videoCallback=null,o}var Wt,Qt=(o(Gt,Wt=Bt),Gt);function Gt(){var o=null!==Wt&&Wt.apply(this,arguments)||this;return o.shareCoinNum=0,o}var qt,Xt=(o(Yt,qt=Bt),Yt);function Yt(){var o=null!==qt&&qt.apply(this,arguments)||this;return o.coinNum=0,o.videoNum=0,o.shareCoinNum=0,o}var Zt,Kt=(o(Jt,Zt=Bt),Jt);function Jt(){var o=null!==Zt&&Zt.apply(this,arguments)||this;return o.type=1,o}var $t,on=function(){this.x=0,this.y=0,this.z=0},tn=(o(nn,$t=Bt),nn);function nn(){var o=null!==$t&&$t.apply(this,arguments)||this;return o.randomY=100,o.randomX=100,o.imgNum=30,o.coinNum=0,o.starVec=new on,o.endVec=new on,o}function en(){this.showOptions={endOptions:Vt,prizeOptions:jt,shareOptions:Qt,totalOptions:Xt,touchOptions:Kt,coinOptions:tn},this.mForm=new Pt,this.mControl=new gt,this.mEntity=new p,this.mDelay=new Ut,window.moosnow?(this.initUI(),this.initEntity(),window.moosnow.ui=this.ui,window.moosnow.entity=this.entity,window.moosnow.form=this.form,window.moosnow.control=this.control,window.moosnow.delay=this.delay):console.log("没有引入主SDK")}new(en.prototype.initUI=function(){this.mUi=new O},en.prototype.initEntity=function(){this.mEntity=new y},Object.defineProperty(en.prototype,"ui",{get:function(){return this.mUi},enumerable:!0,configurable:!0}),Object.defineProperty(en.prototype,"form",{get:function(){return this.mForm},set:function(o){this.mForm=o},enumerable:!0,configurable:!0}),Object.defineProperty(en.prototype,"control",{get:function(){return this.mControl},set:function(o){this.mControl=o},enumerable:!0,configurable:!0}),Object.defineProperty(en.prototype,"entity",{get:function(){return this.mEntity},set:function(o){this.mEntity=o},enumerable:!0,configurable:!0}),Object.defineProperty(en.prototype,"delay",{get:function(){return this.mDelay},set:function(o){this.mDelay=o},enumerable:!0,configurable:!0}),en)}();
